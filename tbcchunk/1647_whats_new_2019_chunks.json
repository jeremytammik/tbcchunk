[
  {
    "original_filename": "1647_whats_new_2019",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<!--\n<script src=\"run_prettify.js\" type=\"text/javascript\"></script>\n<script src=\"https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js\" type=\"text/javascript\"></script>\n-->\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n<style>\n  ul.toc {\n    list-style-type: none;\n  }\n</style>\n</head>\n\n<!---\n\n- what's new -- /a/doc/revit/tbc/doc/Revit_Platform_API_Changes_and_Additions_2019_0.docx\n\nWhat's New in the Revit 2019 API @AutodeskRevit #RevitAPI #bim #dynamobim @AutodeskForge #ForgeDevCon http://bit.ly/rvt2019apinews\n\nThe Revit 2019 API includes numerous exciting enhancements for add-in developers. Many relate directly to explicit developer wishes and requests\n&ndash; Information sources\n&ndash; Installation and migration from previous versions\n&ndash; What's new in previous versions\n&ndash; What's new in the Revit 2019 API\n&ndash; API Changes\n&ndash; API Additions...\n\n--->"
  },
  {
    "original_filename": "1647_whats_new_2019",
    "header_text": "What's New in the Revit 2019 API",
    "local_header_href": "#whats-new-in-the-revit-2019-api",
    "chunk_text": "### What's New in the Revit 2019 API\n\nThe Revit 2019 API includes numerous exciting enhancements for add-in developers. Many relate directly to explicit developer wishes and requests:\n\n- [Information sources](#1) \n- [Installation and migration from previous versions](#2) \n- [What's new in previous versions](#3) \n- [What's new in the Revit 2019 API &ndash; detailed ToC](#4) \n- [1. API Changes](#4.1) \n    - [1.1. .NET 4.7](#4.1.1) \n    - [1.2.  View Filters support OR operators and nesting](#4.1.2) \n    - [1.3. View.ViewName deprecated](#4.1.3) \n    - [1.4. UI API changes](#4.1.4) \n    - [1.5. Existing APIs now support open from cloud paths and C4R](#4.1.5) \n    - [1.6. BasicFileInfo changes](#4.1.6) \n    - [1.7. Asset-related API members deprecated](#4.1.7) \n    - [1.8. Double Pattern Support](#4.1.8) \n    - [1.9. Document.Title consistency](#4.1.9) \n    - [1.10. View printing & exporting &ndash; activation events behavioral change](#4.1.10) \n    - [1.11. Structural API change](#4.1.11) \n    - [1.12. Rebar API changes](#4.1.12) \n    - [1.13. MEP API changes](#4.1.13) \n    - [1.14. ProjectLocation changes](#4.1.14) \n    - [1.15. Building Site export removed](#4.1.15) \n    - [1.16. Obsolete API removal](#4.1.16) \n- [2. API Additions](#4.2) \n    - [2.1. Material API additions](#4.2.1) \n    - [2.2. Railing API additions](#4.2.2) \n    - [2.3. Find Element Dependencies](#4.2.3) \n    - [2.4. Dimension API additions](#4.2.4) \n    - [2.5. Set vertical alignment for text](#4.2.5) \n    - [2.6. BrowserOrganization API additions](#4.2.6) \n    - [2.7. Rebar API additions](#4.2.7) \n    - [2.8. Steel Fabrication API additions](#4.2.8) \n    - [2.9. MEP API additions](#4.2.9) \n    - [2.10. MEP Fabrication API additions](#4.2.10) \n    - [2.11. Analysis Visualization Framework API addition](#4.2.11) \n    - [2.12. IFC additions](#4.2.12) \n    - [2.13. Revit Link Additions](#4.2.13) \n    - [2.14. Export Additions](#4.2.14) \n    - [2.15. Access to add-in data paths](#4.2.15) \n    - [2.16. Site API additions](#4.2.16) \n    - [2.17. UI API additions](#4.2.17) \n\n\n####<a name=\"1\"></a>Information Sources\n\nThe highlights were pointed out in\nthe [DevDays Online Revit API news video recording](http://thebuildingcoder.typepad.com/blog/2018/02/devdays-keynote-manager-and-rex-extensions.html#2).\n\nThe information below is based on the contents of the *Revit Platform API Changes and Additions.docx* document included with\nthe [Revit 2019 SDK](http://thebuildingcoder.typepad.com/blog/2018/04/compiling-the-revit-2019-sdk-samples.html#3)\n&ndash; software developers kit &ndash; available from the Revit installation package and \nthe [Revit Developer Centre](https://www.autodesk.com/developer-network/platform-technologies/revit) (not posted yet, but coming soon).\n\nIt is also provided in the section on *What's New* in the Revit 2019 API help file `RevitAPI.chm` included with the SDK:\n\n<center>\n<img src=\"img/revit_2019_api_help.png\" alt=\"Revit 2019 API help on What's New\" width=\"431\"/>\n</center>\n\nFor convenient, easy and effective web searching, this blog post provides an online version of that information, both in pure HTML (below) as as a PDF document:\n\n- [Revit_Platform_API_Changes_and_Additions_2019.pdf](zip/Revit_Platform_API_Changes_and_Additions_2019.pdf)\n\nThe *What's New* section always provides very important information, both for discovering and exploring the newly added API functionality and for later reference.\n\nIf you encounter any issues migrating your existing add-ins between different versions, this is one of the first places to look.\n\nFor detailed information on all other aspects of the Revit API, please refer to the rest of the API documentation and samples provided in the SDK.\n\nThe most important things to install and always keep at hand are:\n\n- The Revit API help file `RevitAPI.chm`\n- The Visual Studio solution containing all the SDK samples, `Samples\\SDKSamples.sln`\n\nYou will need both of these constantly for research on how to solve specific Revit API programming tasks.\n\nMore in-depth official explanations and background information is provided by the\nonline [Revit API Developers Guide](http://help.autodesk.com/view/RVT/2019/ENU/?guid=Revit_API_Revit_API_Developers_Guide_html) included \nin the [Revit 2019 Help](http://help.autodesk.com/view/RVT/2019/ENU).\n\n####<a name=\"2\"></a>Installation and Migration From Previous Versions\n\nHere are the steps I performed so far setting up the Revit 2019 SDK and samples:\n\n- The [Revit 2019 SDK samples](http://thebuildingcoder.typepad.com/blog/2018/04/compiling-the-revit-2019-sdk-samples.html)\n- [RevitLookup](http://thebuildingcoder.typepad.com/blog/2018/04/revitlookup-2019-and-new-sdk-samples.html)\n- [The Building Coder samples](http://thebuildingcoder.typepad.com/blog/2018/04/forge-rvt-to-ifc-adn-xtra-tbc-and-adnrme-updates.html#2)\n- The [AdnRme MEP HVAC and electrical samples](http://thebuildingcoder.typepad.com/blog/2018/04/forge-rvt-to-ifc-adn-xtra-tbc-and-adnrme-updates.html#3)\n- The [AdnRevitApiLabsXtra training labs](http://thebuildingcoder.typepad.com/blog/2018/04/forge-rvt-to-ifc-adn-xtra-tbc-and-adnrme-updates.html#4)\n- The [RvtSamples add-in](http://thebuildingcoder.typepad.com/blog/2018/04/rvtsamples-2019.html)\n\n####<a name=\"3\"></a>What's New in Previous Versions\n\nHere are links to previous discussions of *What's New in the Revit API*:\n\n- [What's New in the Revit 2010 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2010-api.html)\n- [What's New in the Revit 2011 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2011-api.html)\n- [What's New in the Revit 2012 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2012-api.html)\n- [What's New in the Revit 2013 API](http://thebuildingcoder.typepad.com/blog/2013/03/whats-new-in-the-revit-2013-api.html)\n- [What's New in the Revit 2014 API](http://thebuildingcoder.typepad.com/blog/2013/04/whats-new-in-the-revit-2014-api.html)\n- [What's New in the Revit 2015 API](http://thebuildingcoder.typepad.com/blog/2014/04/whats-new-in-the-revit-2015-api.html)\n- [What's New in the Revit 2016 API](http://thebuildingcoder.typepad.com/blog/2015/04/whats-new-in-the-revit-2016-api.html)\n- [What's New in the Revit 2017 API](http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html)\n- [What's New in the Revit 2017.1 API](http://thebuildingcoder.typepad.com/blog/2016/11/whats-new-in-the-revit-20171-api.html)\n- [What's New in the Revit 2018 API](http://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html)\n- [Revit 2018.1 and the Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/08/revit-20181-and-the-visual-materials-api.html)\n- [Revit 2018.1.1 and 2018.1 API Docs Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html)\n- [Revit 2018.1 Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/11/modifying-material-visual-appearance.html)\n- [What's New in the Revit 2018.2 API](http://thebuildingcoder.typepad.com/blog/2017/12/whats-new-in-the-revit-20182-api.html)\n\n####<a name=\"4\"></a>What's New in the Revit 2019 API &ndash; Detailed ToC\n\nTable of Contents:\n\n<ul class=\"toc\">\n<li>1. <a href=\"#4.1\">API changes</a></li>\n<ul class=\"toc\">\n<li>1.1. <a href=\"#4.1.1\">.NET 4.7</a></li>\n<li>1.2. <a href=\"#4.1.2\">View Filters support OR operators and nesting</a></li>\n<ul class=\"toc\">\n<li>1.2.1. <a href=\"#4.1.2.1\">ParameterFilterElement API changes</a></li>\n<li>1.2.2. <a href=\"#4.1.2.2\">ElementLogicalFilter API addition</a></li>\n</ul>\n<li>1.3. <a href=\"#4.1.3\">View.ViewName deprecated</a></li>\n<li>1.4. <a href=\"#4.1.4\">UI API changes</a></li>\n<ul class=\"toc\">\n<li>1.4.1. <a href=\"#4.1.4.1\">Main window handle access</a></li>\n<li>1.4.2. <a href=\"#4.1.4.2\">Changes to PostableCommand enumeration</a></li>\n</ul>\n<li>1.5. <a href=\"#4.1.5\">Existing APIs now support open from cloud paths (Collaboration for Revit)</a></li>\n<ul class=\"toc\">\n<li>1.5.1. <a href=\"#4.1.5.1\">Document Open APIs support cloud paths</a></li>\n<li>1.5.2. <a href=\"#4.1.5.2\">Callback for conflict cases when opening from a cloud path</a></li>\n</ul>\n<li>1.6. <a href=\"#4.1.6\">BasicFileInfo changes</a></li>\n<li>1.7. <a href=\"#4.1.7\">Asset-related API members deprecated</a></li>\n<li>1.8. <a href=\"#4.1.8\">Double Pattern Support</a></li>\n<ul class=\"toc\">\n<li>1.8.1. <a href=\"#4.1.8.1\">Material API support for double patterns</a></li>\n<li>1.8.2. <a href=\"#4.1.8.2\">Support for overriding double patterns</a></li>\n<li>1.8.3. <a href=\"#4.1.8.3\">Support for double patterns for FilledRegion</a></li>\n</ul>\n<li>1.9. <a href=\"#4.1.9\">Document.Title consistency</a></li>\n<li>1.10. <a href=\"#4.1.10\">View printing & exporting &ndash; activation events behavioral change</a></li>\n<li>1.11. <a href=\"#4.1.11\">Structural API change</a></li>\n<li>1.12. <a href=\"#4.1.12\">Rebar API changes</a></li>\n<li>1.13. <a href=\"#4.1.13\">MEP API changes</a></li>\n<li>1.14. <a href=\"#4.1.14\">ProjectLocation changes</a></li>\n<li>1.15. <a href=\"#4.1.15\">Building Site export removed</a></li>\n<li>1.16. <a href=\"#4.1.16\">Obsolete API removal</a></li>\n</ul>\n<li>2. <a href=\"#4.2\">API additions</a></li>\n<ul class=\"toc\">\n<li>2.1. <a href=\"#4.2.1\">Material API additions</a></li>\n<ul class=\"toc\">\n<li>2.1.1. <a href=\"#4.2.1.1\">Editing the properties of an Appearance Asset</a></li>\n<li>2.1.2. <a href=\"#4.2.1.2\">Editing AssetProperty values</a></li>\n<li>2.1.3. <a href=\"#4.2.1.3\">Connected Assets</a></li>\n<li>2.1.4. <a href=\"#4.2.1.4\">Validation</a></li>\n<li>2.1.5. <a href=\"#4.2.1.5\">Schemas & Property names</a></li>\n<li>2.1.6. <a href=\"#4.2.1.6\">Utilities</a></li>\n</ul>\n<li>2.2. <a href=\"#4.2.2\">Railing API additions</a></li>\n<ul class=\"toc\">\n<li>2.2.1. <a href=\"#4.2.2.1\">Non-Continuous Rail Structure</a></li>\n<li>2.2.2. <a href=\"#4.2.2.2\">Baluster Placement</a></li>\n</ul>\n<li>2.3. <a href=\"#4.2.3\">Find Element Dependencies</a></li>\n<li>2.4. <a href=\"#4.2.4\">Dimension API additions</a></li>\n<li>2.5. <a href=\"#4.2.5\">Set vertical alignment for text</a></li>\n<li>2.6. <a href=\"#4.2.6\">BrowserOrganization API additions</a></li>\n<li>2.7. <a href=\"#4.2.7\">Rebar API additions</a></li>\n<ul class=\"toc\">\n<li>2.7.1. <a href=\"#4.2.7.1\">BarTypeDiameterOptions</a></li>\n<li>2.7.2. <a href=\"#4.2.7.2\">GetDistributionPath()</a></li>\n<li>2.7.3. <a href=\"#4.2.7.3\">RebarUpdateCurvesData</a></li>\n<li>2.7.4. <a href=\"#4.2.7.4\">RebarShapes</a></li>\n<li>2.7.5. <a href=\"#4.2.7.5\">Workshop Instructions</a></li>\n<li>2.7.6. <a href=\"#4.2.7.6\">RebarFreeFormAccessor Additions</a></li>\n</ul>\n<li>2.8. <a href=\"#4.2.8\">Steel Fabrication API additions</a></li>\n<ul class=\"toc\">\n<li>2.8.1. <a href=\"#4.2.8.1\">SteelElementProperties &ndash; linking between Revit elements and steel fabrication elements</a></li>\n<li>2.8.2. <a href=\"#4.2.8.2\">Custom steel connections &ndash; API additions</a></li>\n</ul>\n<li>2.9. <a href=\"#4.2.9\">MEP API additions</a></li>\n<ul class=\"toc\">\n<li>2.9.1. <a href=\"#4.2.9.1\">MEPCurveType Shape</a></li>\n<li>2.9.2. <a href=\"#4.2.9.2\">Mechanical Equipment Set API</a></li>\n<li>2.9.3. <a href=\"#4.2.9.3\">Hydraulic Separation API</a></li>\n</ul>\n<li>2.10. <a href=\"#4.2.10\">MEP Fabrication API additions</a></li>\n<ul class=\"toc\">\n<li>2.10.1. <a href=\"#4.2.10.1\">Exporting fabrication job files</a></li>\n<li>2.10.2. <a href=\"#4.2.10.2\">API for load and unload of one-off fabrication parts from loose item files</a></li>\n<li>2.10.3. <a href=\"#4.2.10.3\">API for version history of parts</a></li>\n<li>2.10.4. <a href=\"#4.2.10.4\">API for part swap out information</a></li>\n<li>2.10.5. <a href=\"#4.2.10.5\">Centerline length API</a></li>\n</ul>\n<li>2.11. <a href=\"#4.2.11\">Analysis Visualization Framework API addition</a></li>\n<li>2.12. <a href=\"#4.2.12\">IFC additions</a></li>\n<li>2.13. <a href=\"#4.2.13\">Revit Link Additions</a></li>\n<li>2.14. <a href=\"#4.2.14\">Export Additions</a></li>\n<li>2.15. <a href=\"#4.2.15\">Access to add-in data paths</a></li>\n<li>2.16. <a href=\"#4.2.16\">Site API additions</a></li>\n<li>2.17. <a href=\"#4.2.17\">UI API additions</a></li>\n<ul class=\"toc\">\n<li>2.17.1. <a href=\"#4.2.17.1\">BeforeExecutedEventArgs Cancellation</a></li>\n</ul>\n</ul>\n</ul>\n\n<p/>\n\n<center>\n<div style=\"border-style:solid; border-width:2px 0px 2px 0px\">\n<a name=\"4.1\"></a><h3 style=\"font-weight: bold\">API Changes</h3>\n</div>\n</center>\n\n<p/>\n\n####<a name=\"4.1.1\"></a>1.1. .NET 4.7\n\nRevit's API assemblies are built using .NET 4.7. At a minimum, add-ons will need to target .NET 4.7 for Revit 2019.\n\n####<a name=\"4.1.2\"></a>1.2.  View Filters support OR operators and nesting\n\n####<a name=\"4.1.2.1\"></a>1.2.1. ParameterFilterElement API changes\n\nView filters now support multiple nested levels of combinations of criteria joined with either \"AND\" or \"OR\". In the API, an ElementFilter hierarchy is replacing the use of lists of FilterRules previously obtained from ParameterFilterElement. Several methods are deprecated and replaced. Note that the deprecated methods will still function as before when accessing the criteria contained within a filter joined by a single AND, but cannot function as expected when accessing more complicated sets of criteria. The new method:\n\n- ParameterFilterElement.UsesConjunctionOfFilterRules()\n\ncan be used to check if a ParameterFilterElement uses a conjunction of filter rules (without any logical OR operations), as was always the case before Revit release 2019. This function is also deprecated, as are all functions related to the use of FilterRules in ParameterFilterElement.\n\n- Deprecated function &rarr; Replacement function &ndash; Notes\n- ParameterFilterElement.Create(Document, String, ICollection&lt;ElementId&gt;, IList&lt;FilterRule&gt;) &rarr; ParameterFilterElement.Create(Document, String, ICollection&lt;ElementId&gt;, ElementFilter) &ndash; The ElementFilter input now specifies the filtering rules. This allows combinations of filter rules using logical AND and OR operations. The ElementFilter must be either an ElementParameterFilter or an ElementLogicalFilter containing only ElementParameterFilters and other ElementLogicalFilters.\n- ParameterFilterElement.GetRules() &rarr; ParameterFilterElement.GetElementFilter() &ndash; The new function returns an ElementFilter representing the combination of filter rules used by the ParameterFilterElement. Note that logical combinations using both AND and OR operations are possible. GetRules() is applicable only to filters with rules conjoined with a single AND operation.\n- ParameterFilterElement.SetRules() &rarr; ParameterFilterElement.SetElementFilter() &ndash; The new function sets the ParameterFilterElement to contain an ElementFilter representing the combination of filter rules.\n- ParameterFilterElement.AllRuleParametersApplicable (IList&lt;FilterRule&gt;) &rarr; ParameterFilterElement.AllRuleParametersApplicable (ElementFilter) &ndash; The new function checks that the parameters of the rules used by the given ElementFilter are valid for this filter's categories.\n- ParameterFilterElement.AllRuleParametersApplicable (Document, ICollection&lt;ElementId&gt;, IList&lt;FilterRule&gt;) &rarr; ParameterFilterElement.AllRuleParametersApplicable (Document, ICollection&lt;ElementId&gt;, ElementFilter) &ndash; The new function checks that the parameters of the given ElementFilter (representing a combination of rules) are valid for the given set of categories\n- ParameterFilterElement.GetRuleParameter(FilterRule) &rarr; FilterRule.GetRuleParameter() &ndash; \n- ParameterFilterElement.GetRuleParameters() &rarr; ParameterFilterElement.GetElementFilterParameters() &ndash;\n\nThe new function:\n\n- ParameterFilterElement.ElementFilterIsAcceptableForParameterFilterElement()\n\ncan be used to check if an ElementFilter is suitable to be used for a view filter (it consists only of logical filters joining ElementParameterFilters in combination).\n\n####<a name=\"4.1.2.2\"></a>1.2.2. ElementLogicalFilter API addition\n\nThe new function:\n\n- ElementLogicalFilter.GetFilters()\n\nreturns the set of ElementFilters that are combined by the given ElementLogicalFilter. This is useful to read the contents of an ElementFilter obtained from a ParameterFilterElement.\n\n####<a name=\"4.1.3\"></a>1.3. View.ViewName deprecated\n\nThe property\n\n- DB.View.ViewName\n\nhas been deprecated. It was a duplication of Element.Name and this property should be used in its place.\n\n####<a name=\"4.1.4\"></a>1.4. UI API changes\n\n####<a name=\"4.1.4.1\"></a>1.4.1. Main window handle access\n\nTwo new properties allow access to the handle of the Revit main window:\n\n- Autodesk.Revit.UI.UIApplication.MainWindowHandle\n- Autodesk.Revit.UI.UIControlledApplication.MainWindowHandle\n\nThis handle should be used when displaying modal dialogs and message windows to insure that they are properly parented. Use these properties instead of System.Diagnostics.Process.GetCurrentProcess().MainWindowHandle, which is no longer a reliable method for retrieving the main window handle starting with Revit 2019.\n\n####<a name=\"4.1.4.2\"></a>1.4.2. Changes to PostableCommand enumeration\n\nSome commands were renamed or removed as a result of changes to Revit's windowing system:\n\n- PostableCommand.ReplicateWindow &rarr; N/A &ndash; This command is no longer available\n- PostableCommand.CascadeWindows &rarr; PostableCommand.TabViews\n- PostableCommand.TileWindows &rarr; PostableCommand.TileViews\n- PostableCommand.CloseHiddenWindows &rarr; PostableCommand.CloseInactiveViews\n\n####<a name=\"4.1.5\"></a>1.5. Existing APIs now support open from cloud paths (Collaboration for Revit)\n\n####<a name=\"4.1.5.1\"></a>1.5.1. Document Open APIs support cloud paths\n\nThe existing methods:\n\n- Application.OpenDocumentFile(ModelPath modelPath, OpenOptions openOptions)\n- UIApplication.OpenAndActivateDocument(ModelPath modelPath, OpenOptions openOptions, bool detachAndPrompt)\n\nand the new methods:\n\n- Application.OpenDocumentFile(ModelPath modelPath,OpenOptions openOptions, IOpenFromCloudCallback openFromCloudCallback)\n- UIApplication.OpenAndActivateDocument(ModelPath modelPath, OpenOptions openOptions, bool detachAndPrompt, IOpenFromCloudCallback openFromCloudCallback)\n\nnow offer the ability to open a C4R model from its location on the cloud. Obtain a relevant ModelPath representing the document from:\n\n- ModelPathUtils.ConvertCloudGUIDsToCloudPath(Guid, Guid)\n\nby inputting the project Guid and model Guid (which could be obtained from various Forge APIs).\n\n####<a name=\"4.1.5.2\"></a>1.5.2. Callback for conflict cases when opening from a cloud path\n\nThe callback method:\n\n- Autodesk.Revit.DB.IOpenFromCloudCallback.OnOpenConflict()\n\ncan be passed to the document open methods to gain to handle conflict cases. The method is passed an OpenConflictScenario value identifying the reason for the conflict (Rollback, Relinquished or OutOfDate) and should return an OpenConflictResult with the desired response (keep local changes, discard local changes and open the latest version or cancel).\n\nThe new class:\n\n- DefaultOpenFromCloudCallback\n\nprovides a default way to handle conflicts: it always discards the local change and gets the latest version from the cloud.\n\n####<a name=\"4.1.6\"></a>1.6. BasicFileInfo changes\n\nThe structure of BasicFileInfo storage has been changed. As a result, calling:\n\n- BasicFileInfo.Extract() \n\nfrom a version of Revit prior to Revit 2019 will result in an exception if it is called on a Revit 2019 or later file. The class and method documentation has been clarified to reflect this possibility that may occur again in the future.\n\nThe following BasicFileInfo property was deprecated and replaced:\n\n- SavedInVersion &rarr; Format &ndash; The new property contains only the file format indicator (the major release version such as \"2019\") used for saving the file. No build information or product information is included in this string, making it easier to use for comparisons or messaging.\n\nCalling BasicFileInfo.Extract() from Revit 2019 on any Revit file version should work as expected. Both SavedInVersion and Format should be populated for old and new files.\n\n####<a name=\"4.1.7\"></a>1.7. Asset-related API members deprecated\n\nAs a part of the introduction of new Appearance Asset editing API's, some members were deprecated and replaced:\n\n- Autodesk.Revit.DB.Visual.AssetProperties[String] &rarr; Autodesk.Revit.DB.Visual.AssetProperties.FindByName(String)\n- Autodesk.Revit.DB.Visual.AssetProperties[int] &rarr; Autodesk.Revit.DB.Visual.AssetProperties.Get(int)\n- Autodesk.Revit.DB.Visual.Asset.GetConnectedProperty(String) &rarr; Autodesk.Revit.DB.Visual.Asset.GetSingleConnectedAsset()\n- Autodesk.Revit.DB.Visual.Asset.GetConnectedPropertiesNames() &rarr; Autodesk.Revit.DB.Visual.Asset.GetSingleConnectedAsset()\n\n####<a name=\"4.1.8\"></a>1.8. Double Pattern Support\n\n####<a name=\"4.1.8.1\"></a>1.8.1. Material API support for double patterns\n\nWith the introduction of double patterns in materials Revit now distinguishes between a background and a foreground pattern. The existing properties for the patterns and colors of the surface and cut faces have been deprecated. New properties have been introduced for the background and foreground patterns and colors for both surface and cut faces. (The deprecated properties will return the same values as the new foreground versions.)\n\n- Deprecated property &rarr; Replacement/new properties\n- Material.SurfacePatternColor &rarr; Material.SurfaceForegroundPatternColor, Material.SurfaceBackgroundPatternColor\n- Material.SurfacePatternId  &rarr; Material.SurfaceForegroundPatternId, Material.SurfaceBackgroundPatternId\n- Material.CutPatternColor  &rarr; Material.CutForegroundPatternColor, Material.CutBackgroundPatternColor\n- Material.CutPatternId  &rarr; Material.CutForegroundPatternId, Material.CutBackgroundPatternId\n\n####<a name=\"4.1.8.2\"></a>1.8.2. Support for overriding double patterns\n\nSeveral methods and properties in the OverrideGraphicSettings class have been replaced with versions specific to the foreground or background pattern:\n\n- Deprecated method/property &rarr; Replacement/new property/method\n- OverrideGraphicSettings.SetProjectionFillColor &rarr; OverrideGraphicSettings.SetSurfaceForegroundPatternColor, OverrideGraphicSettings.SetSurfaceBackgroundPatternColor\n- OverrideGraphicSettings.ProjectionFillColor &rarr; OverrideGraphicSettings.SurfaceForegroundPatternColor, OverrideGraphicSettings.SurfaceBackgroundPatternColor\n- OverrideGraphicSettings.SetProjectionFillPatternId &rarr; OverrideGraphicSettings.SetSurfaceForegroundPatternId, OverrideGraphicSettings.SetSurfaceBackgroundPatternId\n- OverrideGraphicSettings.ProjectionFillPatternId &rarr; OverrideGraphicSettings.SurfaceForegroundPatternId, OverrideGraphicSettings.SurfaceBackgroundPatternId\n- OverrideGraphicSettings.SetProjectionFillPatternVisible &rarr; OverrideGraphicSettings.SetSurfaceForegroundPatternVisible, OverrideGraphicSettings.SetSurfaceBackgroundPatternVisible\n- OverrideGraphicSettings.IsProjectionFillPatternVisible &rarr; OverrideGraphicSettings.IsSurfaceForegroundPatternVisible, OverrideGraphicSettings.IsSurfaceBackgroundPatternVisible\n- OverrideGraphicSettings.SetCutFillColor &rarr; OverrideGraphicSettings.SetCutForegroundPatternColor, OverrideGraphicSettings.SetCutBackgroundPatternColor\n- OverrideGraphicSettings.CutFillColor &rarr; OverrideGraphicSettings.CutForegroundPatternColor, OverrideGraphicSettings.CutBackgroundPatternColor\n- OverrideGraphicSettings.SetCutFillPatternId &rarr; OverrideGraphicSettings.SetCutForegroundPatternId, OverrideGraphicSettings.SetCutBackgroundPatternId\n- OverrideGraphicSettings.CutFillPatternId &rarr; OverrideGraphicSettings.CutForegroundPatternId, OverrideGraphicSettings.CutBackgroundPatternId\n- OverrideGraphicSettings.SetCutFillPatternVisible &rarr; OverrideGraphicSettings.SetCutForegroundPatternVisible, OverrideGraphicSettings.SetCutBackgroundPatternVisible\n- OverrideGraphicSettings.IsCutFillPatternVisible &rarr; OverrideGraphicSettings.IsCutForegroundPatternVisible, OverrideGraphicSettings.IsCutBackgroundPatternVisible\n\n####<a name=\"4.1.8.3\"></a>1.8.3. Support for double patterns for FilledRegion\n\nThree properties in the FilledRegionType class have been deprecated and replaced to support double patterns:\n\n- Deprecated property &rarr; Replacement/new properties\n- FilledRegionType.Background &rarr; FilledRegionType.IsMasking\n- FilledRegionType.Color &rarr; FilledRegionType.ForegroundPatternColor, FilledRegionType.BackgroundPatternColor\n- FilledRegionType.FillPatternId &rarr; FilledRegionType.ForegroundPatternId, FilledRegionType.BackgroundPatternId\n\n####<a name=\"4.1.9\"></a>1.9. Document.Title consistency\n\nIn prior releases, the property:\n\n- Document.Title\n\nhonoured the Windows user setting requiring display of file extensions. The property has been changed to consistently return a title with no extension.\n\n####<a name=\"4.1.10\"></a>1.10. View printing & exporting &ndash; activation events behavioral change\n\nBecause of an improvement to Revit processing, views will no longer be activated prior to being printed or exported. This means that the ViewActivating and ViewActivated events are no longer triggered as each view is printed or exported from a set.\n\n####<a name=\"4.1.11\"></a>1.11. Structural API change\n\nThe following method has been deprecated:\n\n- Deprecated property &rarr; Replacement\n- StructuralConnectionHandler.SetDefaultPrimaryElement() &rarr; StructuralConnectionHandler.SetDefaultElementOrder()\n\n####<a name=\"4.1.12\"></a>1.12. Rebar API changes\n\nThe method:\n\n- Autodesk.Revit.DB.Structure.Rebar.GetShapeId()\n\nnow throws an exception if the rebar is a free-form which has multiple shapes (i.e., its WorkshopInstructions type is Bent.)\n\n####<a name=\"4.1.13\"></a>1.13. MEP API changes\n\nThe following members have been deprecated:\n\n- Deprecated property &rarr; Replacement &ndash; Notes\n- MEPAnalyticalConnectionType.GetAllTypes() &rarr; none &ndash; Use FilteredElementCollector to find elements that match this class.\n- Duct.IsLevelId() &rarr; none &ndash; Use GetElement() to check the element type\n- FlexDuct.IsLevelId() &rarr; none &ndash; Use GetElement() to check the element type\n- Pipe.IsLevelId() &rarr; none &ndash; Use GetElement() to check the element type\n- FlexPipe.IsLevelId() &rarr; none &ndash; Use GetElement() to check the element type\n\n####<a name=\"4.1.14\"></a>1.14. ProjectLocation changes\n\nThe original version of ProjectLocation.IsProjectLocationNameUnique checked for name uniqueness across the entire document. The replacement version only enforces uniqueness among the ProjectLocations belonging to a given SiteLocation.\n\n- Deprecated function &rarr; Replacement function\n- ProjectLocation.IsProjectLocationNameUnique(Document doc, String name) &rarr; ProjectLocation.IsProjectLocationNameUnique(Document doc, String name, ElementId siteLocationId)\n\n####<a name=\"4.1.15\"></a>1.15. Building Site export removed\n\nThe following method and class were removed:\n\n- BuildingSiteExportOptions\n- Document.Export(String,String,View3D, ViewPlan, BuildingSiteExportOptions)\n\ncorresponding to the removal of this capability from Revit itself.\n\n####<a name=\"4.1.16\"></a>1.16. Obsolete API removal\n\nThe following API members and classes which had previously been marked Obsolete have been removed in this release. Consult the API documentation from prior releases for information on the replacements to use:\n\n####<a name=\"4.1.16.1\"></a>Classes\n\n####<a name=\"4.1.16.2\"></a>Methods\n\n- Autodesk.Revit.Creation.Document.NewElectricalSystem(Autodesk.Revit.DB.Connector, Autodesk.Revit.DB.Electrical.ElectricalSystemType)\n- Autodesk.Revit.Creation.Document.NewElectricalSystem(System.Collections.Generic.ICollection&lt;Autodesk.Revit.DB.ElementId&gt;, Autodesk.Revit.DB.Electrical.ElectricalSystemType)\n- Autodesk.Revit.DB.Structure.Rebar.ComputeDrivingCurves()\n- Autodesk.Revit.DB.Structure.Rebar.GetBarPositionTransform()\n- Autodesk.Revit.DB.Structure.Rebar.GetDistributionPath()\n- Autodesk.Revit.DB.Structure.Rebar.ScaleToBox()\n- Autodesk.Revit.DB.Structure.Rebar.ScaleToBoxFor3D()\n- Autodesk.Revit.DB.Structure.Rebar.SetLayoutAsFixedNumber()\n- Autodesk.Revit.DB.Structure.Rebar.SetLayoutAsMaximumSpacing()\n- Autodesk.Revit.DB.Structure.Rebar.SetLayoutAsMinimumClearSpacing()\n- Autodesk.Revit.DB.Structure.Rebar.SetLayoutAsNumberWithSpacing()\n- Autodesk.Revit.DB.Structure.Rebar.SetLayoutAsSingle()\n- Autodesk.Revit.DB.Plumbing.PipeSettings.GetPressLossCalculationServerInfo()\n- Autodesk.Revit.DB.Plumbing.PipeSettings.SetPressLossCalculationServerInfo()\n- Autodesk.Revit.DB.ExternalResourceBrowserData.IsValidResouceName()\n\n####<a name=\"4.1.16.3\"></a>Properties\n\n- Autodesk.Revit.DB.Structure.Rebar.ArrayLength\n- Autodesk.Revit.DB.Structure.Rebar.BarsOnNormalSide\n- Autodesk.Revit.DB.Structure.Rebar.BaseFinishingTurns\n- Autodesk.Revit.DB.Structure.Rebar.Height\n- Autodesk.Revit.DB.Structure.Rebar.MultiplanarDepth\n- Autodesk.Revit.DB.Structure.Rebar.Normal\n- Autodesk.Revit.DB.Structure.Rebar.Pitch\n- Autodesk.Revit.DB.Structure.Rebar.RebarShapeId\n- Autodesk.Revit.DB.Structure.Rebar.TopFinishingTurns\n- Autodesk.Revit.DB.ProjectLocation.ProjectPosition\n- Autodesk.Revit.DB.ProjectLocation.SitePosition\n\n<center>\n<div style=\"border-style:solid; border-width:2px 0px 2px 0px\">\n<a name=\"4.2\"></a><h3 style=\"font-weight: bold\">API Additions</h3>\n</div>\n</center>\n\n####<a name=\"4.2.1\"></a>2.1. Material API additions\n\n####<a name=\"4.2.1.1\"></a>2.1.1. Editing the properties of an Appearance Asset\n\nNew Revit API capabilities have been introduced to edit the properties contained in an appearance asset of a material. These properties appear in the Appearance tab of the Materials dialog and govern the appearance of the material in realistic views and rendering.\nEditing the properties in an appearance Asset requires establishment of an edit scope. The new class\n\n- Autodesk.Revit.DB.Visual.AppearanceAssetEditScope\n\nallows an application to create and maintain an editing session for an appearance asset. The scope provides access to an editable Asset object whose properties may be changed. Once all of the desired changes have been made to the asset's properties, the edit scope should be committed, which causes the changes to be sent back into the document. (This is the only part of the process when a transaction must be opened).\n\nThe new class has the following methods:\n\n- AppearanceAssetEditScope.Start() &ndash; Starts the edit scope for the asset contained in a particular AppearanceAssetElement. The editable Asset is returned from this method.\n- AppearanceAssetEditScope.Commit() &ndash; Finishes the edit scope: all changes made during the edit scope will be committed. Provides an option to forces the update of all open views.\n- AppearanceAssetEditScope.Cancel() &ndash; Cancels the edit scope and discards any changes.\n\n####<a name=\"4.2.1.2\"></a>2.1.2. Editing AssetProperty values\n\nThe following properties are now writeable from within an AppearanceAssetEditScope, to support modification of an asset property's stored value:\n\n- AssetPropertyString.Value\n- AssetPropertyBoolean.Value\n- AssetPropertyInteger.Value\n- AssetPropertyDouble.Value\n- AssetPropertyFloat.Value\n- AssetPropertyEnum.Value\n- AssetPropertyDistance.Value\n\nIn addition, the following new methods have been added to support modification of property values:\n\n- AssetPropertyDoubleArray3d.SetValueAsXYZ()\n- AssetPropertyDoubleArray4d.SetValueAsDoubles()\n- AssetPropertyDoubleArray4d.SetValueAsColor()\n\nAssetPropertyList now has new methods to allow changes to the members of the list:\n\n- AssetPropertyList.AddNewAssetPropertyDouble()\n- AssetPropertyList.InsertNewAssetPropertyDouble()\n- AssetPropertyList.AddNewAssetAsColor()\n- AssetPropertyList.InsertNewAssetAsColor()\n- AssetPropertyList.AddNewAssetPropertyInteger()\n- AssetPropertyList.InsertNewAssetPropertyInteger()\n- AssetPropertyList.RemoveAssetProperty()\n\n####<a name=\"4.2.1.3\"></a>2.1.3. Connected Assets\n\nConnected assets are associated to properties in appearance assets, and represent subordinate objects encapsulating a collection of related properties. One example of a connected asset is the \"Unified Bitmap\" representing an image and its mapping parameters and values. AssetProperty offers new methods to provide the ability to modify, add or delete the asset connected to a property:\n\n- AssetProperty.GetSingleConnectedAsset() &ndash; Gets the single connected asset of this property.\n- AssetProperty.RemoveConnectedAsset() &ndash; Removes the single connected asset of this property.\n- AssetProperty.AddConnectedAsset (String schemaId) &ndash; Create a new default asset of schema type and connects it to this property.\n- AssetProperty.AddCopyAsConnectedAsset() &ndash; Connects the property to a copy of the asset.\n\n####<a name=\"4.2.1.4\"></a>2.1.4. Validation\n\nInputs to change the value of asset properties are validated against the requirements of the associated schema. \nThe new methods:\n\n- AssetPropertyString.IsValidValue(String)\n- AssetPropertyInteger.IsValidValue (int)\n- AssetPropertyEnum.IsValidValue (int)\n- AssetPropertyDouble.IsValidValue (double)\n- AssetPropertyFloat.IsValidValue (float)\n- AssetPropertyDistance.IsValidValue (double)\n- AssetPropertyDoubleArray3d.IsValidValue (XYZ)\n- AssetPropertyDoubleArray4d.IsValidValue (IList&lt;double&gt;)\n- AssetPropertyDoubleArray4d.IsValidValue (Color)\n\nidentify if the input value is a valid value that can be set to the given asset property.\n\nThe new method:\n\n- AssetProperty.IsEditable()\n\nidentifies the AssetProperty can currently be edited.\n\n####<a name=\"4.2.1.5\"></a>2.1.5. Schemas & Property names\n\nAppearance asset properties are aligned with specific schemas. Each schema contains necessary properties which define how the appearance of the material will be generated. There are 14 standard material schemas:\n\n- Ceramic\n- Concrete\n- Generic\n- Glazing\n- Hardwood\n- MasonryCMU\n- Metal\n- MetallicPaint\n- Mirror\n- PlasticVinyl\n- SolidGlass\n- Stone\n- WallPaint\n- Water\n\nIn addition, there are 5 schemas representing \"advanced\" materials &ndash; these may be encountered as a result of import from other Autodesk products:\n\n- AdvancedLayered\n- AdvancedMetal\n- AdvancedOpaque\n- AdvancedTransparent\n- AdvancedWood\n\nFinally, there are 10 schemas used for the aspects of the connected assets:\n\n- BumpMap\n- Checker\n- Gradient\n- Marble\n- Noise\n- Speckle\n- Tile\n- UnifiedBitmap\n- Wave\n- Wood\n\nThe new method:\n\n- AssetProperty.IsValidSchemaIdentifier(String schemaName)\n\nidentifies if the input name is a valid name for a supported schema.\n\nTo assist in creating code accessing and manipulating the properties of a given schema, predefined properties have been introduced to allow a compile-time reference to a property name without requiring you to transcribe it as a string in your code. These predefined property names are available in static classes named similar to the schema names, above, e.g. Autodesk.Revit.DB.Visual.Ceramic.\n\n####<a name=\"4.2.1.6\"></a>2.1.6. Utilities\n\nThe new method:\n\n- Application.GetAssets(AssetType)\n\nreturns a list of assets available to the session.\n\nThe new method:\n\n- AppearanceAssetElement.Duplicate()\n\ncreates a copy of an appearance asset element and the asset contained by it.\n\nThe new operator:\n\n- Asset.operator[]\n\naccesses a particular AssetProperty associated to the given asset.\n\n####<a name=\"4.2.2\"></a>2.2. Railing API additions\n\n####<a name=\"4.2.2.1\"></a>2.2.1. Non-Continuous Rail Structure\n\nThe new property:\n\n- RailingType.RailStructure\n\nprovides access to a collection of the information about non-continuous rails that are part of a RailingType. The Autodesk.Revit.DB.Architecture.NonContinuousRailStructure object returns contains a collection of Autodesk.Revit.DB.Architecture.NonContinuousRailInfo objects, each of which represents the properties needed to define a single non-continuous rail.\n\n####<a name=\"4.2.2.2\"></a>2.2.2. Baluster Placement\n\nThe new property:\n\n- RailingType.BalusterPlacement\n\nprovides access to the baluster and post placement information for a given railing type. The Autodesk.Revit.DB.Architecture.BalusterPlacement object returned may contain instances of:\n\n- Autodesk.Revit.DB.Architecture.BalusterPattern &ndash; represents the baluster pattern properties, containing 1 or more objects of the type BalusterInfo.\n- Autodesk.Revit.DB.Architecture.PostPattern &ndash; represents the post pattern properties, containing up to 3 objects of the type BalusterInfo\n- Autodesk.Revit.DB.Architecture.BalusterInfo &ndash; represents the properties governing an instance of a single railing baluster or post.\n\n####<a name=\"4.2.3\"></a>2.3. Find Element Dependencies\n\nThe new method:\n\n- Element.GetDependentElements()\n\nreturns a list of ids of elements which are \"children\" of this element; that is, those elements which will be deleted along with this element. The method optionally takes an ElementFilter which can be used to reduce the output list to the collection of elements matching specific criteria.\n\n####<a name=\"4.2.4\"></a>2.4. Dimension API additions\n\nThe dimension API now supports adding linear dimensions to cut geometry which is view-specific. \n\nThe new property:\n\n- Dimension.AreReferencesAvailable\n\nalways returns true for dimensions which are not view-specific. It can return false for view-specific dimensions that can lose their references in certain situations. For example, the host element references may not be available when the view containing the dimension is closed. In general, if the host element view-specific geometry is not available, dimensions that reference that geometry will not be able to resolve their references.\n\nThe new property:\n\n- Dimension.IsValid\n\nalways returns true for dimensions which are not view-specific. It can return false for view-specific dimensions that are hidden because they are in an invalid state. An example of an invalid state is having misaligned references for generation of an aligned dimension.\n\n####<a name=\"4.2.5\"></a>2.5. Set vertical alignment for text\n\nThe new property:\n\n- Autodesk.Revit.DB.TextNoteOptions.VerticalAlignment\n\nallows you to specify the vertical alignment for a new text note created by TextNote.Create().\n\n####<a name=\"4.2.6\"></a>2.6. BrowserOrganization API additions\n\nThe new enumerated value:\n\n- BrowserOrganizationType.Schedules \n\ncorresponds to the type of the browser organization definition for schedules. \n\nThe new method:\n\n- BrowserOrganization.GetCurrentBrowserOrganizationForSchedules() \n\ngets the BrowserOrganization that applies to the Schedules section of the project browser.\n\n####<a name=\"4.2.7\"></a>2.7. Rebar API additions\n\n####<a name=\"4.2.7.1\"></a>2.7.1. BarTypeDiameterOptions\n\nThe new options class:\n\n- BarTypeDiameterOptions\n\nallows creation of a new set of diameter values for a RebarBarType. It can be used when copying the diameter information as a bulk of data from one RebarBarType to another.\n\nThe diameter options can be set for a RebarBarType with the new method:\n\n- Autodesk.Revit.DB.Structure.RebarBarType.SetBarTypeDiameters()\n\nwhich sets all input diameters from the input BarTypeDiameterOptions in the current RebarBarType.\n\n####<a name=\"4.2.7.2\"></a>2.7.2. GetDistributionPath()\n\nThe new method:\n\n- Autodesk.Revit.DB.Structure.RebarHandlePositionData.GetDistributionPath()\ngets the distribution path currently stored in the rebar.\nFor a free form rebar set the distance between two consecutive bars may be different if it is calculated between different points on bars. The distribution path is an array of curves with the property that based on these curves the set was calculated to respect the layout rule and number of bars or spacing.\n\n####<a name=\"4.2.7.3\"></a>2.7.3. RebarUpdateCurvesData\n\nSeveral new properties have been added to RebarUpdateCurvesData:\n\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.HostMirrored &ndash; If true, then host of the rebar was mirrored (along with the rebar) before the most recent regeneration.\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.IsReversed &ndash; Used to store the state of the bar referring to the direction of the bars. This is useful when using face intersection to calculate bars. After mirroring, curves created from intersecting faces may be reversed, so we use this to store the state and keep the rebar pointing in the correct direction.\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.ErrorMessage &ndash; The reason for calculation failure. If the calculation fails, this message will be shown in an error, or warning if we are editing the constraints.\n\n####<a name=\"4.2.7.4\"></a>2.7.4. RebarShapes\n\nTwo new methods in the Rebar class check or get associated RebarShape objects:\n\n- Autodesk.Revit.DB.Structure.Rebar.GetAllRebarShapeIds() &ndash; Gets the ids of the RebarShape elements which define the shape of this Rebar.\n- Autodesk.Revit.DB.Structure.Rebar.CanBeMatchedWithMultipleShapes() &ndash; Determines whether this Rebar can be matched with more than one RebarShape.\n\n####<a name=\"4.2.7.5\"></a>2.7.5. Workshop Instructions\n\nSeveral new properties identify the workshop instructions of a Rebar:\n\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.WorkshopInstructions &ndash; Gets or sets the workshop instructions for the current Rebar element (in other words, is it bent or straight.)\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.WorkshopInstructions &ndash; Gets the workshop instructions for this Rebar. This property is read-only.\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.AreWorkshopInstructionsChanged &ndash; Determines if the workshop instructions have changed since the last regeneration.\n\n####<a name=\"4.2.7.6\"></a>2.7.6. RebarFreeFormAccessor Additions\n\nSeveral new methods have been added to determine information about the bar at a specific index of the set:\n\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetShapeIdAtIndex() &ndash; Returns the shape id for the bar at the given position index.\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.IsBarMatchedWithShapeInReverseOrder() &ndash; Checks if the bar at the given index is matched in reverse order with its shape.\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetHookTypeIdAtIndex()\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetHookOrientationAngleAtIndex()\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetCouplerIdAtIndex()\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetEndTreatmentTypeIdAtIndex()\n\n####<a name=\"4.2.8\"></a>2.8. Steel Fabrication API additions\n\n####<a name=\"4.2.8.1\"></a>2.8.1. SteelElementProperties &ndash; linking between Revit elements and steel fabrication elements\n\nThe new class:\n\n- Autodesk.Revit.DB.Steel.SteelElementProperties\n\nis used to attach steel fabrication information to various Revit elements. Elements which can have fabrication information include:\n\n- FamilyInstance elements (structural beams and columns)\n- StructuralConnectionHandler elements associated to the connection\n- Specific steel connection elements (bolts, anchors, plates, etc). These connection elements will be of type Element but with categories related to structural connections, for example:\n    - OST_StructConnectionWelds \n    - OST_StructConnectionHoles \n    - OST_StructConnectionShearStuds\n    - OST_StructConnectionBolts\n    - OST_StructConnectionAnchors \n    - OST_StructConnectionPlates\n- Some concrete elements (walls, floors, concrete beams) when they are used as input elements to creation of steel connections.\n\nUse the static method:\n\n- SteelElementProperties.GetSteelElementProperties()\n\nto obtain the properties if they exist.\n\nThe properties contain:\n\n- SteelElementProperties.UniqueID\n\nwhich is the id of the object in fabrication terms, and can be used to determine the Steel Core element corresponding to this Revit element, for use with the Advance Steel API.\n\nYou can also look up the id about a Revit element using the static method:\n\n- SteelElementProperties.GetFabricationUniqueID()\n\nFor Revit elements which do not currently have a fabrication link, it can be added using:\n\n- SteelElementProperties.AddFabricationInformationForRevitElements()\n\nIf you have a fabrication id, you can look up the corresponding Revit element using:\n\n- SteelElementProperties.GetReference()\n\nThis may return a reference to an element or a subelement.\n\n####<a name=\"4.2.8.2\"></a>2.8.2. Custom steel connections &ndash; API additions\n\nThe new method:\n\n- StructuralConnectionHandler.Create(Document, IList&lt;ElementId&gt;, String)\n\ncreates a custom StructuralConnectionHandler along with its associated StructuralConnectionHandlerType. Input elements should include structural members and steel connection members, and at least one StructuralConnectionHandler representing the generic connection to replace with the new detailed custom connection. \n\nThe methods:\n\n- StructuralConnectionHandlerType.AddElementsToCustomConnection()\n- StructuralConnectionHandlerType.RemoveMainSubelementsFromCustomConnection()\n\nprovide support for adding or removing steel connection elements in a custom connection.\n\nThe new properties:\n\n- StructuralConnectionHandler.IsCustom\n- StructuralConnectionHandlerType.IsCustom\n- StructuralConnectionHandlerType.IsDetailed\n\nprovide read access to information about the structural connection handler elements.\n\n####<a name=\"4.2.9\"></a>2.9. MEP API additions\n\n####<a name=\"4.2.9.1\"></a>2.9.1. MEPCurveType Shape\n\nThe new property:\n\n- MEPCurveType.Shape\n\nreturns the shape of the profile for the MEP curve type.\n\n####<a name=\"4.2.9.2\"></a>2.9.2. Mechanical Equipment Set API\n\nTwo new classes allow creation and manipulation of a mechanical equipment set, which is a set of interrelated mechanical equipment in an MEP system that may operate in parallel. This release is limited to supporting one or more pump sets that are part of a piping system. The mechanical equipment set settings will be used for the MEP flow and pressure drop calculations.\n\nThe Element subclass Autodesk.Revit.DB.Mechanical.MechanicalEquipmentSet represents an instance of a set associated to an MEP system.\n\nIt includes the new members:\n\n- MechanicalEquipmentSet.Create()\n- MechanicalEquipmentSet.GetMembers()\n- MechanicalEquipmentSet.Add()\n- MechanicalEquipmentSet.Remove()\n- MechanicalEquipmentSet.AreValidMembers()\n- MechanicalEquipmentSet.AreElementsNotConnectedInSeries()\n- MechanicalEquipmentSet.Classification\n- MechanicalEquipmentSet.OnDuty\n- MechanicalEquipmentSet.OnStandby\n\nThe ElementType subclass Autodesk.Revit.DB.Mechanical.MechanicalEquipmentSetType represents a type for a set of mechanical equipment in a MEP system. It includes:\n\n- MechanicalEquipmentSetType.Create()\n\nused to create a uniquely named type of mechanical equipment set.\n\nFor pump sets, the new method:\n\n- PipingSystem.GetPumpSets()\n\ngets the set of element ids of pump sets associated with this system.\n\n####<a name=\"4.2.9.3\"></a>2.9.3. Hydraulic Separation API\n\nNew methods implemented in the PipingSystem class support hydraulic separation. Hydraulically separated systems allow independent flow and pressure analysis for each hydraulic loop. For example, each hydraulic loop has its own critical path. The calculated pressure drop on the primary pump consists of all pressure drop on the primary critical path. Any pressure drop on the secondary loop would only contribute to the calculated pressure drop of the secondary pump.\n\nThe new methods:\n\n- PipingSystem.CreateHydraulicSeparation()\n- PipingSystem.DeleteHydraulicSeparation()\n- PipingSystem.IsHydraulicLoopBoundary()\n- PipingSystem.CanBeHydraulicLoopBoundary()\n\nsupport creation, deletion, and validation of members of a hydraulically separated system. Separated systems will have their own associated system elements from which you can read and modify the members after creation.\n\n####<a name=\"4.2.10\"></a>2.10. MEP Fabrication API additions\n\n####<a name=\"4.2.10.1\"></a>2.10.1. Exporting fabrication job files\n\nThe new method:\n\n- FabricationPart.SaveAsFabricationJob()\n\nwrites a fabrication job to disk in the MAJ file format. The exported file will contain the fabrication parts included in the input. It takes an options class, FabricationSaveJobOptions, allowing for the possibility of including holes branches meet the main straight.\n\n####<a name=\"4.2.10.2\"></a>2.10.2. API for load and unload of one-off fabrication parts from loose item files\n\nThe new class:\n\n- Autodesk.Revit.DB.FabricationItemFile\n\ncontains information about one-off items that can be loaded into a fabrication configuration.\n\nThe new class:\n\n- Autodesk.Revit.DB.FabricationItemFolder \n\nmay contain nested FabricationItemFolders and a list of FabricationItemFiles.\n\nThe new members:\n\n- FabricationConfiguration.LoadItemFiles()\n- FabricationConfiguration.UnloadItemFiles()\n- FabricationConfiguration.GetAllLoadedItemFiles()\n- FabricationConfiguration.GetAllUsedItemFiles()\n- FabricationConfiguration.CanUnloadItemFiles()\n- FabricationConfiguration.AreItemFilesLoaded()\n- FabricationConfiguration.GetItemFolders()\n\nallow control over the loading and unloading of item files into the configuration.\n\nThe new method:\n\n- FabricationPart.Create(Document, FabricationItemFile, ElementId)\n\ncreates a FabricationPart from an item file.\n\n####<a name=\"4.2.10.3\"></a>2.10.3. API for version history of parts\n\nThe new class:\n\n- Autodesk.Revit.DB.FabricationVersionInfo\n\ngives the information about different versions of fabrication data, including the reason why the data was changed.\n\nThe new method:\n\n- FabricationPart.GetVersionHistory()\n\nreturns a list of FabricationVersionInfo classes that describe the history of the changes made to the part. The most recent changes are first in the list.\n\n####<a name=\"4.2.10.4\"></a>2.10.4. API for part swap out information\n\nThe new class:\n\n- Autodesk.Revit.DB.ReloadSwapOutInfo\n\ngives information about a part that was swapped out during reload.\n\nThe new members:\n\n- ConfigurationReloadInfo.OutOfDatePartCount\n- ConfigurationReloadInfo.GetOutOfDatePartStatus()\n\nidentify the parts that had newer versions found during a reload and which Revit attempted to swap out.\n\n####<a name=\"4.2.10.5\"></a>2.10.5. Centerline length API\n\nThe new property:\n\n- FabricationPart.CenterlineLength\n\nreturns the length of the fabrication part's centerline.\n\n####<a name=\"4.2.11\"></a>2.11. Analysis Visualization Framework API addition\n\nThe new property:\n\n- AnalysisDisplayColoredSurfaceSettings.Transparency\n\nallows for the use of transparency in the display of the colored surface.\n\n####<a name=\"4.2.12\"></a>2.12. IFC additions\n\nThe new functions:\n\n- IFCImportOptions.GetExtraOptions()\n- IFCImportOptions.SetExtraOptions()\n\nallow for passing in arbitrary options for custom IFC importers. Users can pass in a string to string map specifying extra data they wish to pass for IFC import.\n\n####<a name=\"4.2.13\"></a>2.13. Revit Link Additions\n\nThe new function:\n\n- RevitLinkType.GetPhaseMap()\n\nallows users to read the Phase Map parameter for the link. The phase map is a correspondence between phases in the host document and phases in the linked document, and is used by room calculations. Note that the link must be loaded to read the phase map.\n\n####<a name=\"4.2.14\"></a>2.14. Export Additions\n\nThe new property:\n\n- DWFExportOptions.ExportOnlyViewId\n\nindicates that only the specified view should be exported when creating a DWF export.\n\n####<a name=\"4.2.15\"></a>2.15. Access to add-in data paths\n\nThe new properties:\n\n- Autodesk.Revit.ApplicationServices.Application.CurrentUsersDataFolderPath\n- Autodesk.Revit.ApplicationServices.Application.CurrentUsersAddinsDataFolderPath\n\nprovide access to the data folder and add-in data folder for the current Revit version and current user.\n\n####<a name=\"4.2.16\"></a>2.16. Site API additions\n\nThe new property:\n\n- TopographySurface.ArePointsEditable\n\nidentifies whether the points of this TopographySurface can be edited independently. This property is used to check validity for several TopographySurface editing methods.\n\n####<a name=\"4.2.17\"></a>2.17. UI API additions\n\n####<a name=\"4.2.17.1\"></a>2.17.1. BeforeExecutedEventArgs Cancellation\n\nThe property:\n\n- BeforeExecutedEventArgs.Cancel\n\nis now permitted to be set to true. This allows the call-back to cancel the execution of the impending command. This can be useful if an add-in wishes to selectively allow the command to proceed based on interactions which take place in this call-back. The property should also report the cancellation status if it has been cancelled by a different subscriber."
  }
]