[
  {
    "original_filename": "1855_rvt_2021_1",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- Revit 2021.1 is released!\n\n- Re: Revit API: IExportContext converting UV to the range (0,1)\n  https://forums.autodesk.com/t5/revit-api-forum/revit-api-iexportcontext-converting-uv-to-the-range-0-1/m-p/9638219\n  solution provided\n\n- How to set up your own VPN server at home for free using Linux and WireGuard.\n  This is a great way to boost your own privacy and security without needing to share your data with a paid VPN service. (5 minute read): \n  https://www.freecodecamp.org/news/how-to-set-up-a-vpn-server-at-home/\n\ntwitter:\n\nThe Revit update release is now available, and some insights on normalising UVs in the custom exporter in the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://bit.ly/revit2021_1\n\nThe Revit update release is now available, and some insights on normalising UVs in the custom exporter\n&ndash; The Revit 2021.1 update\n&ndash; Normalising UVs in custom exporter\n&ndash; Set up your own free VPN server...\n\nlinkedin:\n\nThe Revit update release is now available, and some insights on normalising UVs in the custom exporter in the #RevitAPI\n\nhttps://bit.ly/revit2021_1\n\n- The Revit 2021.1 update\n- Normalising UVs in custom exporter\n- Set up your own free VPN server...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1855_rvt_2021_1",
    "header_text": "Revit 2021.1 and Normalising Custom Export UV",
    "local_header_href": "#revit-20211-and-normalising-custom-export-uv",
    "chunk_text": "### Revit 2021.1 and Normalising Custom Export UV\n\nThe hottest news for today is the Revit update release, seasoned with other titbits of interest:\n\n- [The Revit 2021.1 update](#2)\n- [Normalising UVs in custom exporter](#3)\n- [Set up your own free VPN server](#4)\n\nBefore we get to those, another nice quote of the week, courtesy of [Quincy Larson](https://www.freecodecamp.org/news/author/quincylarson):\n\n<blockquote>\n<p><i>Programming is the only job I can think of where I get to be both an engineer and an artist.\nThere's an incredible, rigorous, technical element to it, which I like because you have to do very precise thinking.\nOn the other hand, it has a wildly creative side where the boundaries of imagination are the only real limitation.</i></p>\n<p style=\"text-align: right; font-style: italic\">&ndash; Andy Hertzfeld</p>\n</blockquote>"
  },
  {
    "original_filename": "1855_rvt_2021_1",
    "header_text": "The Revit 2021.1 Update",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> The Revit 2021.1 Update\n\nThe long-awaited Revit 2021.1 update release is now available.\n\nCheck out the top experts' and product managers' detailed report\non [What’s new in Revit 2021.1](https://blogs.autodesk.com/revit/2020/07/22/whats-new-in-revit-2021-1).\n\nHere are the top highlights from their release run-down, grouping features into four benefit categories: Automation and Computation, Interoperability and Data Exchange, Productivity and Ease of Use, and Coordination and Collaboration.\n\n- Automation and Computation\n    - Dynamo 2.6 for Revit and many new nodes\n    - New sample studies for Generative Design in Revit\n- Interoperability and Data Exchange\n    - FormIt Converter in Revit Enhancements\n    - Import and export enhancements\n    - Civil structures alignment in Revit\n- Productivity and Ease of Use\n    - Faster Revit install and deployment\n    - Improved view switching\n    - Improved panel schedule properties\n    - Quickly identify the rebar host\n    - User profile improvements\n    - New units\n    - Resizable shared parameters dialogue\n- Collaboration and Coordination\n    - Shared 3D views\n    - Cloud model upgrade\n    - Cloud worksharing improvements\n    - Reset shared coordinates\n    - Acquire Coordinates Notification\n    - EU Region support for Piping and Instrumentation Diagram (P&ID) modeler"
  },
  {
    "original_filename": "1855_rvt_2021_1",
    "header_text": "Normalising UVs in Custom Exporter",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Normalising UVs in Custom Exporter\n\nSunsflower (sic) shared a nice explanation in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non [`IExportContext` converting `UV` to the range (0,1)](https://forums.autodesk.com/t5/revit-api-forum/revit-api-iexportcontext-converting-uv-to-the-range-0-1/m-p/9638219):\n\n**Question:** I'm writing an exporter for Revit and encountered with a problem when exporting UV.\n\nWhen I call `PolymeshTopology.GetUV`, the coordinates given are often larger than 1.\n\nMy questions are:\n\n- How can I convert them to the desired range (0,1)? Or how should I understand these UV values?\n- Are they coordinates on the image? And If they are indeed coordinate on the image, how can I access the size of the image in `IExportContext`?\n\nTo give a concrete example:\n\nSay I have a texture of size 4096x4096, the corresponding `UV` data I read in `IExportContext` is around 25, and the RealWorldScale from the UnifiedBitmapAsset is about 141.\n\nI cannot seem to be able to discern a formula or anything...\n\n**Answer:** Maybe this background information\non [faces and their coordinates in the Revit API](https://thebuildingcoder.typepad.com/blog/2010/01/faces.html) will\nhelp?\n\n**Response:** That post explains UV as two variables that parametrise a face, but as far as I can see they are related to the structure of the face in 3d space, not how each vertex of the face are mapped to the bitmap.\n\nHow can I convert the UV coordinates returned by `PolymeshTopology.GetUV` to pixel coordinates on the image or in the range (0,1).\n\nI found the discussion\non [PolymeshTopology UVs](https://forums.autodesk.com/t5/revit-api-forum/polymeshtopology-uvs/td-p/8641007) to\nbe relevant, but the answer given is not detailed enough for me to actually solve the problem.\n\n**Later:** Okay, I think I've figured it out and I'll list the solution found just in case someone else also has this problem...\n\nThe `PolymeshTopology.GetUV` method returns a `UV` coordinate, which corresponds to the parameters of a face.\n\nTherefore, I guess they are related to the dimension of the face that they parameterize.\n\nThese UV coordinates can be converted to display units via `UnitUtils.ConvertFromInternalUnits` (which is probably deprecated now, but anyway...). \nMy add-in uses centimetres.\nSo far, we have the UV in centimetres.\n\nThe next step is to obtain the size of the bitmap.\nThis is given by the properties with name `UnifiedBitmap.TextureRealWorldScaleX/Y`.\nThese values are actually given in inches, so you can call `UnitUtils.Convert` from  `DisplayUnitType.DUT_DECIMAL_INCHES` to `DisplayUnitType.DUT_CENTIMETERS` to convert them.\nIn fact, I've found `DisplayUnitType.DUT_FRACTIONAL_INCHES` gives the same result.\nI don't know what the difference is... maybe someone could elaborate on that.\n\nAfter that, the UV coordinates can be scaled to the range [0,1] or whatever.\n\n**Correction:** the `AssetPropertyDistance` class actually has a `DisplayUnitType` property, which should be used instead of the `DUT_DECIMAL_INCHES`.\n\nMany thanks to Sunsflower for this useful research and helpful documentation!\n\n<center>\n<img src=\"img/sunflower.png\" alt=\"Sunflower\" title=\"Sunflower\" width=\"400\"/> <!-- 527 -->\n</center>"
  },
  {
    "original_filename": "1855_rvt_2021_1",
    "header_text": "Set up your own Free VPN Server",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Set up your own Free VPN Server\n\nI have not tried this myself yet, but the detailed steps sound perfectly simple, sound and doable in the 5 minute read\non [how to set up your own VPN server at home for free using Linux and WireGuard](https://www.freecodecamp.org/news/how-to-set-up-a-vpn-server-at-home):\n\n> This is a great way to boost your own privacy and security without needing to share your data with a paid VPN service. \n  \n<pre class=\"code\">\n</pre>"
  }
]