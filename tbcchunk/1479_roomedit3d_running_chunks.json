[
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<title>The Building Coder</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"3dwc.css\"/>\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true\" defer=\"defer\"></script>\n</head>\n\n<!---\n\n  \nRoomedit3dv3 Up and Running with Demo Recording @AutodeskForge #revitapi #3dwebcoder @AutodeskRevit #aec #bim @RTCEvents\n\nI completed the <code>roomedit3dv3</code> project\n&ndash; Enhancements to the Forge Node.js boilerplate code\n&ndash; RoomEditorApp Revit add-in update\n&ndash; Roomedit3dv3 demo recording\n&ndash; Samples connecting desktop and cloud\n&ndash; Forge Webinar Series 5 &ndash; Design Automation API...\n\n-->"
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "Roomedit3dv3 Up and Running with Demo Recording",
    "local_header_href": "#roomedit3dv3-up-and-running-with-demo-recording",
    "chunk_text": "### Roomedit3dv3 Up and Running with Demo Recording\n\nI completed the [roomedit3dv3](https://github.com/Autodesk-Forge/forge-boilers.nodejs/tree/roomedit3d) project:\n\n- [Enhancements to the Forge Node.js boilerplate code](#2)\n- [RoomEditorApp Revit add-in update](#3)\n- [Roomedit3dv3 demo recording](#4)\n- [Samples connecting desktop and cloud](#5)\n\nBefore I get to that, I should also mention that\nthe [Forge webinar series](http://autodeskforge.devpost.com/details/webinars) session 5\nis being held today, by Albert Szilvasy, on the Design Automation API.\n\nYou can register by [clicking here](https://global.gotowebinar.com/join/134416283)."
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "<a name=\"1\"></a>Forge Webinar Series 5 &ndash; Design Automation API",
    "local_header_href": "#a-name1aforge-webinar-series-5-ndash-design-automation-api",
    "chunk_text": "#### <a name=\"1\"></a>Forge Webinar Series 5 &ndash; Design Automation API\n\nRecordings, presentations and support material of the past sessions are available for viewing and download:\n\n- September 20 &ndash; [Introduction to Autodesk Forge and the Autodesk App Store](http://adndevblog.typepad.com/cloud_and_mobile/2016/09/introduction-to-autodesk-forge-and-the-autodesk-app-store.html)\n- September 22 &ndash; [Introduction to OAuth and Data Management API](http://adndevblog.typepad.com/cloud_and_mobile/2016/09/introduction-to-oauth-and-data-management-api.html)\n&ndash; on [OAuth](https://developer.autodesk.com/en/docs/oauth/v2/overview)\nand [Data Management API](https://developer.autodesk.com/en/docs/data/v2/overview), providing token-based authentication, authorization and a unified and consistent way to access data across A360, Fusion 360, and the Object Storage Service.\n- September 27 &ndash; [Introduction to Model Derivative API](http://adndevblog.typepad.com/cloud_and_mobile/2016/09/introduction-to-model-derivative-api.html)\n&ndash; on the [Model Derivative API](https://developer.autodesk.com/en/docs/model-derivative/v2/overview) that enables users to represent and share their designs in different formats and extract metadata.\n- September 29 &ndash; [Introduction  to Viewer](http://adndevblog.typepad.com/cloud_and_mobile/2016/09/introduction-to-viewer-api.html)\n&ndash; the [Viewer](https://developer.autodesk.com/en/docs/viewer/v2/overview), formerly part of the 'View and Data API', is a WebGL-based JavaScript library for 3D and 2D model rendering of CAD models from seed files, e.g., [AutoCAD](http://www.autodesk.com/products/autocad/overview), [Fusion 360](http://www.autodesk.com/products/fusion-360/overview), [Revit](http://www.autodesk.com/products/revit-family/overview) and many other formats.\n\nUpcoming sessions continue during the remainder of\nthe [Autodesk App Store Forge and Fusion 360 Hackathon](http://autodeskforge.devpost.com) until the end of October:\n\n- October 4 &ndash; [Design Automation API](https://developer.autodesk.com/en/docs/design-automation/v2/overview) &ndash; formerly known as 'AutoCAD I/O', run scripts on design files.\n- October 6 &ndash; [BIM360](https://developer.autodesk.com/en/docs/bim360/v1/overview) &ndash; develop apps that integrate with BIM 360 to extend its capabilities in the construction ecosystem.\n- October 11 &ndash; [Fusion 360 Client API](http://help.autodesk.com/view/NINVFUS/ENU/?guid=GUID-A92A4B10-3781-4925-94C6-47DA85A4F65A) &ndash; an integrated CAD, CAM, and CAE tool for product development, built for the new ways products are designed and made.\n- October 13 &ndash; Q&A on all APIs.\n- October 20 &ndash; Q&A on all APIs.\n- October 27 &ndash; Submitting a web service app to Autodesk App store.\n\nQuick access links:\n\n- For API keys, go to [developer.autodesk.com](https://developer.autodesk.com)\n- For code samples, go to [github.com/Developer-Autodesk](https://github.com/Developer-Autodesk)\n \nFeel free to contact us at [forgehackathon@autodesk.com](mailto:forgehackathon@autodesk.com) at any time with any questions.\n\nBack to the room editor:\n\n<center>\n<img src=\"img/roomedit3dv3_broadcast.png\" alt=\"Roomedit3dv3 Forge extension in action\" width=\"385\">\n</center>"
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "<a name=\"2\"></a>Enhancements to the Forge Node.js Boilerplate Code",
    "local_header_href": "#a-name2aenhancements-to-the-forge-nodejs-boilerplate-code",
    "chunk_text": "#### <a name=\"2\"></a>Enhancements to the Forge Node.js Boilerplate Code\n\nRoomedit3dv3 builds on [Philippe Leefsma](http://twitter.com/F3lipek)'s\n[Forge node.js boilerplate samples](https://github.com/Autodesk-Forge/forge-boilers.nodejs),\nadding a few simple enhancements in order to demonstrate interactive movement of BIM element instances in the Forge viewer and updating the Revit model accordingly in real time via a `socket.io` broadcast.\n\nThe additional enhancements include:\n\n- [Adding a viewer `transform` extension](http://thebuildingcoder.typepad.com/blog/2016/09/warning-swallower-and-roomedit3d-viewer-extension.html#3).\n- [Retrieving and broadcasting the affected element `UniqueId` and translation](http://thebuildingcoder.typepad.com/blog/2016/10/retrieving-and-broadcasting-the-roomedit3dv3-translation.html) via `socket.io`.\n\nI created a new Forge app for the production version, set up its `PROD` environment and deployed to [Heroku](http://heroku.com) with no major issues.\n\nEverything went well, as you can see below in my description of the [Revit add-in adaptation](#3) and [test run](#4).\n\nHere is are all the nitty-gritty details on choosing a suitable starting point and adapting the boilerplate code for my needs:\n\n- [Roomedit3d Update for Connecting Desktop and Forge](http://thebuildingcoder.typepad.com/blog/2016/09/roomedit3d-update-for-connecting-desktop-and-forge.html)\n- [More Roomedit3dv3 Starting Points](http://thebuildingcoder.typepad.com/blog/2016/09/forge-webinar-series-and-more-roomedit-starting-point-samples.html#2)\n- [The Birth of Roomedit3dv3](http://thebuildingcoder.typepad.com/blog/2016/09/the-birth-of-roomedit3dv3-and-forge-webinar-series.html#2)\n- [REST vs WebSocket and Roomedit3dv3 Broadcast Architecture](http://thebuildingcoder.typepad.com/blog/2016/09/roomedit3d-broadcast-teigha-bim-and-forge-webinar-3.html#2)\n- [Roomedit3dv3 Transform Viewer Extension](http://thebuildingcoder.typepad.com/blog/2016/09/warning-swallower-and-roomedit3d-viewer-extension.html#3)\n- [Retrieving and Broadcasting the Roomedit3dv3 Translation](http://thebuildingcoder.typepad.com/blog/2016/10/retrieving-and-broadcasting-the-roomedit3dv3-translation.html)\n\nNow that the web server part is complete, let's test it from Revit:"
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "<a name=\"3\"></a>RoomEditorApp Revit Add-in Update",
    "local_header_href": "#a-name3aroomeditorapp-revit-add-in-update",
    "chunk_text": "#### <a name=\"3\"></a>RoomEditorApp Revit Add-in Update\n\nThe `socket.io` broadcast is picked up by the [Roomedit3dApp](https://github.com/jeremytammik/Roomedit3dApp) Revit add-in and applied to the Revit model just like in previous versions.\n\nAll I had to do was update the `socket.io` URL.\n\nI also added a check for the correct Revit project document and a valid element `UniqueId`, since the viewer extension might be running in any number of instances for various users at the same time, and no information is currently added to the socket.io broadcast to tell which Revit model is being edited by who.\n\nTherefore, in the current implementation, you might be bombarded with millions of transform messages from all the thousands of different users playing with this simultaneously worldwide.\n\nThus the importance of checking whether the notification you just received really does apply and can be applied to your current document.\n\nHere is the new `BimUpdater.Execute` method implementation that hopefully takes care of that:\n\n<pre class=\"code\">\n<span style=\"color:gray;\">///</span><span style=\"color:green;\">&nbsp;</span><span style=\"color:gray;\">&lt;</span><span style=\"color:gray;\">summary</span><span style=\"color:gray;\">&gt;</span>\n<span style=\"color:gray;\">///</span><span style=\"color:green;\">&nbsp;Execute&nbsp;method&nbsp;invoked&nbsp;by&nbsp;Revit&nbsp;via&nbsp;the&nbsp;</span>\n<span style=\"color:gray;\">///</span><span style=\"color:green;\">&nbsp;external&nbsp;event&nbsp;as&nbsp;a&nbsp;reaction&nbsp;to&nbsp;a&nbsp;call&nbsp;</span>\n<span style=\"color:gray;\">///</span><span style=\"color:green;\">&nbsp;to&nbsp;its&nbsp;Raise&nbsp;method.</span>\n<span style=\"color:gray;\">///</span><span style=\"color:green;\">&nbsp;</span><span style=\"color:gray;\">&lt;/</span><span style=\"color:gray;\">summary</span><span style=\"color:gray;\">&gt;</span>\n<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:blue;\">void</span>&nbsp;Execute(&nbsp;<span style=\"color:#2b91af;\">UIApplication</span>&nbsp;a&nbsp;)\n{\n&nbsp;&nbsp;<span style=\"color:#2b91af;\">Debug</span>.Assert(&nbsp;0&nbsp;&lt;&nbsp;_queue.Count,&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#a31515;\">&quot;why&nbsp;are&nbsp;we&nbsp;here&nbsp;with&nbsp;nothing&nbsp;to&nbsp;do?&quot;</span>&nbsp;);\n \n&nbsp;&nbsp;<span style=\"color:#2b91af;\">Document</span>&nbsp;doc&nbsp;=&nbsp;a.ActiveUIDocument.Document;\n \n&nbsp;&nbsp;<span style=\"color:green;\">//&nbsp;Ensure&nbsp;that&nbsp;the&nbsp;unique&nbsp;id&nbsp;refers&nbsp;to&nbsp;a&nbsp;valid</span>\n&nbsp;&nbsp;<span style=\"color:green;\">//&nbsp;element&nbsp;from&nbsp;the&nbsp;current&nbsp;doucument.&nbsp;If&nbsp;not,&nbsp;</span>\n&nbsp;&nbsp;<span style=\"color:green;\">//&nbsp;no&nbsp;need&nbsp;to&nbsp;start&nbsp;a&nbsp;transaction.</span>\n \n&nbsp;&nbsp;<span style=\"color:blue;\">string</span>&nbsp;uid&nbsp;=&nbsp;_queue.Peek().Item1;\n&nbsp;&nbsp;<span style=\"color:#2b91af;\">Element</span>&nbsp;e&nbsp;=&nbsp;doc.GetElement(&nbsp;uid&nbsp;);\n \n&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;<span style=\"color:blue;\">null</span>&nbsp;!=&nbsp;e&nbsp;)\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">using</span>(&nbsp;<span style=\"color:#2b91af;\">Transaction</span>&nbsp;t&nbsp;=&nbsp;<span style=\"color:blue;\">new</span>&nbsp;<span style=\"color:#2b91af;\">Transaction</span>(&nbsp;doc&nbsp;)&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.Start(&nbsp;GetName()&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">while</span>(&nbsp;0&nbsp;&lt;&nbsp;_queue.Count&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Tuple</span>&lt;<span style=\"color:blue;\">string</span>,&nbsp;<span style=\"color:#2b91af;\">XYZ</span>&gt;&nbsp;task&nbsp;=&nbsp;_queue.Dequeue();\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Debug</span>.Print(&nbsp;<span style=\"color:#a31515;\">&quot;Translating&nbsp;{0}&nbsp;by&nbsp;{1}&quot;</span>,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task.Item1,&nbsp;<span style=\"color:#2b91af;\">Util</span>.PointString(&nbsp;task.Item2&nbsp;)&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;=&nbsp;doc.GetElement(&nbsp;task.Item1&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;<span style=\"color:blue;\">null</span>&nbsp;!=&nbsp;e&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">ElementTransformUtils</span>.MoveElement(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc,&nbsp;e.Id,&nbsp;task.Item2&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.Commit();\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;}\n}\n</pre>\n\nI tagged the \nnew [Roomedit3dApp](https://github.com/jeremytammik/Roomedit3dApp)\nversion [release 2017.0.0.6](https://github.com/jeremytammik/Roomedit3dApp/releases/tag/2017.0.0.6)."
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "<a name=\"4\"></a>Roomedit3dv3 Demo Recording",
    "local_header_href": "#a-name4aroomedit3dv3-demo-recording",
    "chunk_text": "#### <a name=\"4\"></a>Roomedit3dv3 Demo Recording\n\n<!--\n\"Video For Everybody\" http://camendesign.com/code/video_for_everybody\n<video controls=\"controls\" poster=\"http://thebuildingcoder.typepad.com/.a/6a00e553e16897883301b8d2249fe3970c-800wi\" width=\"640\" height=\"360\">\n <source src=\"http://thebuildingcoder.typepad.com/roomedit3dv3.mp4\" type=\"video/mp4\" />\n <source src=\"http://thebuildingcoder.typepad.com/roomedit3dv3.webm\" type=\"video/webm\" />\n <source src=\"http://thebuildingcoder.typepad.com/roomedit3dv3.ogv\" type=\"video/ogg\" />\n <img alt=\"roomedit3dv3 demonstration\" src=\"http://thebuildingcoder.typepad.com/.a/6a00e553e16897883301b8d2249fe3970c-800wi\" width=\"640\" height=\"360\" title=\"No video playback capabilities, please download the video below\" />\n</video>\n<p>\n <strong>Download video:</strong> <a href=\"http://thebuildingcoder.typepad.com/roomedit3dv3.mp4\">MP4 format</a> | <a href=\"http://thebuildingcoder.typepad.com/roomedit3dv3.ogv\">Ogg format</a> | <a href=\"http://thebuildingcoder.typepad.com/roomedit3dv3.webm\">WebM format</a>\n</p>\n-->\n\nWith everything up and running smoothly, I created\na [ten-minute demo recording](https://youtu.be/wNtVBcbfhSw) on \nthe [Roomedit3dv3 Revit BIM Autodesk Forge Viewer Extension](https://youtu.be/wNtVBcbfhSw):\n\n<center>\n<iframe width=\"480\" height=\"270\" src=\"https://www.youtube.com/embed/wNtVBcbfhSw?rel=0\" frameborder=\"0\" allowfullscreen></iframe>\n</center>\n\nTo summarise, it demonstrates real-time round-trip editing of Revit BIM via the Autodesk Forge Viewer using\n[Roomedit3dv3](https://github.com/Autodesk-Forge/forge-boilers.nodejs/tree/roomedit3d), which implements\na Forge Viewer extension to move building elements and update the Revit BIM in real-time using `socket.io`.\n\nYou can easily deploy your own version of it to Heroku with one simple button click, cf.\nthe [instructions in the GitHub repository](https://github.com/Autodesk-Forge/forge-boilers.nodejs/tree/roomedit3d#prerequisites-and-sample-setup),\nor test run my own web personal server instance directly at [roomedit3dv3.herokuapp.com](https://roomedit3dv3.herokuapp.com)."
  },
  {
    "original_filename": "1479_roomedit3d_running",
    "header_text": "<a name=\"5\"></a>Further Samples Connecting Desktop and Cloud",
    "local_header_href": "#a-name5afurther-samples-connecting-desktop-and-cloud",
    "chunk_text": "#### <a name=\"5\"></a>Further Samples Connecting Desktop and Cloud\n\nI continue testing and documenting the other samples connecting the desktop and the cloud for \nthe [RTC Revit Technology Conference Europe](http://www.rtcevents.com/rtc2016eur) in Porto,\neach consisting of two components, a C# .NET Revit API desktop add-in and a web server:\n\n- [RoomEditorApp](https://github.com/jeremytammik/RoomEditorApp) and\nthe [roomeditdb](https://github.com/jeremytammik/roomedit)\n[CouchDB](https://couchdb.apache.org)\ndatabase and web server demonstrating real-time round-trip graphical editing of furniture family instance location and rotation plus textual editing of element properties in a simplified\n2D [SVG](https://www.w3.org/Graphics/SVG/) representation of the 3D BIM.\n- [FireRatingCloud](https://github.com/jeremytammik/FireRatingCloud) and\nthe [fireratingdb](https://github.com/jeremytammik/firerating)\n[node.js](https://nodejs.org)\n[MongoDB](https://www.mongodb.com) web server demonstrating real-time round-trip editing of Revit element shared parameter values stored in\na globally accessible [mongolab](http://mongolab.com)-hosted db.\n- [Roomedit3dApp](https://github.com/jeremytammik/Roomedit3dApp) and\nthe first [roomedit3d](https://github.com/jeremytammik/roomedit3d) Forge Viewer extension demonstrating translation of BIM elements in the viewer and updating the Revit model in real time via a 'socket.io' broadcast.\n- The sample discussed above, adding the option to select any Revit model hosted\non [A360](https://a360.autodesk.com), again using \nthe [Roomedit3dApp](https://github.com/jeremytammik/Roomedit3dApp) Revit add-in working with the \nnew [roomedit3dv3](https://github.com/Autodesk-Forge/forge-boilers.nodejs/tree/roomedit3d)\n[Autodesk Forge](https://forge.autodesk.com)\n[Viewer](https://developer.autodesk.com/en/docs/viewer/v2/overview) extension\nto demonstrate translation of BIM element instances in the viewer and updating the Revit model in real time via a `socket.io` broadcast.\n\nAll is still looking good so far."
  }
]