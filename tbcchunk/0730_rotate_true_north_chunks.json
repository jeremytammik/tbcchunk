[
  {
    "original_filename": "0730_rotate_true_north",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "0730_rotate_true_north",
    "header_text": "Rotate True North",
    "local_header_href": "#rotate-true-north",
    "chunk_text": "<h3>Rotate True North</h3><p>We have previously looked at how to handle the \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2010/01/project-location.html\">\nproject location</a> properties \n\nand more specifically how to handle the effect of a \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/10/unrotate-north.html\">\nrotated Project North</a> on\n\nan element azimuth.\n\n<p>Here is a question on the 'opposite' topic, how to set up a project north rotation in the first place:\n\n<p><strong>Question:</strong> Is there any way to rotate the truth north using the Revit API? \n\n<p>It can be done in the user interface using the Manage &gt; Project Location &gt; Position &gt; Rotate True North command:</p>\n<center>\n<img alt=\"Rotate True North in Japanese\" src=\"img/rotate_true_north_jp.png\"/>\n</center>\n<p>Here is the English command with its expanded tooltip:</p>\n<center>\n<img alt=\"Rotate True North in English\" src=\"img/rotate_true_north_en.png\"/>\n</center>\n<p><strong>Answer:</strong> I believe the same effect can be achieved by rotating the <b>Project</b> North which is available in the API.\n\n<p>If this fits the bill, then here are some working code snippets making use of the related classes and methods:\n\n<pre class=\"code\">\n  <span class=\"teal\">ProjectLocation</span> plCurrent\n    = _doc.ActiveProjectLocation;\n \n  <span class=\"green\">// . . . </span>\n \n  <span class=\"teal\">ProjectPosition</span> newPosition\n    = _app.Create.NewProjectPosition(\n      scaleToFT * cs.OriginX,\n      scaleToFT * cs.OriginY,\n      scaleToFT * cs.OriginZ,\n      theRotationYouWant );\n \n  plCurrent.set_ProjectPosition(\n    ptOrigin, newPosition );\n</pre>\n<p>You may have to do this for <b>all</b> project locations.\nA bit of 3D maths and brainwork may be required, but it should be doable.\n\n<p>Many thanks to Katsuaki Takamizawa and Miroslav Schonauer for this discussion and suggestion!\n\n<!--\n\nFrom: Katsuaki Takamizawa \nSent: 09 March 2012 05:30\nTo: Jeremy Tammik; Miroslav Schonauer\nSubject: RE: Rotating the true north\n\nHi Jeremy,\n\nThis developer seems to really need the true north rotation. \nIf that is the case, rotating all project north would not be the solution (though I do not know what is really missing by doing it).\n\nThank you,\nKatsu\n\nHi Katsu,\n\nDid you mean 'solution (though I do NOT know what is really missing by doing it).' \n\nIf I'm wrong than pls can you summarise what it is - otherwise you may ask developer to explain.\n\nCheers,\n\nMiro\n\n-->\n</p></p></p></p></p></p></p>"
  }
]