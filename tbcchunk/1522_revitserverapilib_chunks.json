[
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"run_prettify.js\" type=\"text/javascript\"></script>\n<!--\n<script src=\"https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js\" type=\"text/javascript\"></script>\n-->\n</head>\n\n<!---\n\n- http://thebuildingcoder.typepad.com/blog/2016/12/nuget-revit-api-package.html#comment-3133102375\n  Eric Anastas: I created another Revit related Nuget package you and your readers may be interested in. It's a .NET library that wraps the Revit Server REST API.\n  https://www.nuget.org/packages/RevitServerAPILib/\n  https://bitbucket.org/somddg/revitserverapilib\n\n- merged [pull request #21](https://github.com/jeremytammik/RevitLookup/pull/21) by [@eibre](https://github.com/eibre) adding `UnitType` property on the parameter `Definition` class\n  https://github.com/jeremytammik/RevitLookup/releases/tag/2017.0.0.12\n\n- Component of a truss: Truss.Members and FamilyInstance.GetSubComponentIds\n  http://forums.autodesk.com/t5/revit-api-forum/component-of-a-truss/m-p/6845784\n\n- GeometryObject layer name\n  http://forums.autodesk.com/t5/revit-api-forum/geometryobject-layer-name/m-p/6835165\n\n#RevitAPI @AutodeskRevit #aec #bim #dynamobim @AutodeskForge\n\nToday, we proudly present\n&ndash; NuGet Revit Server REST API Library\n&ndash; RevitLookup Updates\n&ndash; Truss Members and FamilyInstance Sub-Components\n&ndash; GeometryObject Layer Name...\n\n-->"
  },
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "Revit Server API Lib, Truss Members and Layers",
    "local_header_href": "#revit-server-api-lib-truss-members-and-layers",
    "chunk_text": "### Revit Server API Lib, Truss Members and Layers\n\nToday, we proudly present:\n\n- [NuGet Revit Server REST API Library](#2)\n- [RevitLookup Updates](#3)\n- [Truss Members and FamilyInstance Sub-Components](#4)\n- [GeometryObject Layer Name](#5)"
  },
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "<a name=\"2\"></a>NuGet Revit Server REST API Library",
    "local_header_href": "#a-name2anuget-revit-server-rest-api-library",
    "chunk_text": "#### <a name=\"2\"></a>NuGet Revit Server REST API Library\n\nEric Anastas posted\na [comment](http://thebuildingcoder.typepad.com/blog/2016/12/nuget-revit-api-package.html#comment-3133102375) on\nthe discussion of Andrey Bushman's [NuGet Revit API package](http://thebuildingcoder.typepad.com/blog/2016/12/nuget-revit-api-package.html):\n\n> I created another Revit related Nuget package you and your readers may be interested in.\nIt's a .NET library that wraps the Revit Server REST API:\n\n- [RevitServerAPILib package on NuGet ](https://www.nuget.org/packages/RevitServerAPILib)\n- [RevitServerAPILib source on BitBucket](https://bitbucket.org/somddg/revitserverapilib)\n\nMany thanks to Eric for implementing and sharing this!\n\n<center>\n<img src=\"img/nuget_logo.png\" alt=\"\" width=\"64\"/>\n</center>"
  },
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "<a name=\"3\"></a>RevitLookup Updates",
    "local_header_href": "#a-name3arevitlookup-updates",
    "chunk_text": "#### <a name=\"3\"></a>RevitLookup Updates\n\nI integrated another couple of pull requests into RevitLookup.\n\nToday, I added [Einar Raknes](https://github.com/eibre)' simple but significant one-liner\nto [display the `UnitType` or a parameter `Definition` class instance](https://github.com/jeremytammik/RevitLookup/compare/2017.0.0.11...2017.0.0.12):\n\n<pre class=\"code\">\n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">String</span>(&nbsp;<span style=\"color:#a31515;\">&quot;Unit&nbsp;type&quot;</span>,\n&nbsp;&nbsp;&nbsp;&nbsp;paramDef.UnitType.ToString()&nbsp;)&nbsp;);\n</pre>\n\nThanks to Einar for spotting this and creating the [pull request #21](https://github.com/jeremytammik/RevitLookup/pull/21) for it!\n\nHere it is with a little bit more context:\n\n<pre class=\"code\">\n<span style=\"color:blue;\">private</span>&nbsp;<span style=\"color:blue;\">void</span>\nStream(&nbsp;<span style=\"color:#2b91af;\">ArrayList</span>&nbsp;data,&nbsp;<span style=\"color:#2b91af;\">Definition</span>&nbsp;paramDef&nbsp;)\n{\n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">ClassSeparator</span>(&nbsp;<span style=\"color:blue;\">typeof</span>(&nbsp;<span style=\"color:#2b91af;\">Definition</span>&nbsp;)&nbsp;)&nbsp;);\n \n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">String</span>(&nbsp;<span style=\"color:#a31515;\">&quot;Name&quot;</span>,&nbsp;paramDef.Name&nbsp;)&nbsp;);\n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">String</span>(&nbsp;<span style=\"color:#a31515;\">&quot;Parameter&nbsp;type&quot;</span>,&nbsp;paramDef.ParameterType.ToString()&nbsp;)&nbsp;);\n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">String</span>(&nbsp;<span style=\"color:#a31515;\">&quot;Parameter&nbsp;group&quot;</span>,&nbsp;paramDef.ParameterGroup.ToString()&nbsp;)&nbsp;);\n&nbsp;&nbsp;data.Add(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;Snoop.Data.<span style=\"color:#2b91af;\">String</span>(&nbsp;<span style=\"color:#a31515;\">&quot;Unit&nbsp;type&quot;</span>,&nbsp;paramDef.UnitType.ToString()&nbsp;)&nbsp;);\n \n&nbsp;&nbsp;<span style=\"color:#2b91af;\">ExternalDefinition</span>&nbsp;extDef&nbsp;=&nbsp;paramDef&nbsp;<span style=\"color:blue;\">as</span>&nbsp;<span style=\"color:#2b91af;\">ExternalDefinition</span>;\n&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;extDef&nbsp;!=&nbsp;<span style=\"color:blue;\">null</span>&nbsp;)\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;Stream(&nbsp;data,&nbsp;extDef&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>;\n&nbsp;&nbsp;}\n \n&nbsp;&nbsp;<span style=\"color:#2b91af;\">InternalDefinition</span>&nbsp;intrnalDef&nbsp;=&nbsp;paramDef&nbsp;<span style=\"color:blue;\">as</span>&nbsp;<span style=\"color:#2b91af;\">InternalDefinition</span>;\n&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;intrnalDef&nbsp;!=&nbsp;<span style=\"color:blue;\">null</span>&nbsp;)\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;Stream(&nbsp;data,&nbsp;intrnalDef&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>;\n&nbsp;&nbsp;}\n}\n</pre>\n\nCheck out the newest release in the [RevitLookup GitHub repository](https://github.com/jeremytammik/RevitLookup).\n\nI am looking forward to your pull requests to add further enhancements that are important for you."
  },
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "<a name=\"4\"></a>Truss Members and FamilyInstance Sub-Components",
    "local_header_href": "#a-name4atruss-members-and-familyinstance-sub-components",
    "chunk_text": "#### <a name=\"4\"></a>Truss Members and FamilyInstance Sub-Components\n\nI have been pretty active lately in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160),\nand so have Matt Taylor and Frank 'Fair59', who provided many important answers that I was not aware of.\n\nI'll pick up two of Franks nice succinct answers here today.\n\nThe first is on retrieving the [components of a truss](http://forums.autodesk.com/t5/revit-api-forum/component-of-a-truss/m-p/6845784):\n\n**Question:** I would like to get the components of a truss. \nUsing the API, I tried via the `GroupId` property, but it doesn't work.\nAnd in general, the components of a family.\n\n**Answer:** Components of a truss:\n\n<pre class=\"code\">\n  Autodesk.Revit.DB.Structure.<span style=\"color:#2b91af;\">Truss</span>&nbsp;_truss;\n  List&lt;<span style=\"color:#2b91af;\">ElementId</span>&gt;&nbsp;_members&nbsp;=&nbsp;_truss.Members.ToList&lt;<span style=\"color:#2b91af;\">ElementId</span>&gt;();\n</pre>\n\nIn general, for user created families:\n\n<pre class=\"code\">\n  <span style=\"color:#2b91af;\">FamilyInstance</span>&nbsp;_instance;\n  List&lt;<span style=\"color:#2b91af;\">ElementId</span>&gt;&nbsp;_members&nbsp;=&nbsp;_instance.GetSubComponentIds()\n    .ToList&lt;<span style=\"color:#2b91af;\">ElementId</span>&gt;();\n</pre>"
  },
  {
    "original_filename": "1522_revitserverapilib",
    "header_text": "<a name=\"5\"></a>GeometryObject Layer Name",
    "local_header_href": "#a-name5ageometryobject-layer-name",
    "chunk_text": "#### <a name=\"5\"></a>GeometryObject Layer Name\n\nThe second nice succinct answer by Frank 'Fair59' is on\nthe [`GeometryObject` Layer Name](http://forums.autodesk.com/t5/revit-api-forum/geometryobject-layer-name/m-p/6835165):\n\n**Question:** I can loop the objects of a linked CAD file like this:\n\n<pre class=\"code\">\n  <span style=\"color:blue;\">foreach</span>(&nbsp;<span style=\"color:#2b91af;\">GeometryObject</span>&nbsp;geometryObj&nbsp;<span style=\"color:blue;\">in</span>&nbsp;\n  &nbsp;&nbsp;dwg.get_Geometry(&nbsp;<span style=\"color:blue;\">new</span>&nbsp;<span style=\"color:#2b91af;\">Options</span>()&nbsp;)&nbsp;)\n  {\n  }\n</pre>\n\nHow can I access the layer name of the object?\n\n**Answer:** The information is contained in the `GraphicalStyle` element:\n \n<pre class=\"code\">\n  <span style=\"color:#2b91af;\">GraphicsStyle</span>&nbsp;gStyle&nbsp;=&nbsp;document.GetElement(\n    geometryObj.GraphicsStyleId&nbsp;)&nbsp;<span style=\"color:blue;\">as</span>&nbsp;<span style=\"color:#2b91af;\">GraphicsStyle</span>;\n</pre>\n\nThe layer name is provided by `gStyle.GraphicsStyleCategory.Name`."
  }
]