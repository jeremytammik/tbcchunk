[
  {
    "original_filename": "0993_revit_server_rest_api",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "0993_revit_server_rest_api",
    "header_text": "The Revit Server REST API",
    "local_header_href": "#the-revit-server-rest-api",
    "chunk_text": "<h3>The Revit Server REST API</h3><p>Let's take a look at the material available for programmatic access to the Revit Server.</p><p>This came up in a developer query on automatically extracting data from a Revit model housed there.</p><p>The automatic extraction of data requires batch mode opening of a Revit model and launching of a command, for which there is no direct Revit API support.</p><p>However, this can be easily worked around using normal batch files to start Revit with a given project file, an add-in implementing OnStartup and OnDocumentOpened event handlers, and possibly the Idling event. The unsupported journaling mechanism may also come in handy, but should and mostly can easily be avoided.</p><p>Simply put:</p><ul>\n<li>Implement a batch file that calls Revit.exe and provides a project file command line argument.</li>\n<li>Revit will start up and load that file.</li>\n<li>If you have installed an external application, its OnStartup method will be called and can perform certain actions, e.g. subscribe to the document opened event.</li>\n<li>In the document opened event handler, you can start manipulating the document in the way you need.</li>\n<li>If that event is too restrictive, you can subscribe to the Idling event in the event handler.</li>\n<li>The Idling event handler is free to do almost anything you can imagine and should be enough to fulfil your needs.</li>\n</ul><p>With that in place, we can proceed with the Revit Server question:</p><p><strong>Question:</strong> Yes, we have built a console application for executing Revit.exe to open the Revit file and extract the data using the add-in we developed.\nThis is working perfectly fine.\n\n<p>Our next goal is to automate the extraction process from the Revit Server standpoint.</p>\n<p>In out current scenario, we have Revit Server and Revit Client running in multiple locations with 50-75 users, all updating their Revit files to the server.</p>\n<p>Question 1: How can I determine which models have been modified or updated in Revit Server.\nCan the Revit Server API provide this information?\nWe obviously only want to extract the data from modified models.\n\n<p>Question 2: Where do I locate the RVT project files in the Revit Server?\nWhen working in Revit I see a folder structure like this:\n\n<center>\n<img alt=\"Miniscule RVT file\" src=\"img/miniscule_rvt.png\"/>\n</center>\n<p>Please note the miniscule file size of the highlighted Model.rvt, which is just 1 KB. </p>\n<p>If I try open this file in Revit MEP, it fails and throws an exception.</p>\n<p><strong>Answer:</strong> Congratulations on completing your command line tool for driving Revit and automatically extracting the required data.</p>\n<p>Regarding the Revit Server API, I presented some basic information and a sample application making use of the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/11/revit-server-rest-api.html\">\nRevit Server REST API</a> back\n\nin 2011, followed by a discussion on how to use it to\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/12/copy-a-model-from-a-revit-server.html\">\ncopy a model from a Revit Server</a>.\n\nThe Revit Server API has not changed since then.</p>\n<p>You might want to start off by looking at the user interface tools for\n\n<a href=\"http://wikihelp.autodesk.com/Revit/enu/2014/Help/3663-BIM_Mana3663/3691-Revit_Se3691/3721-Revit_Se3721/3724-Managing3724\">\nmanaging Revit Server</a> to get an idea of how the system works.\n\n<p>My colleague Adam Nagy presented the Revit Server REST API at DevCamp using this slide deck,\n\n<a href=\"zip/Revit Server API.pdf\">\nRevit Server API.pdf</a>,\n\nwhich focuses mainly on the REST API aspect in general and includes several useful pointers to further information at the end.</p>\n<p>All further documentation and samples are provided in the Revit Server SDK, which is part of and lives in its own sub-folder of the standard Revit SDK.</p>\n<p>You can also find a number of further examples on the Internet by\n\n<a href=\"http://lmgtfy.com/?q=revit+server+rest+api\">\ngoogling for 'revit server rest api'</a>, e.g.:</p>\n<ul>\n<li><a href=\"http://blog.rodhowarth.com/2011/09/revit-server-how-to-get-listing-of-all.html\">\nGet a listing of all Revit Server projects through the REST interface</a>.</li>\n<li><a href=\"http://blog.ericstimmel.com/2012/05/08/revit-server-model-list\">\nRevit Server model list using the REST API</a>.</li>\n</ul>\n</p></p></p></p>"
  }
]