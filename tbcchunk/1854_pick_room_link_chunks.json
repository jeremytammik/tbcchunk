[
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- Seeking feedback from developers regarding Revit API (Derived Analytical Model)\n  https://forums.autodesk.com/t5/revit-api-forum/seeking-feedback-from-developers-regarding-revit-api-derived/m-p/9615258\n  Are you a developer who interacts with the Revit API regarding the Derived Analytical Model? If so, please take 5 minutes to provide your input. We would like to hear from you. Our goal is to get a better understanding what functions developers are using and how they are using them. Please feel free to forward this on to a developer you work with. Please click here to provide input: https://autodeskfeedback.az1.qualtrics.com/jfe/form/SV_9Xe2uafQg3X9xXf\n\n- pick room in either\n  https://forums.autodesk.com/t5/revit-api-forum/pickobject-to-select-room-in-current-model-or-linked-models/m-p/9624169\n\n- How to get info that Revit custom export of a view is canceled\nhttps://stackoverflow.com/questions/62794859/how-to-get-info-that-revit-custom-export-of-a-view-is-canceled\n**Question:** I have used Revit custom export of a model for exporting a 3D View based on IExportContext. It works fine. But I found that the export process can be Canceled (see screen below) Custom export canceling Then appears a dialog Dialog screen I have 2 questions:\ncustom_export_cancel_button.png\n1. How to get info that exporting was canceled?\n2. Why the name of operation is Printing (see Dialog screen shot)\ncustom_export_cancel_printing.png\n**Answer:** \n1. Implement and handle the [`IExportContext`\n`IsCanceled` method](https://www.revitapidocs.com/2020/31f0b662-81a1-89b8-ab2a-0de99af3b753.htm).\n2. Because the custom export is in fact a printing or exporting context, cf. the [`CustomExporter` documentation](https://www.revitapidocs.com/2020/d2437433-9183-cbb1-1c67-dedd86db5b5a.htm): *The Export method of this class triggers standard rendering or exporting process in Revit, but instead of displaying the result on screen or printer, the output is channeled through the given custom context that handles processing of the geometric as well as non-geometric information*.\n\n- Revit API is single threaded; add-in can use multiple threads\n\n- a beautiful [Beginner’s Guide To Abstraction](https://jesseduffield.com/beginners-guide-to-abstraction/)\n  by Jesse Duffield in a [Pursuit of Laziness](https://jesseduffield.com)\n  Experienced programmers know it all, but beatifully put for a less experienced coder.\n\ntwitter:\n\nSelection filter to pick room in current project or linked model, determining whether custom export was cancelled and multi-threading with the single-threaded #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://bit.ly/pickroominlink\n\nCool topics to wrap up this hot and exciting week\n&ndash; Are you using the derived analytical model?\n&ndash; Pick room in current project or linked model\n&ndash; Determine whether custom export was cancelled\n&ndash; Multi-threading with the single-threaded Revit API\n&ndash; Beginner’s guide to abstraction...\n\nlinkedin:\n\nSelection filter to pick room in current project or linked model, determining whether custom export was cancelled and multi-threading with the single-threaded #RevitAPI\n\nhttps://bit.ly/pickroominlink\n\nCool topics to wrap up this hot and exciting week:\n\n- Are you using the derived analytical model?\n- Pick room in current project or linked model\n- Determine whether custom export was cancelled\n- Multi-threading with the single-threaded Revit API\n- Beginner’s guide to abstraction...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Selection in Link, Cancel in Export, Multithreading",
    "local_header_href": "#selection-in-link-cancel-in-export-multithreading",
    "chunk_text": "### Selection in Link, Cancel in Export, Multithreading\n\nCool topics to wrap up this hot and exciting week:\n\n- [Are you using the derived analytical model?](#2)\n- [Pick room in current project or linked model](#3)\n- [Determine whether custom export was cancelled](#4)\n- [Multi-threading with the single-threaded Revit API](#5)\n- [Beginner’s guide to abstraction](#6)"
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Are You Using the Derived Analytical Model?",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> Are You Using the Derived Analytical Model?\n\nIf so, please provide feedback on your experiences to Charlene Portante, Building Engineering User Experience Research Coordinator at Autodesk.\n\nShe is [seeking feedback from developers regarding the Derived Analytical Model Revit API](https://forums.autodesk.com/t5/revit-api-forum/seeking-feedback-from-developers-regarding-revit-api-derived/m-p/9615258):\n\n> Are you a developer who interacts with the Revit API regarding the Derived Analytical Model?\n\n> If so, please take 5 minutes to provide your input. We would like to hear from you.\n\n> Our goal is to get a better understanding what functions developers are using and how they are using them.\n\n> Please feel free to forward this on to a developer you work with.\n\n> Please click here to provide input:\n\n> [https://autodeskfeedback.az1.qualtrics.com/jfe/form/SV_9Xe2uafQg3X9xXf](https://autodeskfeedback.az1.qualtrics.com/jfe/form/SV_9Xe2uafQg3X9xXf)\n\nThank you!"
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Pick Room in Current Project or Linked Model",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Pick Room in Current Project or Linked Model\n\nRichard [RPThomas108](https://forums.autodesk.com/t5/user/viewprofilepage/user-id/1035859) Thomas and I cooperated nicely and enjoyably to develop a novel solution\nfor [`PickObject` to select a room in current model or linked models](https://forums.autodesk.com/t5/revit-api-forum/pickobject-to-select-room-in-current-model-or-linked-models/m-p/9624169):\n\n**Question:** I’m working on a Revit add-in and would like to prompt the user to select a room in the model.\nThe room can be from either the current project or the linked models.\nWith the help from previous posts in the forum I’m able  to make some progress so far, but still none of the approaches is ideal.\nHere are what I’ve tried and the downsides:\n\n- *PickObject( ObjectType.Element, roomSelectionFilter)* &ndash; This works great for rooms in current model, but won’t allow user to select rooms from linked models.\n- *PickObject( ObjectType.LinkedElement, roomSelectionFilter_linkedRoom)* &ndash; This is the opposite of above: it works great for rooms in linked models, but won’t allow user to select rooms from current model.\n- *PickObject(ObjectType.PointOnElement)* &ndash; This one allows user to select elements in both current and linked models. However, it’s not limited to rooms &ndash; or at least I haven’t come up with a proper `ISelectionFilter` to achieve so.\n\nSo, any ideas? I’m thinking if there’s a way to combine 1. and 2. in one pick, or maybe there can be an `ISelectionFilter` to filter out anything that is not a room for 3.? Appreciate your help!\n\n**Answer:** To cut a long story short, we ended up implementing the latter suggestion, asking `PickObject` to pick a point and limiting the valid selection to room elements, either directly in the current model or in two steps in one of the linked models.\n\nI cleaned up the solution originally implemented by Richard and added it to [The Building Coder samples](https://github.com/jeremytammik/the_building_coder_samples).\nHere is the [diff to the previous version](https://github.com/jeremytammik/the_building_coder_samples/compare/2021.0.149.2.../2021.0.150.0).\n\nThe selection filter looks like this:\n\n<pre class=\"code\">\n&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:blue;\">class</span>&nbsp;<span style=\"color:#2b91af;\">ElementInLinkSelectionFilter</span>&lt;<span style=\"color:#2b91af;\">T</span>&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span style=\"color:#2b91af;\">ISelectionFilter</span>&nbsp;<span style=\"color:blue;\">where</span>&nbsp;<span style=\"color:#2b91af;\">T</span>&nbsp;:&nbsp;<span style=\"color:#2b91af;\">Element</span>\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">private</span>&nbsp;<span style=\"color:#2b91af;\">Document</span>&nbsp;_doc;\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;ElementInLinkSelectionFilter(&nbsp;<span style=\"color:#2b91af;\">Document</span>&nbsp;doc&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_doc&nbsp;=&nbsp;doc;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:#2b91af;\">Document</span>&nbsp;LinkedDocument&nbsp;{&nbsp;<span style=\"color:blue;\">get</span>;&nbsp;<span style=\"color:blue;\">private</span>&nbsp;<span style=\"color:blue;\">set</span>;&nbsp;}&nbsp;=&nbsp;<span style=\"color:blue;\">null</span>;\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:blue;\">bool</span>&nbsp;LastCheckedWasFromLink\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">get</span>&nbsp;{&nbsp;<span style=\"color:blue;\">return</span>&nbsp;<span style=\"color:blue;\">null</span>&nbsp;!=&nbsp;LinkedDocument;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:blue;\">bool</span>&nbsp;AllowElement(&nbsp;<span style=\"color:#2b91af;\">Element</span>&nbsp;e&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>&nbsp;<span style=\"color:blue;\">true</span>;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:blue;\">bool</span>&nbsp;AllowReference(&nbsp;<span style=\"color:#2b91af;\">Reference</span>&nbsp;r,&nbsp;<span style=\"color:#2b91af;\">XYZ</span>&nbsp;p&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkedDocument&nbsp;=&nbsp;<span style=\"color:blue;\">null</span>;\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Element</span>&nbsp;e&nbsp;=&nbsp;_doc.GetElement(&nbsp;r&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;e&nbsp;<span style=\"color:blue;\">is</span>&nbsp;<span style=\"color:#2b91af;\">RevitLinkInstance</span>&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">RevitLinkInstance</span>&nbsp;li&nbsp;=&nbsp;e&nbsp;<span style=\"color:blue;\">as</span>&nbsp;<span style=\"color:#2b91af;\">RevitLinkInstance</span>;\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkedDocument&nbsp;=&nbsp;li.GetLinkDocument();\n \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;=&nbsp;LinkedDocument.GetElement(&nbsp;r.LinkedElementId&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>&nbsp;e&nbsp;<span style=\"color:blue;\">is</span>&nbsp;<span style=\"color:#2b91af;\">T</span>;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;}\n</pre>\n\nHere is the resulting external command for testing it:\n\n<pre class=\"code\">\n&nbsp;&nbsp;<span style=\"color:blue;\">public</span>&nbsp;<span style=\"color:#2b91af;\">Result</span>&nbsp;Execute(\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">ExternalCommandData</span>&nbsp;commandData,\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">ref</span>&nbsp;<span style=\"color:blue;\">string</span>&nbsp;message,\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">ElementSet</span>&nbsp;elements&nbsp;)\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">UIApplication</span>&nbsp;uiapp&nbsp;=&nbsp;commandData.Application;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">UIDocument</span>&nbsp;uidoc&nbsp;=&nbsp;uiapp.ActiveUIDocument;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Document</span>&nbsp;doc&nbsp;=&nbsp;uidoc.Document;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Reference</span>&nbsp;r;\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">ElementInLinkSelectionFilter</span>&lt;<span style=\"color:#2b91af;\">Room</span>&gt;&nbsp;filter\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span style=\"color:blue;\">new</span>&nbsp;<span style=\"color:#2b91af;\">ElementInLinkSelectionFilter</span>&lt;<span style=\"color:#2b91af;\">Room</span>&gt;(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">try</span>\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;uidoc.Selection.PickObject(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">ObjectType</span>.PointOnElement,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#a31515;\">&quot;Please&nbsp;pick&nbsp;a&nbsp;room&nbsp;in&nbsp;current&nbsp;project&nbsp;or&nbsp;linked&nbsp;model&quot;</span>&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">catch</span>(&nbsp;Autodesk.Revit.Exceptions.<span style=\"color:#2b91af;\">OperationCanceledException</span>&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>&nbsp;<span style=\"color:#2b91af;\">Result</span>.Cancelled;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">Element</span>&nbsp;e;\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">if</span>(&nbsp;filter.LastCheckedWasFromLink&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;=&nbsp;filter.LinkedDocument.GetElement(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.LinkedElementId&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">else</span>\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;=&nbsp;doc.GetElement(&nbsp;r&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#2b91af;\">TaskDialog</span>.Show(&nbsp;<span style=\"color:#a31515;\">&quot;Picked&quot;</span>,&nbsp;e.Name&nbsp;);\n \n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>&nbsp;<span style=\"color:#2b91af;\">Result</span>.Succeeded;\n&nbsp;&nbsp;}\n</pre>\n\nRichard confirms that it still works for him as well."
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Determine Whether Custom Export was Cancelled",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Determine Whether Custom Export was Cancelled\n\nA quickie from the StackOverflow question\non [how to get info that Revit custom export of a view is cancelled](https://stackoverflow.com/questions/62794859/how-to-get-info-that-revit-custom-export-of-a-view-is-canceled):\n\n**Question:** I used Revit custom export of a model for exporting a 3D view based on `IExportContext`.\nIt works fine.\nBut I found that the export process can be cancelled:\n\n<center>\n<img src=\"img/custom_export_cancel_button.png\" alt=\"Custom export cancel\" title=\"Custom export cancel\" width=\"600\"/> <!-- 753 -->\n</center>\n\nIf the custom export is cancelled, a dialog box is shown:\n\n<center>\n<img src=\"img/custom_export_cancel_printing.png\" alt=\"Custom export cancel printing\" title=\"Custom export cancel printing\" width=\"400\"/> <!-- 472 -->\n</center>\n\nI have 2 questions:\n\n1. How to get info that exporting was cancelled?\n2. Why is the name of the operation *Printing*?\n\n**Answers:**\n\n1. Implement and handle the [`IExportContext`\n`IsCanceled` method](https://www.revitapidocs.com/2020/31f0b662-81a1-89b8-ab2a-0de99af3b753.htm).\n2. Because the custom export is in fact a printing or exporting context, cf. the [`CustomExporter` documentation](https://www.revitapidocs.com/2020/d2437433-9183-cbb1-1c67-dedd86db5b5a.htm): *The Export method of this class triggers standard rendering or exporting process in Revit, but instead of displaying the result on screen or printer, the output is channelled through the given custom context that handles processing of the geometric as well as non-geometric information*."
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Multi-Threading with the Single-Threaded Revit API",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> Multi-Threading with the Single-Threaded Revit API\n\n**Question:** I have a quick question here: does Revit addin run as a child process of Revit or the addins run in the same process of Revit?\nAlso, where in the code do we start the execution of an addin?\n\n**Answer:** I believe that it is the same process.\nIn fact, you have to be careful to keep execution of API from the addin code on the main thread of Revit.\nAs to where execution begins, an addin is packaged as an application class and there are startup/shutdown methods.\nTo quote: \"You have to be careful to keep execution of API from the addin code on the main thread of Revit.\"\n\n**Question:** Why do we need to be careful to keep the execution in the main thread?\n\n**Answer:** You cannot call Revit API from multiple threads, because most of Revit code is a critical section.\nWeird corruptions and crashes; it's totally against the way Revit runs.\nIt can be quite easy to accidentally let some code call Revit API from a non-main thread.\nI think it can happen when you have timers and UI containers that update asynchronously and need to update something in Revit.\nHere is an explantion of\nwhy [the Revit API is never ever thread safe](https://thebuildingcoder.typepad.com/blog/2014/11/the-revit-api-is-never-ever-thread-safe.html).\n\n**Response:** Okay, I understand the thread-safety and critical section ideas.\nI think 'process' and 'thread' are different concepts.\nProcesses are typically independent of each other, while threads exist as the subset of a process.\nDoes it mean: Revit addin runs in the main thread of Revit, so addin and Revit are in the same process, they share the memory?\nThis is the question we want to know.\n\n**Answer:** Yes.\nAlthough, no, that is not entirely true.\nRevit addins can be multi-threaded.\nThe Revit API can only be correctly accessed from the main thread.\nThat is one reason we have external events that give addins a chance to safely call Revit API methods when another thread says they need to.\n\n**Question:** Is it entirely true that Revit and the addin share the same memory?\n\n**Answer:** The way I understand it is that an addin can spawn threads for computation or UI purposes, but calls to Revit API should be made from the same thread, the one that calls those Startup/OnDocumentOpen methods, etc.\nEdit: external events appear to be a special case.\nThe Revit process owns the main thread which executes both code inside of Revit and the .NET code.\nYou are able to see a call stack that starts in the addin and goes all the way down to Revit.\nPast the managed/unmanaged transition.\nIn fact, there can be several such transitions.\n\n**Question:** Is it entirely true that Revit and the addin share the same memory?\nCould you rephrase?\n\n**Answer:** What is being attempted or prevented?\nAgain, note that there is [no multithreading in Revit](https://thebuildingcoder.typepad.com/blog/2011/06/no-multithreading-in-revit.html).\n\n**Question:** We are trying to understand the exact relationship between Revit and its addins, so we ask experts if an addin can snoop on Revit's memory and find secrets like service credentials.\n\n**Answer:** I think that can be phrased as a general question for security experts: if you call code in a managed assembly, can it see memory inside of the caller? I think it is possible, but .NET is rather sophisticated about tracking trust level of the assemblies.\n\n**Response:** Yes &ndash; I like that rephrase.\n\n**Response:** Thank you! You got exactly what we want to know!\n\n**Answer:** I can't add much, particularly not much about how managed code is restricted.\nAt a low level, any process like the one that is running Revit.exe has a single address space.\nAll threads and all DLLs that exist in the process \"see\" the same data.\nYes, a given thread of execution can transition between native and managed, which, at higher level, each present a different world to the executing code.\nWe know that the way physical memory is mapped into address space cannot be changing very much on these transitions, or when switching among threads, because remapping so often would be too slow.\nSecurity?\nNative code, in particular, could be trampling on anything at any time.\nIt's the Wild Wild West.\nExploits like Spectre feed on that freedom.\nAddins are simply DLLs, but well-behaved addins are limited by the managed architecture and, well, correctness.\nThe so-called main or UI thread of Revit is usually in charge.\nThat's the one your addin code is running in by default.\nManaged code running within an Addin is permitted to create managed side threads.\nThere are a lot of things the code can make happen in these threads, including ending up in native code, but for correctness, such should not be calling arbitrary Revit APIs."
  },
  {
    "original_filename": "1854_pick_room_link",
    "header_text": "Beginner’s Guide To Abstraction",
    "local_header_href": "#6",
    "chunk_text": "####<a name=\"6\"></a> Beginner’s Guide To Abstraction\n\nWe end this week with a beautiful [Beginner’s Guide To Abstraction](https://jesseduffield.com/beginners-guide-to-abstraction)\npresented by Jesse Duffield in a [Pursuit of Laziness](https://jesseduffield.com).\n\nNothing new for an experienced programmer, but beautifully put for less experienced coders.\n\nThe nice name of Jesse's blog may or may not be inspired by Larry Wall's [three virtues](http://threevirtues.com).\n\nHave a nice weekend!"
  }
]