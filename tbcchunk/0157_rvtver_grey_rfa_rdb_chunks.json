[
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<style>\n.blue { color: blue; }\n.teal { color: teal; }\n.maroon { color: maroon; }\n.green { color: green; }\n.gray { color: gray; }\n</style>"
  },
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "RFA Version, Grey Commands, Family Context and RDB Link",
    "local_header_href": "#rfa-version-grey-commands-family-context-and-rdb-link",
    "chunk_text": "<h3>RFA Version, Grey Commands, Family Context and RDB Link</h3><p>Here are some recent issues that cropped up in case queries and other information:</p><ol>\n<li><a href=\"#1\">RFA file version.</a></li>\n<li><a href=\"#2\">Greyed out commands in the ribbon.</a></li>\n<li><a href=\"#3\">Project versus Family editor context.</a></li>\n<li><a href=\"#4\">RDB Link Tool for Revit Family.</a></li>\n</ol><a name=\"1\"></a>"
  },
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "1. RFA file version",
    "local_header_href": "#1-rfa-file-version",
    "chunk_text": "<h4>1. RFA file version</h4><p><strong>Question:</strong>\nWhen loading an RFA file, i.e. through LoadFamily, is there any way to know the Revit version that was used to create it, or at least to know that this RFA file has been converted to the current Revit version format?</p><p><strong>Answer:</strong>\nI am not aware of any Revit API methods for determining the Revit version used to create or last save an RFA file. \nHowever, I did implement and discuss a stand-alone command line utility \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2008/10/rvt-file-version.html\">\nrvtver.py</a>\n\nto extract the Revit version information from a project file. \nI just tested rvtver.py on an RFA file. \nI selected the door family M_Single-Flush.rfa from the folder\n\n'C:\\Documents and Settings\\All Users\\Application Data\\Autodesk\\RAC 2010\\Metric Library\\Doors'.\n\nRunning rvtver.py on that file reports\n\n<pre>\n&gt; rvtver.py M_Single-Flush.rfa\nBuild string found in 'M_Single-Flush.rfa' \n  at offset 16470: Build: 20090224_0900\n</pre>\n<p>The \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2008/10/rvt-file-version.html\">\npost on rvtver.py</a>\n\nexplains some of the background on the file structure. \nIf you look at the RFA file in a binary or hexadecimal editor, you may be able to glean some further information.\n\n\n<a name=\"2\"></a>\n<h4>2. Greyed out commands in the ribbon</h4>\n<p><strong>Question:</strong>\nIn Revit 2010, what are the reasons for commands being disabled?\nMy commands are active when I switch to family template or family file. \nIn previous versions, external commands were greyed out in 3D view and family editor mode. \nWhat could be the reasons in this case?\n\n<p>I've created some external commands and they appear in the menu. \nThe commands are disabled, i.e. greyed out, until I open a family template or family file. \nOpening a new  existing project does not enable the commands as it should. \nWhat might I check as possible causes of the problem?\nNote that if I open a family template or file, the commands are enabled and I can execute them.\n\n<p><strong>Answer:</strong>\nOne possible reason is that the focus is not in the current view. \nFor example, after left clicking an item in project browser, for instance plan view, the external command item is grey.\nYou need to click any place in the region of the current view to make them active.\nOther reasons why they might be greyed out are:\n\n<ul>\n<li>You are in a tool other than the main selection tool.\n<li>You are in a perspective view.  \n<li>You are in a schedule view.\n</li></li></li></ul>\n<p>None of these modes permit API commands to run at this time.\n\n\n<a name=\"3\"></a>\n<h4>3. Project versus Family editor context</h4>\n<!-- 1251105 [family editor] -->\n<p><strong>Question:</strong>\nMy command works well when it is executed from within a project but not when executed from the family editor. \nIs there any way to know if the command is being executed from the family editor or from a project context?\nIn any case, how can I obtain the Family object of the current family in the family editor?</p>\n<p><strong>Answer:</strong>\nYou can check if the current document is a Family document using the Document.IsFamilyDocument property. The owner family is accessible through Document.OwnerFamily.\n\n<p>Please have a look at the family creation samples in the FamilyCreation subdirectory of the Revit SDK samples folder. The most comprehensive of these in the WindowWizard sample.\n\n<p>Thanks to Adam Nagy for handling this case.\n\n\n<a name=\"4\"></a>\n<h4>4. RDB Link Tool for Revit Family</h4>\n<p>A brand new\n\n<a href=\"http://labs.autodesk.com/utilities/revit_rdb\">\nRDB Link Tool for Revit Family</a>\n\nis now available on \n\n<a href=\"http://labs.autodesk.com\">\nAutodesk Labs</a>.\n\nIn case you are interested, please check it out.</p>\n</p></p></p></p></p></p></p></p></p>"
  },
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "2. Greyed out commands in the ribbon",
    "local_header_href": "#2-greyed-out-commands-in-the-ribbon",
    "chunk_text": "<h4>2. Greyed out commands in the ribbon</h4><p><strong>Question:</strong>\nIn Revit 2010, what are the reasons for commands being disabled?\nMy commands are active when I switch to family template or family file. \nIn previous versions, external commands were greyed out in 3D view and family editor mode. \nWhat could be the reasons in this case?\n\n<p>I've created some external commands and they appear in the menu. \nThe commands are disabled, i.e. greyed out, until I open a family template or family file. \nOpening a new  existing project does not enable the commands as it should. \nWhat might I check as possible causes of the problem?\nNote that if I open a family template or file, the commands are enabled and I can execute them.\n\n<p><strong>Answer:</strong>\nOne possible reason is that the focus is not in the current view. \nFor example, after left clicking an item in project browser, for instance plan view, the external command item is grey.\nYou need to click any place in the region of the current view to make them active.\nOther reasons why they might be greyed out are:\n\n<ul>\n<li>You are in a tool other than the main selection tool.\n<li>You are in a perspective view.  \n<li>You are in a schedule view.\n</li></li></li></ul>\n<p>None of these modes permit API commands to run at this time.\n\n\n<a name=\"3\"></a>\n<h4>3. Project versus Family editor context</h4>\n<!-- 1251105 [family editor] -->\n<p><strong>Question:</strong>\nMy command works well when it is executed from within a project but not when executed from the family editor. \nIs there any way to know if the command is being executed from the family editor or from a project context?\nIn any case, how can I obtain the Family object of the current family in the family editor?</p>\n<p><strong>Answer:</strong>\nYou can check if the current document is a Family document using the Document.IsFamilyDocument property. The owner family is accessible through Document.OwnerFamily.\n\n<p>Please have a look at the family creation samples in the FamilyCreation subdirectory of the Revit SDK samples folder. The most comprehensive of these in the WindowWizard sample.\n\n<p>Thanks to Adam Nagy for handling this case.\n\n\n<a name=\"4\"></a>\n<h4>4. RDB Link Tool for Revit Family</h4>\n<p>A brand new\n\n<a href=\"http://labs.autodesk.com/utilities/revit_rdb\">\nRDB Link Tool for Revit Family</a>\n\nis now available on \n\n<a href=\"http://labs.autodesk.com\">\nAutodesk Labs</a>.\n\nIn case you are interested, please check it out.</p>\n</p></p></p></p></p></p></p>"
  },
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "3. Project versus Family editor context",
    "local_header_href": "#3-project-versus-family-editor-context",
    "chunk_text": "<h4>3. Project versus Family editor context</h4><p><strong>Question:</strong>\nMy command works well when it is executed from within a project but not when executed from the family editor. \nIs there any way to know if the command is being executed from the family editor or from a project context?\nIn any case, how can I obtain the Family object of the current family in the family editor?</p><p><strong>Answer:</strong>\nYou can check if the current document is a Family document using the Document.IsFamilyDocument property. The owner family is accessible through Document.OwnerFamily.\n\n<p>Please have a look at the family creation samples in the FamilyCreation subdirectory of the Revit SDK samples folder. The most comprehensive of these in the WindowWizard sample.\n\n<p>Thanks to Adam Nagy for handling this case.\n\n\n<a name=\"4\"></a>\n<h4>4. RDB Link Tool for Revit Family</h4>\n<p>A brand new\n\n<a href=\"http://labs.autodesk.com/utilities/revit_rdb\">\nRDB Link Tool for Revit Family</a>\n\nis now available on \n\n<a href=\"http://labs.autodesk.com\">\nAutodesk Labs</a>.\n\nIn case you are interested, please check it out.</p>\n</p></p></p>"
  },
  {
    "original_filename": "0157_rvtver_grey_rfa_rdb",
    "header_text": "4. RDB Link Tool for Revit Family",
    "local_header_href": "#4-rdb-link-tool-for-revit-family",
    "chunk_text": "<h4>4. RDB Link Tool for Revit Family</h4><p>A brand new\n\n<a href=\"http://labs.autodesk.com/utilities/revit_rdb\">\nRDB Link Tool for Revit Family</a>\n\nis now available on \n\n<a href=\"http://labs.autodesk.com\">\nAutodesk Labs</a>.\n\nIn case you are interested, please check it out.</p>"
  }
]