[
  {
    "original_filename": "1426_revit_2017",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"run_prettify.js\" type=\"text/javascript\"></script>\n<!--\n<script src=\"https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js\" type=\"text/javascript\"></script>\n-->\n</head>\n\n<!---\n\nRevit 2017, RevitLookup and SDK Samples #revitAPI #3dwebcoder @AutodeskRevit #adsk #aec #bim #python #dynamobim\n\nRevit 2017 was released yesterday.\nHere is the official Autodesk statement stating that Revit 2017 advances BIM for the future of designing buildings.\nI downloaded and installed my version from the Autodesk Revit family free trial web site.\nLet's look at what I did to install and first add-in compilation experiences\n&ndash; Uninstalling prior versions and cleaning the registry\n&ndash; Dummy API assembly folder for compiling samples\n&ndash; Resolving hiccups compiling Revit 2017 SDK samples\n&ndash; RevitLookup for Revit 2017...\n\n-->"
  },
  {
    "original_filename": "1426_revit_2017",
    "header_text": "Revit 2017, RevitLookup and SDK Samples",
    "local_header_href": "#revit-2017-revitlookup-and-sdk-samples",
    "chunk_text": "### Revit 2017, RevitLookup and SDK Samples\n\nRevit 2017 was released yesterday.\n\nHere is the official Autodesk statement stating\nthat [Revit 2017 advances BIM for the future of designing buildings](http://inthefold.autodesk.com/in_the_fold/2016/04/revit-2017-advances-bim-for-future-of-designing-buildings.html).\n\nAnother take by Paul Aubin discusses\n[Revit 2017 here! What's new?](https://www.linkedin.com/pulse/revit-2017-here-whats-new-paul-aubin)\n\nI downloaded and installed my version from\nthe [Autodesk Revit family free trial](http://www.autodesk.com/products/revit-family/free-trial) web site.\n\n<center>\n<img src=\"img/revit_2017_successfully_installed.png\" alt=\"Revit 2017 installed\" width=\"430\">\n</center>\n\nLet's look at what I did to install and first add-in compilation experiences:\n\n- [Uninstalling prior versions and cleaning the registry](#2)\n- [Dummy API assembly folder for compiling samples](#3)\n- [Resolving hiccups compiling Revit 2017 SDK samples](#4)\n- [RevitLookup for Revit 2017](#5)"
  },
  {
    "original_filename": "1426_revit_2017",
    "header_text": "<a name=\"2\"></a>Uninstalling Prior Versions and Cleaning the Registry",
    "local_header_href": "#a-name2auninstalling-prior-versions-and-cleaning-the-registry",
    "chunk_text": "#### <a name=\"2\"></a>Uninstalling Prior Versions and Cleaning the Registry\n\nIt initially refused to install due either to me clicking around too fast or some remnants of the pre-release from the Windows registry:\n\n<center>\n<img src=\"img/revit_2017_prior_version_installed.png\" alt=\"Revit 2017 prior version installed\" width=\"417\">\n</center>\n\nI resolved that after struggling a while to manually remove every trace of 'Revit 2017' from the Windows registry."
  },
  {
    "original_filename": "1426_revit_2017",
    "header_text": "<a name=\"3\"></a>Dummy API assembly Folder for Compiling Samples",
    "local_header_href": "#a-name3adummy-api-assembly-folder-for-compiling-samples",
    "chunk_text": "#### <a name=\"3\"></a>Dummy API assembly Folder for Compiling Samples\n\nThe first thing I did was to compile the Revit SDK samples.\n\nTo tell the truth, I compiled those last week, before installing Revit 2017.\n\nIn order to achieve that, I manually created a dummy placeholder folder `C:\\Program Files\\Autodesk\\Revit 2017` and copied the Revit API assemblies into that:\n\n<pre>\n01/20/2016  23:28      43,680 RevitAddInUtility.dll\n01/20/2016  23:39  26,252,328 RevitAPI.dll\n01/20/2016  23:40      81,568 RevitAPIBrowserUtils.dll\n01/20/2016  23:30   1,255,584 RevitAPIFoundation.dll\n01/20/2016  23:39     384,040 RevitAPIIFC.dll\n01/20/2016  23:39      33,952 RevitAPILink.dll\n01/20/2016  23:40     103,584 RevitAPIMacros.dll\n01/20/2016  23:39     550,952 RevitAPIMacrosInterop.dll\n01/20/2016  23:39     559,144 RevitAPIMacrosInteropAPI.dll\n01/20/2016  23:40   2,695,720 RevitAPIUI.dll\n01/20/2016  23:40      69,792 RevitAPIUILink.dll\n01/20/2016  23:40      83,616 RevitAPIUIMacros.dll\n01/20/2016  23:39     263,208 RevitAPIUIMacrosInterop.dll\n01/20/2016  23:40     463,520 RevitAPIUIMacrosInteropAPI.dll\n01/20/2016  23:32  12,464,168 RevitDBAPI.dll\n01/20/2016  23:32     658,984 RevitMFCAPI.dll\n01/20/2016  23:40   1,454,632 RevitUIAPI.dll\n       17 File(s)  47,418,472 bytes\n</pre>\n\nThe final release ones have a newer timestamp and slightly different sizes:\n\n<pre>\n02/26/2016  03:23      42,968 RevitAddInUtility.dll\n02/26/2016  03:34  26,252,760 RevitAPI.dll\n02/26/2016  03:36      81,928 RevitAPIBrowserUtils.dll\n02/26/2016  03:26   1,254,872 RevitAPIFoundation.dll\n02/26/2016  03:35     385,544 RevitAPIIFC.dll\n02/26/2016  03:35      34,312 RevitAPILink.dll\n02/26/2016  03:35     103,944 RevitAPIMacros.dll\n02/26/2016  03:35     551,384 RevitAPIMacrosInterop.dll\n02/26/2016  03:35     559,576 RevitAPIMacrosInteropAPI.dll\n02/26/2016  03:36   2,696,152 RevitAPIUI.dll\n02/26/2016  03:36      70,152 RevitAPIUILink.dll\n02/26/2016  03:36      83,976 RevitAPIUIMacros.dll\n02/26/2016  03:35     264,712 RevitAPIUIMacrosInterop.dll\n02/26/2016  03:35     462,808 RevitAPIUIMacrosInteropAPI.dll\n02/26/2016  03:28  12,464,600 RevitDBAPI.dll\n02/26/2016  03:28     660,488 RevitMFCAPI.dll\n02/26/2016  03:35   1,455,576 RevitUIAPI.dll\n       17 File(s)  47,425,752 bytes\n</pre>"
  },
  {
    "original_filename": "1426_revit_2017",
    "header_text": "<a name=\"4\"></a>Resolving Hiccups Compiling Revit 2017 SDK Samples",
    "local_header_href": "#a-name4aresolving-hiccups-compiling-revit-2017-sdk-samples",
    "chunk_text": "#### <a name=\"4\"></a>Resolving Hiccups Compiling Revit 2017 SDK Samples\n\nI ran into a couple of minor issues compiling the Revit 2017 SDK samples.\n\nI was able to resolve them all myself, and so can you.\n\nI installed the SDK from the MSI file that I received internally:\n\n<pre>\n  04/15/2016  11:29  307,387,758  REVIT_2017_SDK.msi\n</pre>\n\nI set it up in the root folder `C:\\a\\lib\\revit\\2017\\SDK`.\n\nAs always, the first thing I did was to set up a desktop shortcut to the Revit API help file RevitAPI.chm in `C:\\a\\lib\\revit\\2017\\SDK\\RevitAPI.chm`, and I strongly recommend you do the same thing right away as well.\n\nI simulated the installation of Revit 2017, which I had not yet installed, a [described above](#3), by copying the Revit API DLLs from the Kepler pre-release version to a manually created dummy folder `C:\\Program Files\\Autodesk\\Revit 2017`.\n\nI opened Visual Studio 2015, which required an initial some licencing and log-on procedure, since I had hardly ever used it before.\n\nI loaded the Revit SDK samples solution file `C:\\a\\lib\\revit\\2017\\SDK\\Samples\\SDKSamples.sln`.\n\nInitially, [lots of errors](zip/sdk_samples_2017_01.txt) occurred and four samples failed to build.\n\nThe first one that I took a closer look at was `BRepBuilderExample`.\n\nIt was trying to load the Revit API assemblies from a non-existent hint path `Releasex64` specified in BRepBuilderExample.csproj:\n\n<pre class=\"prettyprint\">\n<span class=\"blue\">&lt;</span><span class=\"maroon\">Reference</span><span class=\"blue\"> </span><span class=\"red\">Include</span><span class=\"blue\">=</span>&quot;<span class=\"blue\">RevitAPI</span>&quot;<span class=\"blue\">&gt;</span>\n<span class=\"blue\">&nbsp; &lt;</span><span class=\"maroon\">HintPath</span><span class=\"blue\">&gt;</span>..\\..\\..\\..\\..\\..\\..\\..\\Releasex64\\RevitAPI.dll<span class=\"blue\">&lt;/</span><span class=\"maroon\">HintPath</span><span class=\"blue\">&gt;</span>\n<span class=\"blue\">&lt;/</span><span class=\"maroon\">Reference</span><span class=\"blue\">&gt;</span>\n<span class=\"blue\">&lt;</span><span class=\"maroon\">Reference</span><span class=\"blue\"> </span><span class=\"red\">Include</span><span class=\"blue\">=</span>&quot;<span class=\"blue\">RevitAPIUI</span>&quot;<span class=\"blue\">&gt;</span>\n<span class=\"blue\">&nbsp; &lt;</span><span class=\"maroon\">HintPath</span><span class=\"blue\">&gt;</span>..\\..\\..\\..\\..\\..\\..\\..\\Releasex64\\RevitAPIUI.dll<span class=\"blue\">&lt;/</span><span class=\"maroon\">HintPath</span><span class=\"blue\">&gt;</span>\n<span class=\"blue\">&lt;/</span><span class=\"maroon\">Reference</span><span class=\"blue\">&gt;</span>\n</pre>\n\nI fixed that by manually browsing to and re-referencing the DLLs and raised the issue REVIT-89864 [API sample BRepBuilderExample fails to compile] with the development team to have this fixed.\n\nAfter successfully compiling BRepBuilderExample, [CancelSave fails to compile](zip/sdk_samples_2017_02.txt), because it requires RevitAddInUtility.dll.\n\nMy mistake, I had forgotten to copy it into my dummy DLL assembly folder:\n\n<pre>\n&gt; copy \"C:\\Program Files\\Autodesk\\Revit Kepler\\RevitAddInUtility.dll\" \"..\\Revit 2017\"\n</pre>\n\nWith CancelSave compiling successfully, the [next error occurred in PlacementOptions](zip/sdk_samples_2017_03.txt), which has a setting requiring all public members to be equipped with an XML documentation comment:\n\n<pre>\nC:\\...\\PlacementOptions\\CS\\Command.cs(151,9,151,18): error CS1591: Missing XML comment for publicly visible type or member 'PlacementOptionsEnum.FaceBased'\n\nC:\\...\\PlacementOptions\\CS\\Command.cs(152,9,152,20): error CS1591: Missing XML comment for publicly visible type or member 'PlacementOptionsEnum.SketchBased'\n</pre>\n\nI resolved that by adding the required comments and passed that on to the development team in REVIT-89865 [API: PlacementOptions Revit SDK sample compilation error]:\n\n<pre class=\"code\">\n&nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;summary&gt;</span>\n&nbsp; <span class=\"gray\">///</span><span class=\"green\"> The placement options for user to place the family instance.</span>\n&nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;/summary&gt;</span>\n&nbsp; <span class=\"blue\">public</span> <span class=\"blue\">enum</span> <span class=\"teal\">PlacementOptionsEnum</span>\n&nbsp; {\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;summary&gt;</span>\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> Face based</span>\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;/summary&gt;</span>\n&nbsp; &nbsp; FaceBased,\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;summary&gt;</span>\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> Sketch based</span>\n&nbsp; &nbsp; <span class=\"gray\">///</span><span class=\"green\"> </span><span class=\"gray\">&lt;/summary&gt;</span>\n&nbsp; &nbsp; SketchBased\n&nbsp; }\n</pre>\n\nOnce that was completed, all samples compiled with [zero errors and 15 warnings](zip/sdk_samples_2017_04.txt):\n\n<span style=\"font-size: 80%\">\n<pre>\n------ Project: FrameBuilder ------\nMSB3884: Could not find rule set file \"Migrated rules for FrameBuilder.ruleset\".\n------ Project: GeometryCreation_BooleanOperation ------\nMSB3884: Could not find rule set file \"GeometryCreation_BooleanOperation.ruleset\".\n------ Project: ProximityDetection_WallJoinControl ------\nMSB3884: Could not find rule set file \"ProximityDetection_WallJoinControl.ruleset\".\n------ Project: DatumsModification ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n------ Project: FabricationPartLayout ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n------ Project: GenericStructuralConnection ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n------ Project: CapitalizeAllTextNotes ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n------ Project: PlacementOptions ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n------ Project: BRepBuilderExample ------\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\".\nMSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPIUI\", \"AMD64\".\n</pre>\n</span>\n\nI submitted one final request REVIT-89869 [API SDK samples: eliminate warning messages] to the development team to fix these warning messages as well, but did not look into them myself in more detail.\n\nThey are all trivial to eliminate, and all belong to one of two types:\n\n- MSB3884: Could not find rule set file \"Migrated rules for *.ruleset\".\n- MSB3270: There was a mismatch between the processor architecture of the project being built \"MSIL\" and the processor architecture of the reference \"RevitAPI\", \"AMD64\"...\n\nI actually implemented a stand-alone tool two years ago to automatically fix the latter warning, the Architecture Mismatch Warning Disabler:\n\n- [Processor Architecture Mismatch Warning and Key Hook](http://thebuildingcoder.typepad.com/blog/2013/06/processor-architecture-mismatch-warning.html)\n- [Recursively Disable Architecture Mismatch Warning](http://thebuildingcoder.typepad.com/blog/2013/07/recursively-disable-architecture-mismatch-warning.html)\n- [Architecture Mismatch Warning Disabler Update](http://thebuildingcoder.typepad.com/blog/2014/09/architecture-mismatch-warning-disabler-update.html)\n\nHere is Visual Studio 2015 with all the 182 Revit 2017 SDK samples successfully compiled:\n\n<center>\n<img src=\"img/revit_2017_sdk_samples.png\" alt=\"Revit 2017 SDK samples successfully compiled in Visual Studio 2015\" width=\"331\">\n</center>"
  },
  {
    "original_filename": "1426_revit_2017",
    "header_text": "<a name=\"5\"></a>RevitLookup for Revit 2017",
    "local_header_href": "#a-name5arevitlookup-for-revit-2017",
    "chunk_text": "#### <a name=\"5\"></a>RevitLookup for Revit 2017\n\nActually, to tell the even deeper truth, on request from Remy and others, I\ncompiled [RevitLookup for Revit 2017](https://github.com/jeremytammik/RevitLookup) even\nbefore touching the Revit SDK.\n\nIt was migrated to Revit 2017 by Jose Manuel Solís López of [SOFiSTiK AG](http://www.sofistik.com), [@ManuelSL](https://github.com/ManuelSL) on GitHub.\n\nThank you very much for that, Manuel!\n\n¡Muchísimas gracias!\n\nI mentioned that last week in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api/bd-p/160)\nin the [off topic for Remy](http://forums.autodesk.com/t5/revit-api/off-topic-for-remy/m-p/5995280) thread.\n\nAt the time, I did not yet have Revit 2017 installed, so that was also done using the [dummy Revit API assembly container folder](#3).\n\nTherefore, the most up-to-date version provided in\nthe [RevitLookup GitHub repository](https://github.com/jeremytammik/RevitLookup) is now for Revit 2017,\n[release 2017.0.0.2](https://github.com/jeremytammik/RevitLookup/releases/tag/2017.0.0.2).\n\nIf you are interested in an earlier release of Revit, please grab the latest appropriate one from the\n[release list](https://github.com/jeremytammik/RevitLookup/releases), e.g.,\n[2016.0.0.13](https://github.com/jeremytammik/RevitLookup/releases/tag/2016.0.0.13) for Revit 2016,\n[2015.0.0.8](https://github.com/jeremytammik/RevitLookup/releases/tag/2015.0.0.8) for Revit 2015, etc."
  }
]