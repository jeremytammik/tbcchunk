[
  {
    "original_filename": "1956_outer_walls",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- RevitLookup Release 2023.1.0\n  New: Hello World window changed to About\n  New: re-sorted commands on the Revit ribbon, frequently used moved to the top\n  New: added Snoop Active Document command\n  Fix: revert support search index from keyboard\n  Fix: removed label if `ElementId` was -1\n\n- Filter different BuiltInCategories at same time\n  https://forums.autodesk.com/t5/revit-api-forum/can-i-filter-different-builtincategories-at-same-time/m-p/11254486\n\n- How do I get all the outermost walls in the model?\n  https://forums.autodesk.com/t5/revit-api-forum/how-do-i-get-all-the-outermost-walls-in-the-model/m-p/11250597#M64192\n  1656_exterior_walls.md\n  addendum\n[m.de.vriesTH5VM](https://forums.autodesk.com/t5/user/viewprofilepage/user-id/5479182)\nThis algorithm to create a room around the building and let it determine its boundary walls is the most reliable and fastest solution to this particular problem of finding the exterior walls of a building. It also works better with e.g. Dutch drawing practice where compound walls are split into individual walls for its layers, making approaches that rely on 'isExternal' properties or the count of bounded rooms unreliable at best.\nThere is however one caveat that is important to keep in mind. This is essentially a 2D approach to finding boundaries as you are working with boundary lines and not planes. This appears to be a fundamental limitation of the Revit API. This is not normally a problem for this particular algorithm, but it will become one if your model has vertically stacked walls within a single level. In that case only one wall of that stack will be found, usually the one closest to the bottom of the temporary room.\nThere are of course workarounds to this: Determine the z-heights of each wall in the stack and create a separate room for each of those heights. This of course has to be done for every wall that falls into or crosses a particular z-height range that you are interested in, so the scan for finding all the z-heights that need to be checked separately can be time consuming for large designs.\nI am guessing the `BuildingEnvelopeAnalyzer` needs a cell size variable to solve this same problem (though they are more likely to internally use a horizontal section plane to find intersecting walls and determine the exterior walls from a much smaller set of candidates).\nSo, the room around the entire design is probably the best solution with the least requirements, but it will need some non-trivial modifications to be able to handle designs with stacked walls  \n\n- zen and the art of react programming\n  [How to build Gmail-like UI with React Native at a Zen temple Koshoji](https://youtu.be/w-M9UFHLAl0)\n  two-and-a-half-hour full feature film with beautiful views \n\ntwitter:\n\nRevitLookup update, filtering for multiple built-in categories and considerations retrieving all outer walls in the #RevitAPI  @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://bit.ly/outerwalls\n\nFreshening up a few of our favourite recurring topics\n&ndash; RevitLookup update\n&ndash; Filtering for multiple built-in categories\n&ndash; Retrieving all outer walls\n&ndash; Zen and the art of React programming...\n\nlinkedin:\n\nRevitLookup update, filtering for multiple built-in categories and considerations retrieving all outer walls in the #RevitAPI\n\nhttps://bit.ly/outerwalls\n\nFreshening up a few of our favourite recurring topics:\n\n- RevitLookup update\n- Filtering for multiple built-in categories\n- Retrieving all outer walls\n- Zen and the art of React programming...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\" height=\"\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1956_outer_walls",
    "header_text": "Outer Walls, Lookup Update and Filtering",
    "local_header_href": "#outer-walls-lookup-update-and-filtering",
    "chunk_text": "### Outer Walls, Lookup Update and Filtering\n\nReturning once again to freshen up a few of our favourite recurring topics:\n\n- [RevitLookup 2023.1.0](#2)\n- [Filter multiple built-in categories](#3)\n- [Retrieving all outer walls](#4)\n- [Zen and the art of React programming](#5)"
  },
  {
    "original_filename": "1956_outer_walls",
    "header_text": "RevitLookup 2023.1.0",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> RevitLookup 2023.1.0\n\nA new version of [RevitLookup](https://github.com/jeremytammik/RevitLookup) is available.\n\n[RevitLookup release 2023.1.0](https://github.com/jeremytammik/RevitLookup/releases/tag/2023.1.0) includes the following enhancements:\n\n- New: Hello World window changed to About\n- New: re-sorted commands on the Revit ribbon, frequently used moved to the top\n- New: added Snoop Active Document command\n- Fix: revert support search index from keyboard\n  Fix: removed label if `ElementId` was -1\n\nThey are discussed in more depth in\nthe [enhancements discussion #124](https://github.com/jeremytammik/RevitLookup/discussions/124#discussioncomment-2675274).\n\nThank you very much, Roman, Роман [@Nice3point](https://t.me/nice3point) Карпович, for your great ideas and diligent maintenance work!"
  },
  {
    "original_filename": "1956_outer_walls",
    "header_text": "Filter Multiple Built-In Categories",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Filter Multiple Built-In Categories\n\nA short note from\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non [filtering different built-in categories at the same time](https://forums.autodesk.com/t5/revit-api-forum/can-i-filter-different-builtincategories-at-same-time/m-p/11254486):\n\n**Question:** Is it possible to filter different BuiltInCategories at same time?\n\nBecause I want to improve my code efficiency in my big Revit file, so I only want to filter once.\n\nOr is there any other way to get instances of these built-in categories in a list?\n\n<pre class=\"prettyprint\">\nbic_beam = DB.BuiltInCategory.OST_StructuralFraming\nbic_collumn = DB.BuiltInCategory.OST_StructuralColumns\nbic_beam_tag = DB.BuiltInCategory.OST_StructuralFramingTags\nbic_collumn_tag = DB.BuiltInCategory.OST_StructuralColumnTags\n</pre>\n\nSo far, I only know the basic collector and filtering for one BuiltInCategory:\n\n<pre class=\"prettyprint\">\ncollector = DB.FilteredElementCollector(doc, doc.Active.Id)\nbeam_filter = DB.ElementCategoryFilter(DB.BuiltInCategory.OST_StructuralFraming)\nbeam_elements = collector.WherePasses(beam_filter ).ToElementIds()\n</pre>\n\n**Answer:** First, a comment on your second code snippet: it is always advisable to use the filter shortcuts.\n\nIn this case, use `OfCategory` instead of `ElementCategoryFilter` + `WherePasses`.\nIt is shorter, clearer, and guarantees that you are using a quick filter.\n\nSecond, the answer to your question is *yes*.\nI think this is the one and only purpose of\nthe [`FilterCategoryRule` class](https://www.revitapidocs.com/2022/7df5b10b-c423-b5c8-6492-1274d7a447d9.htm).\n\nRead the article on [how to use FilterCategoryRule](https://thebuildingcoder.typepad.com/blog/2018/05/how-to-use-filtercategoryrule.html) for more info.\n\nIt also mentions how you can easily achieve the same without using FilterCategoryRule, by using a Boolean OR combination filter of ElementCategoryFilter instances, showing how that approach can be used to:\n\n- [Retrieve MEP elements](https://thebuildingcoder.typepad.com/blog/2010/06/retrieve-mep-elements-and-connectors.html)\n- [Retrieve structural elements](https://thebuildingcoder.typepad.com/blog/2010/07/retrieve-structural-elements.html)\n\nFor yet more info, please refer to\nThe Building Coder [topic group on filtering for elements](https://thebuildingcoder.typepad.com/blog/about-the-author.html#5.9).\n\nLast but not least, you can also use\nthe [`ElementMulticategoryFilter` class](https://www.revitapidocs.com/2022/e43a304a-6931-7492-441c-3cac428f2431.htm),\na filter used to find elements whose category matches any of a given set of categories, e.g.:\n\n<pre class=\"prettyprint\">\ncat_list = [BuiltInCategory.OST_Walls, BuiltInCategory.OST_Windows, BuiltInCategory.OST_Doors, BuiltInCategory.OST_Floors, BuiltInCategory.OST_Ceilings]\ntypes = List[BuiltInCategory](cat_list)\nmultiCat = ElementMulticategoryFilter(types)\nElements = FilteredElementCollector(doc).WherePasses(multiCat).WhereElementIsNotElementType().ToElements()\n</pre>\n\n**Response:** Thank you! That is exactly what I need!\n\nTwo questions to clarify:\n\nSo, the two approaches `OfCategory` and `ElementCategoryFilter` + `WherePasses` both achieve the same goal.\nIn addition, both ways are quick filters.\nHowever, using `OfCategory` directly can be more readable and clearer. \n\nIs that right?\n\nI will compare using `FilterCategoryRule` with `ElemenetMulticategoryFilter`.\n\n**Answer:** Yes, that is absolutely correct.\n\nI prefer `ElementMulticategoryFilter` myself, now I think about it.\nIt is clearer and more direct.\nIt did not exist when I originally implemented the samples\nto [retrieve MEP elements](https://thebuildingcoder.typepad.com/blog/2010/06/retrieve-mep-elements-and-connectors.html)\nand [structural elements](https://thebuildingcoder.typepad.com/blog/2010/07/retrieve-structural-elements.html),\nor I would have opted for that back then."
  },
  {
    "original_filename": "1956_outer_walls",
    "header_text": "Retrieving All Outer Walls",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Retrieving All Outer Walls\n\nMark de Vries of [ICN Development](https://icn.eu/) shared\nsome important real-world considerations in the discussion\nabout [how to get all the outermost walls in the model](https://forums.autodesk.com/t5/revit-api-forum/how-do-i-get-all-the-outermost-walls-in-the-model/m-p/11250597)\nthat we edited and shared here four years ago in the article\non [`FilterRule` use and retrieving exterior walls](http://thebuildingcoder.typepad.com/blog/2018/05/filterrule-use-and-retrieving-exterior-walls.html):\n\nThis algorithm to create a room around the building and let it determine its boundary walls is the most reliable and fastest solution to this particular problem of finding the exterior walls of a building. It also works better with, e.g., Dutch drawing practice, where compound walls are split into individual walls for its layers, making approaches that rely on `isExternal` properties or the count of bounded rooms unreliable at best.\n\nThere is however one caveat that is important to keep in mind. This is essentially a 2D approach to finding boundaries, as you are working with boundary lines, and not planes. This appears to be a fundamental limitation of the Revit API. This is not normally a problem for this particular algorithm, but it will become one if your model has vertically stacked walls within a single level. In that case, only one wall of that stack will be found, usually the one closest to the bottom of the temporary room.\n\nThere are of course workarounds to this: Determine the z-heights of each wall in the stack and create a separate room for each of those heights. This of course has to be done for every wall that falls into or crosses a particular z-height range that you are interested in, so the scan for finding all the z-heights that need to be checked separately can be time consuming for large designs.\n\nI am guessing the `BuildingEnvelopeAnalyzer` needs a cell size variable to solve this same problem (though they are more likely to internally use a horizontal section plane to find intersecting walls and determine the exterior walls from a much smaller set of candidates).\n\nSo, the room around the entire design is probably the best solution with the least requirements, but it will need some non-trivial modifications to be able to handle designs with stacked walls.\n\nThank you, Mark, for sharing your valuable knowledge and experience."
  },
  {
    "original_filename": "1956_outer_walls",
    "header_text": "Zen and the Art of React Programming",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> Zen and the Art of React Programming\n\nAn unusual and beautiful two-and-a-half-hour full-length feature film with beautiful views \non [how to build Gmail-like UI with React Native at the Zen temple Koshoji](https://youtu.be/w-M9UFHLAl0) is\nchockful of information and calming at the same time.\n\n<center>\n<img src=\"img/zen_react_programming.png\" alt=\"Zen and the Art of React Programming\" title=\"Zen and the Art of React Programming\" width=\"500\"/> <!-- 1000 -->\n</center>"
  }
]