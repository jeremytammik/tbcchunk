[
  {
    "original_filename": "2023_id",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<!-- <script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script> -->\n<!-- https://highlightjs.org/#usage -->\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js\"></script>\n<script>hljs.highlightAll();</script>\n</head>\n\n<!---\n\n- Revit ID Compilation\n  Revit IDs\n  https://forums.autodesk.com/t5/revit-api-forum/revit-ids/td-p/12418195\n  >>>>Element Id\n  0344:Newly Created Element Retrieval Based on Monotonously Increasing Element Id Values\n  0344:Enhanced Parameter Filter for Greater Element Id Values\n  0544:Comparing Element Id for Equality\n  0948:Element Ids in Extensible Storage\n  1144:Element Id &ndash; Export, Unique, Navisworks and Other Ids\n  1144:Negative Element Ids and Element Property Drop-down List Enumerations\n  1182:How to Trigger a Dynamic Model Updater by Specific Element Ids\n  1353:Family Category, Element Ids, Transaction and Updates\n  1396:<\"#6\">WPF Element Id Converter\n  1577:<\"#3\">Access Revit BIM Data and Element Ids from BIM360\n  1628:Retrieving Newly Created Element Ids\n  1628:<\"#3\">Consecutive Element Ids\n  1634:<\"#2\">Search and Snoop by Element Id or Unique Id\n  1762:Element Identifiers in RVT, IFC, NW and Forge\n  1762:<\"#3\"> Revit Element Ids in Forge via Navisworks and IFC\n  1959:<\"#2\"> Immutable UniqueId, Mutable Element Id\n  1974:64-Bit Element Ids, Maybe?\n  1974:<\"#2\"> 64-Bit Element Ids\n  1992:<\"#9\"> Consuming Huge Numbers of Element Ids\n  1995:<\"#4\"> Backward Compatible 64 Bit Element Id\n  >>>>0344 0544 0948 1144 1182 1353 1396 1577 1628 1634 1762 1959 1974 1992 1995\n  >>>>Unique Id\n  0104:UniqueId versus DWF and IFC GUID\n  0104:GUID and UniqueId\n  0104:UniqueId to GUID Encoding\n  0104:IFC GUID and UniqueId Encoder and Decoder\n  0737:Retrieving Unique Geometry Vertices\n  0787:Geometry Traversal to Retrieve Unique Vertices\n  0819:IFC GUID Generation and Uniqueness\n  0943:Solving the Non-unique Unique Id Problem\n  1144:Element Id &ndash; Export, Unique, Navisworks and Other Ids\n  1144:Unique Id versus ElementId to Store in External Database\n  1144:Local Uniqueness of the Revit Unique Id\n  1144:Navisworks versus Revit Object Unique Ids\n  1144:Revit Id and UniqueId Lost On Reimporting Revised Model\n  1209:Unique Names and the NamingUtils Class\n  1277:Understanding the Use of the UniqueId\n  1304:Extracting Unique Building Element Geometry Vertices\n  1459:Consistency of IFC GUID and UniqueId\n  1577:<\"#4\">Unique IDs for Forge Viewer Elements\n  1634:RevitLookup Search by Element and Unique Id\n  1634:<\"#2\">Search and Snoop by Element Id or Unique Id\n  1949:Unique Id and IFC GUID Parameter\n  1949:<\"#4\"> You Cannot Control the Unique Id\n  1959:Immutable UniqueId and Revit Database Explorer\n  1959:<\"#2\"> Immutable UniqueId, Mutable Element Id\n  >>>> 0104 0737 0787 0819 0943 1144 1209 1277 1304 1459 1577 1634 1949 1959\n\n- https://forums.autodesk.com/t5/revit-api-forum/are-references-unique-across-documents/td-p/12381420\n\n- DirectContext3D: API for Displaying External Graphics in Revit\n  by Alex Pytel\n  https://www.autodesk.com/autodesk-university/class/DirectContext3D-API-Displaying-External-Graphics-Revit-2017#video\n\n- a novel method using tagging to\n  Determine linked elements present in a section\n  https://forums.autodesk.com/t5/revit-api-forum/determine-linked-elements-present-in-a-section/td-p/12488150\n\ntwitter:\n\nRevit element id compilation, unique cross-document reference, DirectContext3D and determining elements present in section view with the @AutodeskRevit #RevitAPI #BIM @AutodeskAPS @DynamoBIM https://autode.sk/elementids\n\nRevit element id compilation, unique cross-document reference, AU class on <code>DirectContext3D</code> and determining elements present in section view...\n\n&ndash;  ...\n\nlinkedin:\n\nRevit element id compilation, unique cross-document reference, DirectContext3D and determining elements present in section view with the #RevitAPI #BIM @AutodeskAPS @DynamoBIM\n\nhttps://autode.sk/elementids\n\n#BIM #DynamoBIM #AutodeskAPS #Revit #API #IFC #SDK #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "2023_id",
    "header_text": "DirectContext3D, Ids and Linked Section Elements",
    "local_header_href": "#directcontext3d-ids-and-linked-section-elements",
    "chunk_text": "### DirectContext3D, Ids and Linked Section Elements\n\nHere are some of the topics that came up this week:\n\n- [Revit element id compilation](#2)\n- [Unique cross-document reference](#3)\n- [AU class on `DirectContext3D`](#4)\n- [Determining elements present in section view](#5)"
  },
  {
    "original_filename": "2023_id",
    "header_text": "Revit Element Id Compilation",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> Revit Element Id Compilation\n\nMichael Pescht shared a nice overview of the different Revit BIM element identifiers in\nhis [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non [Revit IDs](https://forums.autodesk.com/t5/revit-api-forum/revit-ids/td-p/12418195):\n\n**Post:**\nThere are several explanations available for the IDs used in Revit.\nUnfortunately, I have not found a complete definition of all IDs in a single document / post.\nTherefore, I would like to have my compilation checked here in the forum.\nThanks in advance.\n\n- Element Id, or just \"Id\":\nthe unique identification for an element within a single project.\nExample decimal: 895976; example hexadecimal: 000dabe8\n- EpisodeId:\nthe first part of the `UniqueId`, including the characters of the sequence 8-4-4-4-12, referring to the project and the session, e.g.,\n626f5187-9a17-4713-98b7-532ca3cc31b1\n- UniqueId:\na stable unique identifier for an element, globally unique across all documents, returned by the API as a string, e.g.,\n\"626f5187-9a17-4713-98b7-532ca3cc31b1-000dabe8\".\nIt is a hexadecimal sequence of 8-4-4-4-12-8 characters, consisting of two parts:\nEpisodeId (8-4-4-4-12) + Hexadecimal(Element Id) (8)\n- DWF GUID (Export GUID):\na hexadecimal version of the IfcGuid\nHex(IfcGuid) = DWF GUID\nExample: 626f5187-9a17-4713-98b7-532ca3c19a59\n- IfcGuid:\na 22-character code (string) using the 64-character base which includes numbers, upper and lower case letters and some special characters. Although it looks completely different from other GUIDs, the IFC GUID is completely identical to the DWF GUID, but is expressed with a different encoding to make it shorter and easier to understand.\nCompressed version of the DWF GUID.\nHex(IfcGuid) = DWF GUID.\nExample: compress(626f5187-9a17-4713-98b7-532ca3c19a59)\n- ExternalId:\nThe external ID of a geometry object.\nExample: 626f5187-9a17-4713-98b7-532ca3c19a59-000dabe8;\nExternalId = DwfGUID + \"-\" + Hex(ElementId)\n\nMany thanks to Michael for his compilation.\nHere is a list of existing information on element ids and unique ids from The Building Coder:\n\n- Element Id\n    - [Retrieving Newly Created Elements in Revit 2011](http://thebuildingcoder.typepad.com/blog/2010/04/retrieving-newly-created-elements-in-revit-2011.html)\n    - [Comparing Element Id for Equality](http://thebuildingcoder.typepad.com/blog/2011/02/comparing-element-id-for-equality.html)\n    - [DWG Issues and Various Other Updates](http://thebuildingcoder.typepad.com/blog/2013/05/dwg-issues-and-various-other-updates.html)\n    - [Element Id &ndash; Export, Unique, Navisworks and Other Ids](http://thebuildingcoder.typepad.com/blog/2014/04/element-id-export-unique-navisworks-and-other-ids.html)\n    - [CreateLinkReference Sample Code](http://thebuildingcoder.typepad.com/blog/2014/07/createlinkreference-sample-code.html)\n    - [Family Category, Element Ids, Transaction Undo and Updates](http://thebuildingcoder.typepad.com/blog/2015/09/family-category-element-ids-transaction-undo-and-updates.html)\n    - [DevDay Conference in Munich and WPF DoEvents](http://thebuildingcoder.typepad.com/blog/2016/01/devday-conference-in-munich-and-wpf-doevents.html)\n    - [Revit versus Forge, Ids and Add-In Installation](http://thebuildingcoder.typepad.com/blog/2017/08/revit-versus-forge-ids-and-add-in-installation.html)\n    - [Retrieving Newly Created Element Ids](http://thebuildingcoder.typepad.com/blog/2018/02/retrieving-newly-created-element-ids.html)\n    - [RevitLookup Search by Element and Unique Id](http://thebuildingcoder.typepad.com/blog/2018/03/revitlookup-search-and-snoop-by-element-and-unique-id.html)\n    - [Element Identifiers in RVT, IFC, NW and Forge](https://thebuildingcoder.typepad.com/blog/2019/07/element-identifiers-in-rvt-ifc-nw-and-forge.html)\n    - [Immutable UniqueId and Revit Database Explorer](https://thebuildingcoder.typepad.com/blog/2022/07/immutable-uniqueid-and-revit-database-explorer.html)\n    - [64-Bit Element Ids, Maybe?](https://thebuildingcoder.typepad.com/blog/2022/11/64-bit-element-ids-maybe.html)\n    - [Configuring RvtSamples 2024 and Big Numbers](https://thebuildingcoder.typepad.com/blog/2023/04/configuring-rvtsamples-2024.html)\n    - [64 Bit Ids, Revit and RevitLookup Updates](https://thebuildingcoder.typepad.com/blog/2023/05/64-bit-ids-revit-and-revitlookup-updates.html)\n- UniqueId\n    - [UniqueId, DWF and IFC GUID](http://thebuildingcoder.typepad.com/blog/2009/02/uniqueid-dwf-and-ifc-guid.html)\n    - [Melbourne Day Two](http://thebuildingcoder.typepad.com/blog/2012/03/melbourne-day-two.html)\n    - [Real-World Concrete Corner Coordinates](http://thebuildingcoder.typepad.com/blog/2012/06/real-world-concrete-corner-coordinates.html)\n    - [IFC GUID Generation and Uniqueness](http://thebuildingcoder.typepad.com/blog/2012/09/ifc-guid-generation-and-uniqueness.html)\n    - [Copy and Paste API Applications and Modeless Assertion](http://thebuildingcoder.typepad.com/blog/2013/05/copy-and-paste-api-applications-and-modeless-assertion.html)\n    - [Element Id &ndash; Export, Unique, Navisworks and Other Ids](http://thebuildingcoder.typepad.com/blog/2014/04/element-id-export-unique-navisworks-and-other-ids.html)\n    - [Unique Names and the NamingUtils Class](http://thebuildingcoder.typepad.com/blog/2014/09/unique-names-and-the-namingutils-class.html)\n    - [Understanding the Use of the UniqueId](http://thebuildingcoder.typepad.com/blog/2015/02/understanding-the-use-of-the-uniqueid.html)\n    - [Back from Easter Holidays and Various Revit API Issues](http://thebuildingcoder.typepad.com/blog/2015/04/back-from-easter-holidays-and-various-revit-api-issues.html)\n    - [Consistency of IFC GUID and UniqueId](http://thebuildingcoder.typepad.com/blog/2016/08/consistency-of-ifc-guid-and-uniqueid.html)\n    - [Revit versus Forge, Ids and Add-In Installation](http://thebuildingcoder.typepad.com/blog/2017/08/revit-versus-forge-ids-and-add-in-installation.html)\n    - [RevitLookup Search by Element and Unique Id](http://thebuildingcoder.typepad.com/blog/2018/03/revitlookup-search-and-snoop-by-element-and-unique-id.html)\n    - [Unique Id and IFC GUID Parameter](https://thebuildingcoder.typepad.com/blog/2022/04/unique-id-and-ifc-guid.html)\n    - [Immutable UniqueId and Revit Database Explorer](https://thebuildingcoder.typepad.com/blog/2022/07/immutable-uniqueid-and-revit-database-explorer.html)"
  },
  {
    "original_filename": "2023_id",
    "header_text": "Unique Cross-Document Reference",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Unique Cross-Document Reference\n\nIn a related vein, *grubdex* and *ricaun* pondered:\n[are references unique across documents?](https://forums.autodesk.com/t5/revit-api-forum/are-references-unique-across-documents/td-p/12381420)\n\n**Question:** Are `Reference` objects unique across documents in my project?\nI know that UniqueIDs are and IDs are not.\n\n**Answer:** Probably yes; the `Reference` has the `UniqueId` embedded in the stable representation.\nUsing a `UniqueId` of the element with `Reference.ParseFromStableRepresentation` will return the `Reference` of the element:\n\n<pre><code>\n  Reference reference\n    = Reference.ParseFromStableRepresentation(\n      document, element.UniqueId);\n</code></pre>\n\nThank you both for this."
  },
  {
    "original_filename": "2023_id",
    "header_text": "AU Class on DirectContext3D",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> AU Class on DirectContext3D\n\nHere is a go-to source of information for `DirectContext3D` that you should be aware of when dealing with this topic,\nan Autodesk University 2023 class by Alex Pytel:\n\n- [DirectContext3D: API for Displaying External Graphics in Revit](https://www.autodesk.com/autodesk-university/class/DirectContext3D-API-Displaying-External-Graphics-Revit-2017#video)"
  },
  {
    "original_filename": "2023_id",
    "header_text": "Determining Elements Present in Section View",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> Determining Elements Present in Section View\n\nFaced with the task of determining which elements are present in a given section view, Wallas Santana and I stumbled across a novel solution using tagging in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread on\nhow to [determine linked elements present in a section](https://forums.autodesk.com/t5/revit-api-forum/determine-linked-elements-present-in-a-section/td-p/12488150):\n\n**Question:** I have a section with some project elements and a linked file loaded with some other elements in a section view, as shown here:\n\n<center>\n<img src=\"img/linked_elements_in_section.png\" alt=\"Linked elements in section view\" title=\"Linked elements in section view\" width=\"500\"/> <!-- Pixel Height: 718 Pixel Width: 881 -->\n</center>\n\nI need to check which elements of the linked file are present in this section, but I'm having difficulties.\nI tried to check whether the elements are inside the view's BoundingBox, but without success.\nThen, I tried to apply another solution\nto [check if a point is inside bounding box](https://forums.autodesk.com/t5/revit-api-forum/check-to-see-if-a-point-is-inside-bounding-box/td-p/4354446).\n\nHowever, it seems that the position returned in BoundingBox is outside of view.\n\nI use this solution to apply tags to linked elements without any problems:\n\n<pre><code>\nReference refe = new Reference(itemconex)\n  .CreateLinkReference(docsVinculados);\n\nIndependentTag tagConexao = IndependentTag.Create(\n  Doc.Document, TagConexSelecionada.Id, Doc.ActiveView.Id,\n  refe, true, TagOrientation.Horizontal, PosicaoFinal);\n</code></pre>\n\n**Answer:** The biggest challenge is probably the transformation.\nOne possible approach would be to read and understand in depth all the transformations involved.\nAnother possible approach, in case your tendency is stronger to hack and do rather than study and ponder, might be: create a very simple linked file with just an element or two, e.g., model lines.\nHost it.\nAnalyse the resulting geometry in the host file.\nReproduce the model lines in the host file until their appearance matches the original ones in the linked file.\nBasically, you just need to determine where a given bounding box in the linked file will end up on the host, don't you?\n\nSince you mention that you can successfully and automatically create tags for the linked elements, another idea comes to mind: before creating the tags, subscribe to the `DocumentChanged` method to be notified of the added elements.\nThen, you can query the tags for their locations.\nThat will presumably approximate the host project locations of the linked elements.\n\n**Response:** Hi Jeremy, thank you for your reply, you opened my mind to a possible solution!\nI just add a new `IndependentTag` then check if it's `BoundingBox` is valid:\n\n<pre><code>\nIndependentTag tagConexao = IndependentTag.Create(\n  Config.doc, Config.doc.ActiveView.Id, refe, true,\n  TagMode.TM_ADDBY_CATEGORY, TagOrientation.Horizontal,\n  PosicaoFinal);\n\nif (null != tagConexao.get_BoundingBox(Config.doc.ActiveView))\n{\n  // The element is in the view\n}\n</code></pre>\n\nThen, I collect the id's I need and RollBack the transaction in the final, it's working.\nBtw I'll study how transformations works when I have linked elements in some view.\nThank you.\n\nThank you, Wallas, for raising this issue and confirming."
  }
]