[
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "Happy New Year and New Beginnings!",
    "local_header_href": "#happy-new-year-and-new-beginnings",
    "chunk_text": "<h3>Happy New Year and New Beginnings!</h3><p>Happy New Year!</p><p>Welcome back!</p><p>I'll dive straight into today's topics:</p><ul>\n<li><a href=\"#2\">The twelve nights</a></li>\n<li><a href=\"#3\">More wrapping up and letting go</a></li>\n<li><a href=\"#4\">A bunch of Revit API discussion forum threads</a></li>\n<li><a href=\"#5\">Determining the total family instance transformation</a></li>\n</ul><a name=\"2\"></a>"
  },
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "The Twelve Nights",
    "local_header_href": "#the-twelve-nights",
    "chunk_text": "<h4>The Twelve Nights</h4><p>Once again, we survived the\n\n<a href=\"https://en.wikipedia.org/wiki/Twelfth_Night_(holiday)\">Twelfth Night</a>,\n\nthe end of this special twelve-day turning point of the year, also known as\n\n<a href=\"https://de.wikipedia.org/wiki/Rauhnacht\">Rauhnächte</a> or\n\n'raw nights' in German, full of special depth and significance, related to the differences between the\n\n<a href=\"https://en.wikipedia.org/wiki/Lunar_calendar\">lunar</a> and\n\nsolar cycles, beginning with\n\n<a href=\"https://en.wikipedia.org/wiki/Christmas\">Christmas</a>,\n\n<a href=\"https://en.wikipedia.org/wiki/Hanukkah\">Hanukkah</a>,\n\nCeltic <a href=\"https://en.wikipedia.org/wiki/Samhain\">Samhain</a>,\n\nDruid <a href=\"https://en.wikipedia.org/wiki/Alban_Arthan\">Alban Arthan</a>,\n\nand many other sacred traditions.</p><p>A time of confusion, breaking things, going wrong, calming down, going slowly, contemplation, relaxing into peace and quiet.</p><center>\n<img alt=\"Rauhnacht\" src=\"img/rauhnacht.jpg\" width=\"400\"/>\n</center><p>Congratulations on coming through intact, and a Happy and Harmonious New Year to you!</p><a name=\"3\"></a>"
  },
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "More Wrapping Up and Letting Go",
    "local_header_href": "#more-wrapping-up-and-letting-go",
    "chunk_text": "<h4>More Wrapping Up and Letting Go</h4><p>I left you last year very busy\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2014/12/back-from-the-conference-tour-and-wrapping-up.html\">\nwrapping up</a> and\n\nciting the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2014/12/the-building-coder-wishes-you-a-merry-christmas.html#8\">\nwise words by Victor Hugo</a> on\n\nfacing the future and letting go...</p><p>I have been busy with both during the break, discussing with my colleagues about starting a new blog focussed on 3D web topics.</p><p>We have been preaching to you about the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2014/12/devdays-conference-at-autodesk-university.html#2\">DevDays 10x theme</a>,\n\nand, as always, it seems appropriate to me to eat our own dog food.</p><p>Several happy changes make this easier for me: new colleagues joined the AEC workgroup,\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2014/12/the-building-coder-wishes-you-a-merry-christmas.html#6\">\nstarting to blog busily</a> in\n\ntheir own right, many questions on the Revit API have been answered here and elsewhere, the number of cases seem stable to me in the Western hemisphere, growing most in the Eastern, and the\n\n<a href=\"http://forums.autodesk.com/t5/revit-api/bd-p/160\">Revit API discussion forum</a> is\n\nsteadily providing more answers still.</p><a name=\"4\"></a>"
  },
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "A Bunch of Revit API Discussion Forum Threads",
    "local_header_href": "#a-bunch-of-revit-api-discussion-forum-threads",
    "chunk_text": "<h4>A Bunch of Revit API Discussion Forum Threads</h4><p>In fact, I spent part of yesterday chipping in there myself as well, addressing many topics:</p><ul>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/revit-build-version-to-update-release-number/m-p/5453896\">\nRevit build version to update release number</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/mouse-over-context-help/m-p/5455910\">\nMouse over context help</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/dockable-panel-using-windowsforms-c/m-p/5454252\">\nDockable panel using Windows Forms C#</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/compare-and-combine-datatables/m-p/5457950\">\nCompare and combine data tables</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/how-to-export-an-image-from-a-specific-view-using-revit-api-c/m-p/5457965\">\nHow to export an image from a specific view using Revit API in C#</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/revit-2015-seems-incomplete/td-p/5457627\">\nRevit 2015 seems incomplete</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/revit-api-regarding-walkthroughs/td-p/5456450\">\nRevit API regarding walkthroughs</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/select-a-element-and-view-properties-in-a-textbox/m-p/5455712\">\nSelecting a element and viewing its properties in a text box</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/determine-outer-surface-of-element/m-p/5447235\">\nDetermine outer surface of element</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/cad-import-within-family-gt-how-to-delete-associated-import/m-p/5452306\">\nCAD import within family and how to delete the associated import</a></li>\n<li><a href=\"http://forums.autodesk.com/t5/revit-api/api-access-to-void-form-in-conceptual-model/m-p/5458686\">\nAPI access to a void form in a conceptual model</a></li>\n</ul><a name=\"5\"></a>"
  },
  {
    "original_filename": "1264_happy_new_year",
    "header_text": "Determining the Total Family Instance Transformation",
    "local_header_href": "#determining-the-total-family-instance-transformation",
    "chunk_text": "<h4>Determining the Total Family Instance Transformation</h4><p>I also discussed a couple of issues off-line, although I always try to avoid that as much as possible, in order to optimise the global sharing of information that we are all contributing to.</p><p>Here is one of them:</p><p><strong>Question:</strong> I am traversing all the Revit database elements and determining their geometry.</p><p>For this, I need to retrieve the transformation matrix, especially for family instance elements, e.g. like this:</p><pre class=\"code\">\n  <span class=\"teal\">FamilyInstance</span> inst = e <span class=\"blue\">as</span> <span class=\"teal\">FamilyInstance</span>;\n  <span class=\"teal\">Transform</span> transform = inst.GetTransform();\n</pre><p>I am converting this transformation to a 4x4 matrix for further use in my add-in.</p><p>I tried lots of ways to retrieve the proper transformation from the transform above with no success.</p><p>The instance from the model gets misplaced after processing.</p><p>If I set the identity matrix on each instance, it works fine, but for supporting instancing I need to take the proper transform into consideration.</p><p>Can you please guide me how to determine the proper transformation for the Revit instance so that I can support instancing in my add-in?</p><p><strong>Answer:</strong> There are several different possible ways in which family instance geometry may be transformed into the placement in the model.</p><p>The only sample that I fully trust to properly handle all the different combinations is the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/03/transform-instance-coordinates.html\">\nRevit SDK ElementViewer sample</a>.</p><p>I would suggest testing that on your specific family instances and models and debugging what exact steps it traverses to achieve the required transformation.</p><p>I worked though parts of the same process when implementing my OBJ exporter, and also document some problems that I ran into that sound similar to your issue:</p><ul>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-export-considerations.html\">OBJ Model Export Considerations</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-exporter-take-one.html\">OBJ Model Exporter Take One</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-colours.html\">OBJ Model Exporter with Colours</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-multiple-solid-support.html\">OBJ Model Exporter with Multiple Solid Support</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-transparency-support.html\">OBJ Model Exporter with Transparency Support</a></li>\n</ul><p>However, all of these complexities can be avoided completely by using the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/about-the-author.html#5.1\">\ncustom exporter framework instead</a>.</p><p>Have you taken a look at that?</p><p>Would that be more suitable and easier to use to fulfil your needs?</p>"
  }
]