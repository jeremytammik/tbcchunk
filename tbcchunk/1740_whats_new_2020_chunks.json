[
  {
    "original_filename": "1740_whats_new_2020",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n\n<style>\n  ul.toc { list-style-type: none; }\n  h1.new { font-size: 150%; }\n  h2.new { font-size: 150%; }\n  h3.new { font-size: 120%; }\n  h4.new { font-size: 120%; }\n</style>\n\n</head>\n\n<!---\n  \ntwitter:\n\nWhat's New in the Revit 2020 API #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon http://bit.ly/rvt2020apinews\n\nThe Revit 2020 API includes exciting enhancements for add-in developers, including numerous developer wishes and requests that have now been explicitly addressed\n&ndash; Information sources\n&ndash; Installation and migration from previous versions\n&ndash; What's new in previous versions\n&ndash; Detailed TOC of major changes and renovations\n&ndash; API Changes\n&ndash; API Additions...\n\nlinkedin:\n\nWhat's New in the Revit 2020 API #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon http://bit.ly/rvt2020apinews\n\nThe Revit 2020 API includes exciting enhancements for add-in developers, including numerous developer wishes and requests that have now been explicitly addressed:\n\n- Information sources\n- Installation and migration from previous versions\n- What's new in previous versions\n- Detailed TOC of major changes and renovations\n- API Changes\n- API Additions...\n\n-->"
  },
  {
    "original_filename": "1740_whats_new_2020",
    "header_text": "What's New in the Revit 2020 API",
    "local_header_href": "#whats-new-in-the-revit-2020-api",
    "chunk_text": "### What's New in the Revit 2020 API\n\nThe Revit 2020 API includes exciting enhancements for add-in developers, including numerous developer wishes and requests that have now been explicitly addressed:\n\n- [Information sources](#1) \n- [Installation and migration from previous versions](#2) \n- [What's new in previous versions](#3) \n- [Detailed TOC of major changes and renovations](#4)\n\nShort overview &ndash; abbreviated table of contents:\n\n<ul class=\"toc\">\n<li>1. <a href=\"#4.1\">API Changes</a></li>\n<ul class=\"toc\">\n<li>1.1. <a href=\"#4.1.1\">Revit automatically initializes CEFsharp</a></li>\n<li>1.2. <a href=\"#4.1.2\">MEP Fabrication API deprecation</a></li>\n<li>1.3. <a href=\"#4.1.3\">Structural API deprecation</a></li>\n<li>1.4. <a href=\"#4.1.4\">Export API changes</a></li>\n<li>1.5. <a href=\"#4.1.5\">Image API changes</a></li>\n<li>1.6. <a href=\"#4.1.6\">Obsolete API removal</a></li>\n</ul>\n<li>2. <a href=\"#4.2\">API Additions</a></li>\n<ul class=\"toc\">\n<li>2.1. <a href=\"#4.2.1\">Attached detail group API additions</a></li>\n<li>2.2. <a href=\"#4.2.2\">PDF and Image API additions</a></li>\n<li>2.3. <a href=\"#4.2.3\">ElementLogicalFilter API additions</a></li>\n<li>2.4. <a href=\"#4.2.4\">Application API additions</a></li>\n<li>2.5. <a href=\"#4.2.5\">UI API additions</a></li>\n<li>2.6. <a href=\"#4.2.6\">Document additions</a></li>\n<li>2.7. <a href=\"#4.2.7\">Category API additions</a></li>\n<li>2.8. <a href=\"#4.2.8\">Parameter API additions</a></li>\n<li>2.9. <a href=\"#4.2.9\">Geometry API additions</a></li>\n<li>2.10. <a href=\"#4.2.10\">View API additions</a></li>\n<li>2.11. <a href=\"#4.2.11\">Schedule API additions</a></li>\n<li>2.12. <a href=\"#4.2.12\">Site API additions</a></li>\n<li>2.13. <a href=\"#4.2.13\">Shared Coordinates API additions</a></li>\n<li>2.14. <a href=\"#4.2.14\">Part API additions</a></li>\n<li>2.15. <a href=\"#4.2.15\">Railing API additions</a></li>\n<li>2.16. <a href=\"#4.2.16\">Export API additions</a></li>\n<li>2.17. <a href=\"#4.2.17\">Multi-Reference Annotation additions</a></li>\n<li>2.18. <a href=\"#4.2.18\">Material API additions</a></li>\n<li>2.19. <a href=\"#4.2.19\">Analysis API additions</a></li>\n<li>2.20. <a href=\"#4.2.20\">Structural API additions</a></li>\n<li>2.21. <a href=\"#4.2.21\">MEP API additions</a></li>\n</ul>\n</ul>\n\n\n####<a name=\"1\"></a>Information Sources\n\nThe highlights were pointed out in\nthe [DevDays Online Revit API news video recording](https://thebuildingcoder.typepad.com/blog/2019/04/the-revit-2020-fcs-api-and-sdk.html#3).\n\nThe information below is based on the contents of the *Revit Platform API Changes and Additions.docx* document included with\nthe [Revit 2020 SDK](https://thebuildingcoder.typepad.com/blog/2019/04/revitlookup-and-sdk-for-revit-2020.html#3), \nthe software developers kit available from the Revit installation package and \nthe [Revit Developer Centre](https://www.autodesk.com/developer-network/platform-technologies/revit).\n\nIt is also provided in the section on *What's New* in the Revit 2020 API help file `RevitAPI.chm` included with the SDK:\n\n<center>\n<img src=\"img/whats_new_2020.png\" alt=\"Revit 2020 API help on What's New\" title=\"Revit 2020 API help on What's New\" width=\"686\"/>\n</center>\n\nFor convenient, easy and effective web searching, this blog post provides an online version of that information, both in pure HTML (below) and as a PDF document:\n\n- [Revit_Platform_API_Changes_and_Additions_2020.pdf](zip/Revit_Platform_API_Changes_and_Additions_2020.pdf)\n\nThe *What's New* section always provides very important information, both for discovering and exploring the newly added API functionality and for later reference.\n\nIf you encounter any issues migrating your existing add-ins between different versions, this is one of the first places to look.\n\nFor detailed information on all other aspects of the Revit API, please refer to the rest of the API documentation and samples provided in the SDK.\n\nThe most important things to install and always keep at hand are:\n\n- The Revit API help file `RevitAPI.chm`\n- The Visual Studio solution containing all the SDK samples, `Samples\\SDKSamples.sln`\n\nYou will need both of these constantly for research on how to solve specific Revit API programming tasks.\n\nMore in-depth official explanations and background information is provided by the\nonline [Revit API Developers Guide](http://help.autodesk.com/view/RVT/2020/ENU/?guid=Revit_API_Revit_API_Developers_Guide_html) included \nin the [Revit 2020 Help](http://help.autodesk.com/view/RVT/2020/ENU).\n\n\n####<a name=\"2\"></a>Installation and Migration From Previous Versions\n\nHere are the steps I performed so far setting up the Revit 2020 SDK and samples:\n\n- [The Revit 2020 FCS, API and SDK](https://thebuildingcoder.typepad.com/blog/2019/04/the-revit-2020-fcs-api-and-sdk.html)\n- [RevitLookup and SDK for Revit 2020](https://thebuildingcoder.typepad.com/blog/2019/04/revitlookup-and-sdk-for-revit-2020.html)\n\n\n####<a name=\"3\"></a>What's New in Previous Versions\n\nHere are links to previous discussions of *What's New in the Revit API*:\n\n- [What's New in the Revit 2010 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2010-api.html)\n- [What's New in the Revit 2011 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2011-api.html)\n- [What's New in the Revit 2012 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2012-api.html)\n- [What's New in the Revit 2013 API](http://thebuildingcoder.typepad.com/blog/2013/03/whats-new-in-the-revit-2013-api.html)\n- [What's New in the Revit 2014 API](http://thebuildingcoder.typepad.com/blog/2013/04/whats-new-in-the-revit-2014-api.html)\n- [What's New in the Revit 2015 API](http://thebuildingcoder.typepad.com/blog/2014/04/whats-new-in-the-revit-2015-api.html)\n- [What's New in the Revit 2016 API](http://thebuildingcoder.typepad.com/blog/2015/04/whats-new-in-the-revit-2016-api.html)\n- [What's New in the Revit 2017 API](http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html)\n- [What's New in the Revit 2017.1 API](http://thebuildingcoder.typepad.com/blog/2016/11/whats-new-in-the-revit-20171-api.html)\n- [What's New in the Revit 2018 API](http://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html)\n- [Revit 2018.1 and the Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/08/revit-20181-and-the-visual-materials-api.html)\n- [Revit 2018.1.1 and 2018.1 API Docs Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html)\n- [Revit 2018.1 Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/11/modifying-material-visual-appearance.html)\n- [What's New in the Revit 2018.2 API](http://thebuildingcoder.typepad.com/blog/2017/12/whats-new-in-the-revit-20182-api.html)\n- [What's New in the Revit 2019 API](http://thebuildingcoder.typepad.com/blog/2018/04/whats-new-in-the-revit-2019-api.html)\n\n####<a name=\"4\"></a>Detailed TOC of Major Changes and Renovations\n\nDetailed Table of Contents:\n\n<ul class=\"toc\">\n<li>1. <a href=\"#4.1\">API Changes</a></li>\n<ul class=\"toc\">\n<li>1.1. <a href=\"#4.1.1\">Revit automatically initializes CEFsharp</a></li>\n<li>1.2. <a href=\"#4.1.2\">MEP Fabrication API deprecation</a></li>\n<li>1.3. <a href=\"#4.1.3\">Structural API deprecation</a></li>\n<li>1.4. <a href=\"#4.1.4\">Export API changes</a></li>\n<li>1.5. <a href=\"#4.1.5\">Image API changes</a></li>\n<li>1.6. <a href=\"#4.1.6\">Obsolete API removal</a></li>\n<ul class=\"toc\">\n<li>1.6.1. <a href=\"#4.1.6.1\">Classes</a></li>\n<li>1.6.2. <a href=\"#4.1.6.2\">Methods</a></li>\n<li>1.6.3. <a href=\"#4.1.6.3\">Properties</a></li>\n</ul>\n</ul>\n<li>2. <a href=\"#4.2\">API Additions</a></li>\n<ul class=\"toc\">\n<li>2.1. <a href=\"#4.2.1\">Attached detail group API additions</a></li>\n<li>2.2. <a href=\"#4.2.2\">PDF and Image API additions</a></li>\n<ul class=\"toc\">\n<li>2.2.1. <a href=\"#4.2.2.1\">ImageType API</a></li>\n<li>2.2.2. <a href=\"#4.2.2.2\">ImageInstance API</a></li>\n</ul>\n<li>2.3. <a href=\"#4.2.3\">ElementLogicalFilter API additions</a></li>\n<ul class=\"toc\">\n<li>2.3.1. <a href=\"#4.2.3.1\">Setting filters</a></li>\n</ul>\n<li>2.4. <a href=\"#4.2.4\">Application API additions</a></li>\n<ul class=\"toc\">\n<li>2.4.1. <a href=\"#4.2.4.1\">Journal playback</a></li>\n</ul>\n<li>2.5. <a href=\"#4.2.5\">UI API additions</a></li>\n<ul class=\"toc\">\n<li>2.5.1. <a href=\"#4.2.5.1\">Add Animated Progress Bar to a TaskDialog</a></li>\n<li>2.5.2. <a href=\"#4.2.5.2\">Specify minimum width and height for a DockablePane</a></li>\n</ul>\n<li>2.6. <a href=\"#4.2.6\">Document additions</a></li>\n<ul class=\"toc\">\n<li>2.6.1. <a href=\"#4.2.6.1\">Returning cloud model information for cloud workshared models</a></li>\n<li>2.6.2. <a href=\"#4.2.6.2\">Open/Save/Modify cloud models on BIM 360</a></li>\n<li>2.6.3. <a href=\"#4.2.6.3\">Identifying if background calculations are underway</a></li>\n</ul>\n<li>2.7. <a href=\"#4.2.7\">Category API additions</a></li>\n<ul class=\"toc\">\n<li>2.7.1. <a href=\"#4.2.7.1\">Category visibility</a></li>\n<li>2.7.2. <a href=\"#4.2.7.2\">Get string names of categories</a></li>\n</ul>\n<li>2.8. <a href=\"#4.2.8\">Parameter API additions</a></li>\n<ul class=\"toc\">\n<li>2.8.1. <a href=\"#4.2.8.1\">Getting localized parameter names</a></li>\n<li>2.8.2. <a href=\"#4.2.8.2\">Hiding empty parameters</a></li>\n<li>2.8.3. <a href=\"#4.2.8.3\">Filtering by presence or absence of parameter value</a></li>\n</ul>\n<li>2.9. <a href=\"#4.2.9\">Geometry API additions</a></li>\n<ul class=\"toc\">\n<li>2.9.1. <a href=\"#4.2.9.1\">CurveLoop API</a></li>\n</ul>\n<li>2.10. <a href=\"#4.2.10\">View API additions</a></li>\n<ul class=\"toc\">\n<li>2.10.1. <a href=\"#4.2.10.1\">View Template API additions</a></li>\n<li>2.10.2. <a href=\"#4.2.10.2\">View Filter API additions</a></li>\n</ul>\n<li>2.11. <a href=\"#4.2.11\">Schedule API additions</a></li>\n<li>2.12. <a href=\"#4.2.12\">Site API additions</a></li>\n<ul class=\"toc\">\n<li>2.12.1. <a href=\"#4.2.12.1\">TopographySurface additions</a></li>\n<li>2.12.2. <a href=\"#4.2.12.2\">TopographyLinkType additions</a></li>\n</ul>\n<li>2.13. <a href=\"#4.2.13\">Shared Coordinates API additions</a></li>\n<ul class=\"toc\">\n<li>2.13.1. <a href=\"#4.2.13.1\">SiteLocation addition</a></li>\n<li>2.13.2. <a href=\"#4.2.13.2\">BasePoint additions</a></li>\n</ul>\n<li>2.14. <a href=\"#4.2.14\">Part API additions</a></li>\n<ul class=\"toc\">\n<li>2.14.1. <a href=\"#4.2.14.1\">Part creation from DirectShapes</a></li>\n<li>2.14.2. <a href=\"#4.2.14.2\">Returning the entities that create a divided Part</a></li>\n</ul>\n<li>2.15. <a href=\"#4.2.15\">Railing API additions</a></li>\n<ul class=\"toc\">\n<li>2.15.1. <a href=\"#4.2.15.1\">BalusterInfo reference name</a></li>\n</ul>\n<li>2.16. <a href=\"#4.2.16\">Export API additions</a></li>\n<ul class=\"toc\">\n<li>2.16.1. <a href=\"#4.2.16.1\">CustomExporter now supports some 2D views</a></li>\n<li>2.16.2. <a href=\"#4.2.16.2\">New Navisworks export options</a></li>\n</ul>\n<li>2.17. <a href=\"#4.2.17\">Multi-Reference Annotation additions</a></li>\n<ul class=\"toc\">\n<li>2.17.1. <a href=\"#4.2.17.1\">Additional References</a></li>\n<li>2.17.2. <a href=\"#4.2.17.2\">3D view placement restrictions</a></li>\n</ul>\n<li>2.18. <a href=\"#4.2.18\">Material API additions</a></li>\n<ul class=\"toc\">\n<li>2.18.1. <a href=\"#4.2.18.1\">Glazing schema API</a></li>\n</ul>\n<li>2.19. <a href=\"#4.2.19\">Analysis API additions</a></li>\n<ul class=\"toc\">\n<li>2.19.1. <a href=\"#4.2.19.1\">Path of Travel API</a></li>\n</ul>\n<li>2.20. <a href=\"#4.2.20\">Structural API additions</a></li>\n<ul class=\"toc\">\n<li>2.20.1. <a href=\"#4.2.20.1\">RebarConstraint additions</a></li>\n<li>2.20.2. <a href=\"#4.2.20.2\">Updating free-form rebar based on shared parameters</a></li>\n<li>2.20.3. <a href=\"#4.2.20.3\">StructuralConnectionHandler additions</a></li>\n</ul>\n<li>2.21. <a href=\"#4.2.21\">MEP API additions</a></li>\n<ul class=\"toc\">\n<li>2.21.1. <a href=\"#4.2.21.1\">FabricationPart additions</a></li>\n<li>2.21.2. <a href=\"#4.2.21.2\">FabricationNetworkChangeService</a></li>\n<li>2.21.3. <a href=\"#4.2.21.3\">ElectricalSystem API additions</a></li>\n</ul>\n</ul>\n</ul>\n\n<p></p>\n\n<center>\n<div style=\"border-style:solid; border-width:2px 0px 2px 0px\">\n<a name=\"4.1\"></a><h1 class=\"new\" style=\"font-weight: bold\">API Changes</h1>\n</div>\n</center>\n\n<a name=\"4.1.1\"></a><h2 class=\"new\">1.1. Revit automatically initializes CEFsharp</h2>\n\nRevit and Autodesk add-ins use the CEFsharp library internally for several features. Some third-party add-ins do so as well. Occasionally, when different versions of the library are used, it leads to instability issues for Revit.\nIn order to avoid version conflicts, we are clarifying what CEFsharp version is being used, and loading it prior to all add-in initialization. \n\n- In this version, Revit uses CEFsharp version 65.0.1.\n-\tIn the initialization, legacy JavaScript binding is enabled:\n<br/>\n<code>\nCefSharpSettings.LegacyJavascriptBindingEnabled = true\n</code>\n\n<a name=\"4.1.2\"></a><h2 class=\"new\">1.2. MEP Fabrication API deprecation</h2>\n\nThe following member has been deprecated and replaced:\n\n- FabricationConfiguration.GetMaterialThickness()\t&rarr; FabricationPart.MaterialThickness\n\n<a name=\"4.1.3\"></a><h2 class=\"new\">1.3. Structural API deprecation</h2>\n\nThe following member has been deprecated:\n\n- Autodesk.Revit.DB.Structure.StructuralConnectionHandler.GetSubPartIds()\n\nThe subpart functionality was previously removed, so there is no replacement method.\n\n<a name=\"4.1.4\"></a><h2 class=\"new\">1.4. Export API changes</h2>\n\nThe following member has been deprecated and replaced: \n\n- CustomExporter.Export(View3d)\t&rarr; CustomExporter.Export(View)\n\nSee the API additions section for more details on the new 2D view support for the custom exporter.\n\n<a name=\"4.1.5\"></a><h2 class=\"new\">1.5. Image API changes</h2>\n\nWith changes made to support PDF import and extensions to the image API, the following members and classes have been deprecated and replaced:\n\n- ImageType.Create(Document, string) &rarr; ImageType.Create(Document, ImageTypeOptions)\n- ImageType.ReloadFrom(string) &rarr; ImageType.ReloadFrom(ImageTypeOptions)\n- Document.Import(string, ImageImportOptions, View, out Element) &rarr; ImageType.Create() followed by ImageInstance.Create()\n- class ImageImportOptions &rarr; class ImageTypeOptions\n\n<a name=\"4.1.6\"></a><h2 class=\"new\">1.6. Obsolete API removal</h2>\n\nThe following API members and classes which had previously been marked Obsolete have been removed in this release. Consult the API documentation from prior releases for information on the replacements to use:\n\n<a name=\"4.1.6.1\"></a><h4 class=\"new\">1.6.1. Classes</h4>\n\n<a name=\"4.1.6.2\"></a><h4 class=\"new\">1.6.2. Methods</h4>\n\n- ProjectLocation.IsProjectLocationNameUnique(Document, String)\n- FabricationPart.IsStraightSegment(Document, ElementId)\n- FabricationPart.CanSplitStraight(Document, ElementId, XYZ)\n- FabricationUtils.ExportToMAJ(Document, IList&lt;ElementId&gt;,String, bool, out IList&lt;ElementId&gt;)\n- ParameterFilterElement.Create(Document, String, ICollection&lt;ElementId&gt;, IList&lt;FilterRule&gt;)\n- ParameterFilterElement.GetRules()\n- ParameterFilterElement.SetRules()\n- ParameterFilterElement.AllRuleParametersApplicable (IList&lt;FilterRule&gt;)\n- ParameterFilterElement.AllRuleParametersApplicable (Document, ICollection&lt;ElementId&gt;, IList&lt;FilterRule&gt;)\n- ParameterFilterElement.GetRuleParameter(FilterRule)\n- ParameterFilterElement.GetRuleParameters()\n\n<a name=\"4.1.6.3\"></a><h4 class=\"new\">1.6.3. Properties</h4>\n\n- BasicFileInfo.SavedInVersion\n- AssetProperty.Item[String]\n- Application.Assets[AssetType]\n\n\n<p></p>\n\n<center>\n<div style=\"border-style:solid; border-width:2px 0px 2px 0px\">\n<a name=\"4.2\"></a><h1 class=\"new\" style=\"font-weight: bold\">API Additions</h1>\n</div>\n</center>\n\n<a name=\"4.2.1\"></a><h2 class=\"new\">2.1. Attached detail group API additions</h2>\n\nThe Group and GroupType API now includes API related to attached detail groups.\n\nThe new methods:\n\n- Group.ShowAttachedDetailGroups()\n- Group.ShowAllAttachedDetailGroups()\n- Group.HideAttachedDetailGroups()\n- Group.HideAllAttachedDetailGroups()\n\ncontrol visibility for an element group's attached detail groups as seen in a given view.\n\nThe new methods:\n\n- Group.GetAvailableAttachedDetailGroupTypeIds()\n- GroupType.getAvailableAttachedDetailGroupTypeIds()\n\nreturn the attached detail groups available for this group or group type.\n\nThe new method:\n\n- Group.IsCompatibleAttachedDetailGroupType()\n\nchecks if the orientation of the input attached detail group matches the input view's orientation. Note that detail groups in perpendicular elevation views (for example, North and East views) are considered compatible. When showing these detail groups, an error (FailureMessage) based on id can be generated if the orientation of the annotations do not match the orientation of the target view (for example, the failure definition DimensionPerpendicularToView). To prevent displaying detail groups in the wrong view, you can check the OwnerViewId of a detail group to make sure it matches the view in which you are trying to display it.\n\nThe new properties:\n\n- Group.IsAttached\n- Group.AttachedParentId\n\nprovide information about whether a group is attached and if so, to what group it is associated.\n\n<a name=\"4.2.2\"></a><h2 class=\"new\">2.2. PDF and Image API additions</h2>\n\n<a name=\"4.2.2.1\"></a><h3 class=\"new\">2.2.1. ImageType API </h3>\n\nThe new members:\n\n- ImageType.Create(Document, ImageTypeOptions)\n- ImageType.CanReload() \n- ImageType.ReloadFrom(ImageTypeOptions)\n- ImageType.ExternalResourceType\n- ImageType.PageNumber\n- ImageType.PathType \n\nadd support to loading of specific pages from PDFs as images, loading of images from external resource locations other than paths, and storage of paths as relative or absolute. The API has also been revamped to allow loading of an ImageType in one operation, and placement in a view in a separate operation.\n\nSome of these members reference the new class\n\n- ImageTypeOptions\n\nthat contains the options that are used when creating or reloading an image, including:\n\n- ImageTypeOptions.IsValid()\n- ImageTypeOptions.PageNumber\n- ImageTypeOptions.Path\n- ImageTypeOptions.Resolution\n- ImageTypeOptions.SetExternalResourceReference()\n\nResolution is measured in dpi and relates the number of pixels in raster images to their size.\n\n<a name=\"4.2.2.2\"></a><h3 class=\"new\">2.2.2. ImageInstance API</h3>\n\nThe new class\n\n- ImageInstance\n\nrepresents an image placed in a view. It includes:\n\n- ImageInstance.Create(Document, View, ElementId, ImagePlacementOptions) \n- ImageInstance.GetLocation(BoxPlacement)\n- ImageInstance.SetLocation(XYZ, BoxPlacement)\n- ImageInstance.Width\n- ImageInstance.Height\n- ImageInstance.EnableSnaps \n\nSnapping capability can be enabled only for PDF-based instances.\n\n<a name=\"4.2.3\"></a><h2 class=\"new\">2.3. ElementLogicalFilter API additions</h2>\n\n<a name=\"4.2.3.1\"></a><h3 class=\"new\">2.3.1. Setting filters</h3>\n\nThe new function:\n\n- ElementLogicalFilter.SetFilters()\n\nallows setting ElementFilters that are combined by the given ElementLogicalFilter. This allows an easier method to modify the filter criteria stored in a View filter.\n\n<a name=\"4.2.4\"></a><h2 class=\"new\">2.4. Application API additions</h2>\n\n<a name=\"4.2.4.1\"></a><h3 class=\"new\">2.4.1. Journal playback</h3>\n\nThe new function:\n\n- Application.IsJournalPlaying()\n\ndetermines if Revit is currently in journal playback mode or not. \n\n<a name=\"4.2.5\"></a><h2 class=\"new\">2.5. UI API additions</h2>\n\n<a name=\"4.2.5.1\"></a><h3 class=\"new\">2.5.1. Add Animated Progress Bar to a TaskDialog</h3>\n\nThe new property:\n\n- TaskDialog.EnableMarqueeDialogBar\n\nallows the TaskDialog to include a progress bar that has an indeterminate start and stop. The animation continues until the TaskDialog is closed. \n\n<a name=\"4.2.5.2\"></a><h3 class=\"new\">2.5.2. Specify minimum width and height for a DockablePane</h3>\n\nMinimum width and height can now be set for a DockablePane:\n\n- Autodesk.Revit.UI.DockablePaneState.MinimumWidth\n- Autodesk.Revit.UI.DockablePaneState.MinimumHeight\n\nThese are specified as part of the InitialState for the registered pane. The default for both properties is 200 pixels.\n\n<a name=\"4.2.6\"></a><h2 class=\"new\">2.6. Document additions</h2>\n\n<a name=\"4.2.6.1\"></a><h3 class=\"new\">2.6.1. Returning cloud model information for cloud workshared models</h3>\n\nThe new property:\n\n- Document.IsModelInCloud\n\nindicates if the current document is located in cloud. \n\n- Document.CloudModelGUID\n\nreturns the GUID of the model, if it is stored in the cloud.\n\nThe new method:\n\n- Document.GetCloudModelPath() \n\nreturns the cloud model path.\n\n<a name=\"4.2.6.2\"></a><h3 class=\"new\">2.6.2. Open/Save/Modify cloud models on BIM 360</h3>\n\nThe new method:\n\n- Document.SaveAsCloudModel()\n\nsaves the current model as a cloud model in BIM 360. Only non-workshared models can be saved via this method. \n\nThe new method:\n\n- Document.SaveCloudModel()\n\nsaves the current cloud model.\n\nThe new method:\n\n- Document.EnableCloudWorksharing()\n\nconverts a cloud model into a workshared cloud model. The method Document.CanEnableCloudWorksharing() can be used to check whether this operation is valid on a given model. \n\nRevit's existing model open functions (Application.OpenDocumentFile and UIApplication.OpenAndActivateDocument) will now throw RevitServerUnauthorizedException if the user tries to open a cloud model without the right entitlements. \n\n<a name=\"4.2.6.3\"></a><h3 class=\"new\">2.6.3. Identifying if background calculations are underway</h3>\n\nThe new method:\n\n- Document.IsBackgroundCalculationInProgress()\n\nidentifies if there are any background calculations in progress for this document. When a document has background calculations in progress, users cannot perform the following operations:\n\n- Save/Close the document.\n- Export/Print the document.\n- Synchronize to central, in worksharing environment.\n- Create a steel element.\n- Copy/Mirror/Rotate a steel element.\n- Edit the sketch of plate element.\n- Edit a custom connection.\n\n<a name=\"4.2.7\"></a><h2 class=\"new\">2.7. Category API additions</h2>\n\n<a name=\"4.2.7.1\"></a><h3 class=\"new\">2.7.1. Category visibility</h3>\n\nThe new property:\n\n- Category.IsVisibleInUI\n\nreturns true if the category should be visible to the user in lists of categories in the Revit user interface (dialogs such as Visibility Graphics or View Filters).\n\n<a name=\"4.2.7.2\"></a><h3 class=\"new\">2.7.2. Get string names of categories</h3>\n\nThe new method:\n\n- LabelUtils.GetLabelFor (BuiltInCategory)\n\nreturns the string name of the given BuiltInCategory in the current Revit language.\n\n<a name=\"4.2.8\"></a><h2 class=\"new\">2.8. Parameter API additions</h2>\n\n<a name=\"4.2.8.1\"></a><h3 class=\"new\">2.8.1. Getting localized parameter names</h3>\n\nThe new method:\n\n- LabelUtils.GetLabelFor(BuiltInParameter, Autodesk.Revit.ApplicationServices.LanguageType)\n\nreturns the localized string name representing the built-in parameter in the input language.\n\n<a name=\"4.2.8.2\"></a><h3 class=\"new\">2.8.2. Hiding empty parameters</h3>\n\nThe new property\n\n- ExternalDefinition.HideWhenNoValue\n\nIndicates if the shared parameter should be hidden from the property palette and Element.GetOrderedParameters() when it has no value.\n\nSimilar functionality has been added to other classes:\n\n- ExternalDefinitionCreationOptions.HideWhenNoValue\n- SharedParameterElement.ShouldHideWhenNoValue()\n\nThe new method:\n\n- Parameter.ClearValue()\n\ncan reset the value of a shared parameter which has the HideWhenNoValue flag set back to a cleared state. (This method is not applicable to clear the value of any other parameter type).\n\n<a name=\"4.2.8.3\"></a><h3 class=\"new\">2.8.3. Filtering by presence or absence of parameter value</h3>\n\nThe new filter classes:\n\n- ParameterValuePresenceRule\n- HasValueFilterRule\n- HasNoValueFilterRule\n\ndefine filter rules evaluating whether or not a parameter has a value for a specific element.\n\nUse the static methods:\n\n- FilterRule.CreateHasValueParameterRule()\n- FilterRule.CreateHasNoValueParameterRule()\n\nto create an instance of these rules for use in a parameter filter.\n\nIn schedules, use the new enumerated values:\n\n- ScheduleFilterType.HasValue\n- ScheduleFilterType.HasNoValue\n\nalong with the method:\n\n- ScheduleDefinition.CanFilterByValuePresence()\n\nto filter based on the presence or absence of a value assigned to that parameter.\n\n<a name=\"4.2.9\"></a><h2 class=\"new\">2.9. Geometry API additions</h2>\n\n<a name=\"4.2.9.1\"></a><h3 class=\"new\">2.9.1. CurveLoop API</h3>\n\nThe new property:\n\n- CurveLoop.NumberOfCurves\n\nreturns the number of curves in the curve loop. \n\nThe new method:\n\n- CurveLoop.CreateViaOffset() \n\ncreates a new curve loop that is an offset of the existing curve loop.\nThis method differs from the previously exposed API in that it takes as input a double array of offset distances instead of one double offset distance.\nThe size of this array must match the size of the curve loop.\nThe curve at position `i` will be offset with the double at position `i` in the array.\n\n<a name=\"4.2.10\"></a><h2 class=\"new\">2.10. View API additions</h2>\n\n<a name=\"4.2.10.1\"></a><h3 class=\"new\">2.10.1. View Template API additions</h3>\n\nThe new methods:\n\n- View.CreateViewTemplate() \n- View.isViewValidForTemplateCreation() \n\nallow you to turn an existing view into a view template. The created view template has an automatically generated unique name.\n\nThe Revit API, for a few releases, has featured a fairly fully-featured capability to set up and modify view templates and their properties. These capabilities are now demonstrated in the new sample \"ViewTemplateCreation\".\n\n<a name=\"4.2.10.2\"></a><h3 class=\"new\">2.10.2. View Filter API additions</h3>\n\nValidation restrictions for the ElementFilter stored by a ParameterFilterElement (the class that represents a View Filter) has been relaxed to enable more flexible creation of OR filters where criteria can reference parameters only associated to specific categories. Currently the ElementFilter must be either an ElementParameterFilter or an ElementLogicalFilter representing a Boolean combination of ElementParameterFilters. In addition, we check that each ElementParameterFilter satisfies the following conditions:\n\n- Its array of FilterRules is not empty and contains:\n    - Any number of FilterRules of type FilterValueRule, FilterInverseRule, and SharedParameterApplicableRule or \n    - Exactly one FilterCategoryRule containing only one category from categories stored by this ParameterFilterElement or\n    - Exactly two rules: the first one is a FilterCategoryRule containing only one category from categories stored by this ParameterFilterElement and the second one is a FilterRule of type FilterValueRule, FilterInverseRule, or SharedParameterApplicableRule.\n\nNote that cases in the second and third bullet are currently allowed only if the parent node of ElementParameterFilter is LogicalOrFilter.\n\nIn addition to the change in validation, the new method:\n\n- ParameterFilterElement.GetElementFilterParametersForCategory() \n\nretrieves a list of the parameters associated with all rules in the filter that are combined (using logical AND) with a FilterCategoryRule corresponding to single categoryId.\n\n<a name=\"4.2.11\"></a><h2 class=\"new\">2.11. Schedule API additions</h2>\n\nThe new property:\n\n- ScheduleDefinition.ShowGridLines\n\nindicates if the schedule grid lines will be visible on a sheet. \n\nThe new property:\n\n- TableData.ZoomLevel\n\nallows the user to set the zoom level of a schedule in a tabular view. This setting will not change the size of text, rows, or columns in a sheet view. Additionally, the setting is temporary and only applies to the current session. \n\n<a name=\"4.2.12\"></a><h2 class=\"new\">2.12. Site API additions</h2>\n\n<a name=\"4.2.12.1\"></a><h3 class=\"new\">2.12.1. TopographySurface additions</h3>\n\nThe new method:\n\n- Autodesk.Revit.DB.Architecture.TopographySurface.Create(Document, IList&lt;XYZ&gt; points, IList&lt; IList&lt;int&gt; &gt; facets, String)\n\ncreates a topography surface from a given list of triangulation facets. \n\nThe new method:\n\n- Autodesk.Revit.DB.Architecture.TopographySurface.IsValidFaceSet()\n\nchecks whether the given set of triangulation data is valid. \n\n<a name=\"4.2.12.2\"></a><h3 class=\"new\">2.12.2. TopographyLinkType additions</h3>\n\nThe new class:\n\n- Autodesk.Revit.DB.Architecture.TopographyLinkType\n\nrepresents a site file brought into the current Revit model as a link. \n\nThe new method:\n\n- Autodesk.Revit.DB.Architecture.TopographyLinkType.Reload()\n\nreloads the TopographyLinkType from its current location. \n\n<a name=\"4.2.13\"></a><h2 class=\"new\">2.13. Shared Coordinates API additions</h2>\n\n<a name=\"4.2.13.1\"></a><h3 class=\"new\">2.13.1. SiteLocation addition </h3>\n\nThe new method:\n\n- SiteLocation.SetGeoCoordinateSystem()\n\nsets the Geo coordinate system for the current document.\n\n<a name=\"4.2.13.2\"></a><h3 class=\"new\">2.13.2. BasePoint additions</h3>\n\nThe new read-only property:\n\n- BasePoint.Position\n\ngets the XYZ value corresponding to the base point's position in Revit's internal coordinates.\n\nThe new read-only property:\n\n- BasePoint.SharedPosition\n\ngets the XYZ value corresponding to the base point's position in the transformed (shared) coordinates. \n\n<a name=\"4.2.14\"></a><h2 class=\"new\">2.14. Part API additions</h2>\n\n<a name=\"4.2.14.1\"></a><h3 class=\"new\">2.14.1. Part creation from DirectShapes</h3>\n\nParts can now be created from DirectShape instances, either in the same host document or in a link. Since various reasons might prevent parts from being created from an element, the new methods\n\n- DirectShape.CanCreateParts()\n- DirectShapeType.CanCreateParts()\n\nindicate whether it is possible to create parts from an instance of one of those classes.\n\n<a name=\"4.2.14.2\"></a><h3 class=\"new\">2.14.2. Returning the entities that create a divided Part</h3>\n\nThe new methods:\n\n- PartUtils.GetSplittingCurves(Document, ElementId)\n- PartUtils.GetSplittingCurves(Document, ElementId, out SketchPlane)\n\nidentify and return the curves that were sketched to create the part division and, optionally, also outputs also the sketch plane for those curve(s). \n\nThe new method:\n\n- PartUtils.GetSplittingElements(Document, ElementId)\n\nidentifies and returns the elements ( ReferencePlane, Level or Grid ) that were used to create the division.\n\n<a name=\"4.2.15\"></a><h2 class=\"new\">2.15. Railing API additions</h2>\n\n<a name=\"4.2.15.1\"></a><h3 class=\"new\">2.15.1. BalusterInfo reference name</h3>\n\nThe new functions:\n\n- BalusterInfo.GetReferenceNameForHost()\n- BalusterInfo.GetReferenceNameForTopRail()\n\nallow access to the name string to be used as a reference to either the Host or Top Rail in the current Revit language.\n\n<a name=\"4.2.16\"></a><h2 class=\"new\">2.16. Export API additions</h2>\n\n<a name=\"4.2.16.1\"></a><h3 class=\"new\">2.16.1. CustomExporter now supports some 2D views</h3>\n\nThe class CustomExporter can now export 2D views. The only 2D view types supported at this time are plans, sections and elevations. The new method:\n\n- CustomExporter.Export()\n\naccepts either a 3D or 2D view.\n\nThe method:\n\n- CustomExporter.Export(IList&lt;ElementId&gt;)\n\ncan now accept either 3D or 2D views, with the limitation that views in the collection must be either all 3D or all 2D.\n\nFor both Export() calls, the exporter context must correspond to the views' type; use IModelExportContext or IPhotoRenderContext for 3D views and IExportContext2D for 2D views. \n\nSeveral new properties expand the options for the CustomExporter to support 2D objects:\n\n- CustomExporter.Export2DGeometricObjectsIncludingPatternLines &ndash; Indicates whether pattern lines of geometric objects should be exported in a 2D context. Defaults to false.\n- CustomExporter.Export2DIncludingAnnotationObjects &ndash; Indicates whether annotation objects should be exported in a 2D context. Defaults to false.\n- CustomExporter.Export2DForceDisplayStyle &ndash; Forces a display style for the export. If the style is DisplayStyle.Undefined, then export uses DisplayStyle.Wireframe for wireframe views and DisplayStyle.HDR for other views. Defaults to DisplayStyle.Undefined.\n\nThe new interface:\n\n- IExportContext2D\n\nshould be used for exporting 2D views. It has the following methods in addition to the method inherited from IExportContext:\n\n- IExportContext2D.OnElementBegin2D()\n- IExportContext2D.OnElementEnd2D()\n- IExportContext2D.OnFaceEdge2D()\n- IExportContext2D.OnFaceSilhouette2D()\n\nThe new classes:\n\n- ElementNode\n- FaceEdgeNode\n- FaceSilhouetteNode\n\ncontain data for various 2D exported objects.\n\nSome notes on 2D export in DisplayStyle.Wireframe:\n\n- Geometric object methods (OnCurve, OnFaceEdge2D, OnFaceSilhouette2D) are called regardless of the object being eventually output, i.e. even if it’s occluded by another element.\n\nAnd in DisplayStyle.HDR:\n\n- Tessellated geometry methods (OnLineSegment and OnPolylineSegments) are called regardless of the return value of the respective geometric object methods (OnCurve, OnFaceEdge2D, OnFaceSilhouette2D).\n- None of these methods are called between the respective pairs of calls OnInstanceBegin/OnInstanceEnd or OnLinkBegin/OnLinkEnd. They are called between OnElementBegin2D/OnElementEnd2D and OnViewBegin/OnViewEnd.\n\nFor an example of the use of the API for custom export of 2D views, see the new sample CustomExporter/Custom2DExporter.\n\n<a name=\"4.2.16.2\"></a><h3 class=\"new\">2.16.2. New Navisworks export options</h3>\n\nThree new options have been added to the class NavisworksExportOptions:\n\n- NavisworksExportOptions.FacetingFactor\n- NavisworksExportOptions.ConvertLights\n- NavisworksExportOptions.ConvertLinkedCADFormats\n\nNote that you will need to get an updated Navisworks Exporter to successfully use these options. \n\n<a name=\"4.2.17\"></a><h2 class=\"new\">2.17. Multi-Reference Annotation additions</h2>\n\n<a name=\"4.2.17.1\"></a><h3 class=\"new\">2.17.1. Additional References</h3>\n\nMultiReferenceAnnotations can now pick additional references from the model. The following new methods support this:\n\n- MultiReferenceAnnotationOptions.SetAdditionalReferencesToDimension()\n- MultiReferenceAnnotationOptions.GetAdditionalReferencesToDimension()\n- MultiReferenceAnnotation.AreElementsValidForMultiReferenceAnnotation()\n\nNote that the additional references to dimension cannot come from the same category as the MultiReferenceAnnotationType's reference category. The following function can be used to verify this:\n\n- MultiReferenceAnnotationOption.ReferencesDontMatchReferenceCategory()\n\n<a name=\"4.2.17.2\"></a><h3 class=\"new\">2.17.2. 3D view placement restrictions</h3>\n\nThe new method:\n\n- MultiReferenceAnnotation.Is3DViewValidForDimension()\n\nis used by MultiReferenceAnnotation.Create() to verify that the dimension is valid for the view. LinearFixed dimensions cannot be created in 3D views. Linear dimensions can only be created in 3D views if the view direction is perpendicular to the current work plane normal.\n\n<a name=\"4.2.18\"></a><h2 class=\"new\">2.18. Material API additions</h2>\n\n<a name=\"4.2.18.1\"></a><h3 class=\"new\">2.18.1. Glazing schema API</h3>\n\nTo assist in creating code accessing and manipulating the properties of a given schema, predefined properties have been introduced to allow a compile-time reference to a property name without requiring you to transcribe it as a string in your code. New predefined properties are available in the new class:\n\n- Autodesk.Revit.DB.Visual.AdvancedGlazing\n\nwhose contents represent the appearance asset of type \"advanced glazing\". \n\n<a name=\"4.2.19\"></a><h2 class=\"new\">2.19. Analysis API additions</h2>\n\n<a name=\"4.2.19.1\"></a><h3 class=\"new\">2.19.1. Path of Travel API</h3>\n\nThe new class:\n\n- Autodesk.Revit.DB.Analysis.PathOfTravel\n\nrepresents the element that calculates the shortest navigable path between two points in a plan view. \n\nSome of the new members of this class include:\n\n- PathOfTravel.Create() &ndash; creates a single PathOfTravel element given a start and end point.\n- PathOfTravel.CreateMultiple() &ndash; creates multiple PathOfTravel elements given arrays of start and end points.\n- PathOfTravel.CreateMapped() &ndash; creates multiple PathOfTravel elements by mapping each of a set of start points to each of a set of end points. \n- PathOfTravel.GetCurveLoop()\n- PathOfTravel.PathStart\n- PathOfTravel.PathMidpoint\n- PathOfTravel.PathEnd\n\nThe new class:\n\n- Autodesk.Revit.DB.Analysis.RouteAnalysisSettings\n\nrepresents a new settings element which contains project-wide settings for route calculations in plan views. Currently, these settings are only used by the Autodesk.Revit.DB.Analysis.PathOfTravel element, but in the future they can be used by any other functionalities which do route calculations.\n\nSome of the new members include:\n\n- RouteAnalysisSettings.EnableIgnoredCategoryIds() &ndash; allows for the API user to enable ignoring certain categories of elements during calculations.\n- RouteAnalysisSettings.SetIgnoredCategoryIds() &ndash; sets the categories to be ignored during calculations.\n- RouteAnalysisSettings.AnalysisZoneTopOffset &ndash; the analysis zone top, specified as an offset above the level of the plan view.\n- RouteAnalysisSettings.AnalysisZoneBottomOffset &ndash; the analysis zone bottom, specified as an offset above the level of the plan view.\n\n<a name=\"4.2.20\"></a><h2 class=\"new\">2.20. Structural API additions</h2>\n\n<a name=\"4.2.20.1\"></a><h3 class=\"new\">2.20.1. RebarConstraint additions</h3>\n\nThe new method:\n\n- RebarConstraint.IsReferenceValidForConstraint()\n\nchecks if the reference provided can be used in creating Rebar constraints. \n\n<a name=\"4.2.20.2\"></a><h3 class=\"new\">2.20.2. Updating free-form rebar based on shared parameters</h3>\n\nFree-form rebar can now regenerate based on one or more shared parameters. Several methods have been added to support this behaviour:\n\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.AddUpdatingSharedParameter()\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.RemoveUpdatingSharedParameter()\n- Autodesk.Revit.DB.Structure.RebarFreeFormAccessor.GetUpdatingSharedParameters()\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.GetChangedSharedParameterGUIDs() &ndash; Returns an array containing the shared parameters which were changed since the last regeneration.\n- Autodesk.Revit.DB.Structure.RebarUpdateCurvesData.GetRebarId() &ndash; Returns the ElementId of the rebar being regenerated.\n\nNote that the shared parameter(s) must already be bound to the Rebar category before setting up the dependency.\n\n<a name=\"4.2.20.3\"></a><h3 class=\"new\">2.20.3. StructuralConnectionHandler additions</h3>\n\nThe new property:\n\n- Autodesk.Revit.DB.Structure.StructuralConnectionHandler.OverrideTypeParams\n\nallows or disallows overriding the parameters for a connection type.\n\nWhen set to true, a set of instance parameters is created for this connection by copying the type parameter set. The user can change these instance parameters in order to make this connection different from the others of the same type. Any further modification on type parameters will not affect this instance (until the \"override\" is turned back off).\n\nWhen set to false, the connection instance parameters are discarded and the type parameters are used again.\n\n<a name=\"4.2.21\"></a><h2 class=\"new\">2.21. MEP API additions</h2>\n\n<a name=\"4.2.21.1\"></a><h3 class=\"new\">2.21.1. FabricationPart additions</h3>\n\nThe new method:\n\n- FabricationPart.GetInsulationLiningGeometry()\n\nreturns any insulation or liner geometry for a fabrication part. If there is no insulation or liner applied the return value will be null.\n\n<a name=\"4.2.21.2\"></a><h3 class=\"new\">2.21.2. FabricationNetworkChangeService</h3>\n\nThe new method:\n\n- FabricationNetworkChangeService.ChangeService()\n\nchanges the service of a selection of element identifiers to the passed in service, group identifiers, and the option to restrict the placement of parts that only exist in the group identifier.\n\n<a name=\"4.2.21.3\"></a><h3 class=\"new\">2.21.3. ElectricalSystem API additions </h3>\n\nThe new properties: \n\n- ElectricalSystem.CircuitConnectionType\n- ElectricalSystem.IsBasePanelFeedThroughLugsOccupied\n\nprovide access to the circuit connection type of the electrical system, and information about whether or not the feed through lugs of the base panel is already occupied."
  }
]