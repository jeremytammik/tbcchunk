[
  {
    "original_filename": "1872_rect_jig",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- Onbox Framework\n  Introducing a Revit API Framework!\n  https://forums.autodesk.com/t5/revit-api-forum/introducing-a-revit-api-framework/m-p/9816804#M50608\n\n- https://thebuildingcoder.typepad.com/blog/2012/06/uiview-and-windows-device-coordinates.html#comment-5115824205\n  /a/doc/revit/tbc/git/a/img/plan_view_rectangle_jig.gif\n  /a/doc/revit/tbc/git/a/zip/RevitJigSample.zip\n  https://forums.autodesk.com/t5/revit-api-forum/draw-render-over-the-activeview/m-p/7074503\n  https://thebuildingcoder.typepad.com/blog/2017/05/revit-2017-and-2018-sdk-samples.html\n  https://thebuildingcoder.typepad.com/blog/2017/05/revit-2017-and-2018-sdk-samples.html#4.2\n\n- Create Reports from AutoCAD and Revit\n  https://autodesk.slack.com/archives/C0KBT3859/p1603315073123000\n  Q: I am searching a product to create reports and insights from data generated by AutoCAD and Revit to bridge between construction engineering and business divisions. Where can I look?\n  A: [Construction.Autodesk.com](http://construction.autodesk.com) has information about the entire Autodesk portfolio of products for the construction space. Specifically, you can take a look at [Assemblesystems.com](http://assemblesystems.com). Assemble is capable of aggregating data from AutoCAD, Revit and Navisworks. After that, you can use Power BI integration to create a Dashboard to share results with Stakeholders.\n\ntwitter:\n\nThe Onbox cross-platform #RevitAPI framework, a DirectContext rectangle jig, reports from AutoCAD and Revit, RevitApiDocs statistics and deprecating JavaScript CDN with @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon http://bit.ly/directcontextjig\n\nAutumnal topics for this week\n&ndash; The Onbox cross-platform Revit API framework\n&ndash; DirectContext rectangle jig\n&ndash; Creating reports from AutoCAD and Revit\n&ndash; RevitApiDocs statistics\n&ndash; Stop using JavaScript CDN...\n\nlinkedin:\n\nThe Onbox cross-platform #RevitAPI framework, a DirectContext rectangle jig, reports from AutoCAD and Revit, RevitApiDocs statistics and deprecating JavaScript CDN:\n\nhttp://bit.ly/directcontextjig\n\nAutumnal topics for this week:\n\n- The Onbox cross-platform Revit API framework\n- DirectContext rectangle jig\n- Creating reports from AutoCAD and Revit\n- RevitApiDocs statistics\n- Stop using JavaScript CDN...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "Onbox, DirectContext Jig and No CDN",
    "local_header_href": "#onbox-directcontext-jig-and-no-cdn",
    "chunk_text": "### Onbox, DirectContext Jig and No CDN\n\nToday is rainy, grey and dreary... autumn is here for real. \nHere are some autumnal topics for this week to cheer us all up:\n\n- [The Onbox cross-platform Revit API framework](#2)\n- [DirectContext rectangle jig](#3)\n- [Creating reports from AutoCAD and Revit](#4)\n- [RevitApiDocs statistics](#5)\n- [Stop using JavaScript CDN](#6)"
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "The Onbox Cross-Platform Revit API Framework",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> The Onbox Cross-Platform Revit API Framework\n\nThiago Almeida of [Blackbird Industries](https://blackbirdindustries.com.au) shares some exciting news in \nhis [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n[introducing a Revit API framework](https://forums.autodesk.com/t5/revit-api-forum/introducing-a-revit-api-framework/m-p/9816804), saying:\n\nI have been programming Revit API for at least 8 years now and always tried to find ways to make my work easier.\nI have always wanted to have data-rich apps that communicate with the cloud.\nWith the introduction of Autodesk Forge a few years back, I had the need to share even more code between various projects and assemblies.\n\nToday, I'm thrilled to introduce the [Onbox Framework](https://github.com/engthiago/Onboxframework),\na free and open-source (MIT) to help us build cross-platform Revit Apps in a similar fashion\nto [Angular](https://angular.io) and [ASP.Net Core](https://dotnet.microsoft.com/learn/aspnet/what-is-aspnet-core).\nIt is designed to make it easier to create a jump between these environments without workflow disruptions.\nIt introduces several features out-of-the-box, like dependency injection (IOC Container), state management, asynchronous Revit calls, a component-based MVC library made on top of WPF, and much more!\n\nHere is the reference of the libraries that compose the framework and their NuGet packages, notice that most of the libraries are targeting .Net Standard to be used both on .Net Framework and .Net Core:\n\n- Onbox.Abstractions &ndash; Interfaces of all generic usage on the framework\n- Onbox.Core &ndash; Core implementations for all generic services\n- Onbox.Di &ndash; IOC container system\n- Onbox.Mvc.Abstractions &ndash; Interfaces for interacting with Views\n- Onbox.Mvc &ndash; Implementation of WPF MVC Views and Components\n- Onbox.Mvc.Revit.Abstractions &ndash; Interfaces for interacting with Revit and Views\n- Onbox.Mvc.Revit &ndash; Implementation of WPF MVC specific to Revit\n- Onbox.Revit.Abstractions &ndash; Interfaces for interacting with Revit\n- Onbox.Revit &ndash; Revit External Applications and Commands\n- Onbox.Store &ndash; State management for Revit MVC / WPF\n\nWe have built parts of several applications using some of these libraries.\nOur current working project, [Shedmate app](https://construction.autodesk.com/integrations/shedmate), is the one that relies on it the most.\nI would say parts of it because only some libraries existed when we started coding the app.\nShedmate is a web-based 3d configurator that needs to process the same data models in different places: Revit, our ASPNet Cloud server, and our front end Angular app.\nThe cool thing here is that we can share services between the Revit and ASP and even run a script to generate our data models in typescript for Angular!\n\n<u><b>Simplicity:</b></u>\nNone of the features that Onbox provides out of the box are really trying to be the best ones in the industry. The framework is made with simplicity in mind, we tried to simplify the implementations as much as we could, even when we wanted to provide more functionality, we tried to make it easy to consume simpler versions of the APIs.\n\n<u><b>Modularity:</b></u>\nThe framework aims for modularity, so the idea here is that you can introduce new functionality by yourself. Our libraries, e.g. Container, Mapper, State Management, Async are tiny and are not trying to solve every single problem or implement every single feature, also they can always be replaced by more mature ones out there.\n\n<u><b>Flexible:</b></u>\nThe framework also aims to be flexible, if you have an existing Revit plugin and want to give Onbox a try, you would just swap the implementation for your external application and then for the external command implementations you want the container to be injected on. You are good to go!\n\n<u><b>Testability:</b></u>\nWith the loosely coupled architecture that the framework helps you to build, you can then use any unit testing frameworks\nlike [Dynamo's Revit Tester Framework](https://github.com/DynamoDS/RevitTestFramework)\nor [Geberit's Revit Test Runner](https://github.com/geberit/Revit.TestRunner).\nWe are even using Design Automation on Forge to unit test our Revit Apps.\nThat way, everything can be integrated into a CI/CD pipeline.\n\n<u><b>Documentation:</b></u>\nDocumentation is in its early stages, (yeah I know.. documentation is important).\nWe have a simple Getting Started Guide here and the complete API documentation here.\nThe written tutorials explaining the main concepts are still of the libraries are still in the works, and we will be doing constant updates on it from now on (now that AU recordings are finally over).\n\n<u><b>Usage and Collaboration:</b></u>\nEveryone is welcome to use it and collaborate!\nBeing MIT licensed, you can take any parts of the framework and modify it to your usage, this is simple, because the libraries are tiny.\nThe same thing for eventual bugs, you can step in and fix them yourself or log an issue on GitHub.\nWe would appreciate any code pull requests, contributions to the documentation, and publications you make for it.\nThe idea is to have a mature Framework so everyone can collect the benefits.\n\n<u><b>AU 2020:</b></u>\nI'm teaching two classes on AU this year.\nOne is an industry talk (Lessons Learned in Three Years of Forge Dev &ndash; SD468705) that talks about our 3 years of Experience using Forge, the issues and problems we faced, and some tips and tricks for you do not waste so much time as we did try to solve them.\nDuring the class we explain the benefits of using a loosely coupled architecture for building Revit applications.\nThe other one is a lab (The Cross-Platform Revit &ndash; SD468797-L).\nThis one goes through an overview process of building multi-platform Revit apps, we show how to share base code for Revit plugins, Dynamo (Zero touch) nodes, and Design Automation for Revit, and we use the framework do help us to do so.\nIf you are interested in the framework, please attend these classes next month on AU.\n\n<center>\n<img src=\"img/ta_onbox_framework.jpg\" alt=\"Onbox framework\" title=\"Onbox framework\" width=\"600\"/> <!-- 1919 -->\n</center>\n\nMany thanks to Thiago for sharing and documenting this powerful framework!"
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "DirectContext Rectangle Jig",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> DirectContext Rectangle Jig\n\nThe [DuplicateGraphics SDK sample](https://thebuildingcoder.typepad.com/blog/2017/05/revit-2017-and-2018-sdk-samples.html#4.2) demonstrates\nbasic usage of\nthe [`IDirectContext3DServer` interface](https://www.revitapidocs.com/2020/7709521d-9954-ef80-1f13-3bc6ee660d5d.htm) for\ndisplaying arbitrary 3D graphics in Revit [introduced in Revit 2018](https://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html#3.26), also discussed in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non how to [draw or render over the active view](https://forums.autodesk.com/t5/revit-api-forum/draw-render-over-the-activeview/m-p/7074503).\n\nSo far, I have not seen any other examples making use of this, so I was very glad to see Kailas Dhage's sample to\nimplement a plan view rectangle input jig in\nhis recent [comment](https://thebuildingcoder.typepad.com/blog/2012/06/uiview-and-windows-device-coordinates.html#comment-5115824205), saying:\n\nI am working with a feature in which user would like to pick two corner points of rectangle and would like to see jig of rectangle while picking points. \nIt works correctly in structural plan views like Level 1 and Level 2, but does not work correctly in a 3D view.\n\n<center>\n<img src=\"img/plan_view_rectangle_jig.gif\" alt=\"Jig\" title=\"Jig\" width=\"600\"/> <!-- 1919 -->\n</center>\n\nCan you please suggest changes to the following function, so that it returns correct mouse position in Revit model coordinates in a 3D view?\n\n<pre class=\"code\">\n&nbsp;&nbsp;<span style=\"color:#2b91af;\">XYZ</span>&nbsp;GetMousePoint()\n&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;view&nbsp;=&nbsp;<span style=\"color:blue;\">this</span>.HostApplication.ActiveUIDocument.ActiveView;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;uiView&nbsp;=&nbsp;GetActiveUiView(&nbsp;<span style=\"color:blue;\">this</span>.HostApplication.ActiveUIDocument&nbsp;);\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;corners&nbsp;=&nbsp;uiView.GetZoomCorners();\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;rect&nbsp;=&nbsp;uiView.GetWindowRectangle();\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;p&nbsp;=&nbsp;Cursor.Position;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;dx&nbsp;=&nbsp;(<span style=\"color:blue;\">double</span>)&nbsp;(p.X&nbsp;-&nbsp;rect.Left)&nbsp;/&nbsp;(rect.Right&nbsp;-&nbsp;rect.Left);\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;dy&nbsp;=&nbsp;(<span style=\"color:blue;\">double</span>)&nbsp;(p.Y&nbsp;-&nbsp;rect.Bottom)&nbsp;/&nbsp;(rect.Top&nbsp;-&nbsp;rect.Bottom);\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;a&nbsp;=&nbsp;corners[&nbsp;0&nbsp;];\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;b&nbsp;=&nbsp;corners[&nbsp;1&nbsp;];\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;v&nbsp;=&nbsp;b&nbsp;-&nbsp;a;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">var</span>&nbsp;q&nbsp;=&nbsp;a\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;dx&nbsp;*&nbsp;v.X&nbsp;*&nbsp;<span style=\"color:#2b91af;\">XYZ</span>.BasisX\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;dy&nbsp;*&nbsp;v.Y&nbsp;*&nbsp;<span style=\"color:#2b91af;\">XYZ</span>.BasisY;\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:blue;\">return</span>&nbsp;q;\n&nbsp;&nbsp;}\n</pre>\n\n**Answer:**\nTo handle the 3D view projection, you will have to apply the appropriate 3D view orientation transform to the mouse input coordinates.\nThat is not completely trivial...\n\nIn any case, here is [RevitJigSample.zip](zip/kd_RevitJigSample.zip) with the 2D sample code for your reference. \n\nThe code is based on the `IDirectContext3DServer`, in which we push graphics to the Revit graphics pipeline and remove when done.\n\nMany thanks to Kailas for sharing this useful demo!"
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "Creating Reports from AutoCAD and Revit",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Creating Reports from AutoCAD and Revit\n\nQuick end user oriented Q &amp; A on AEC reports and dashboards:\n\n**Question:** I am searching a product to create reports and insights from data generated by AutoCAD and Revit to bridge between construction engineering and business divisions. Where can I look?\n\n**Answer:** [Construction.Autodesk.com](http://construction.autodesk.com) has information about the entire Autodesk portfolio of products for the construction space.\nSpecifically, you can take a look at [Assemblesystems.com](http://assemblesystems.com).\nAssemble is capable of aggregating data from AutoCAD, Revit and Navisworks.\nAfter that, you can use Power BI integration to create a Dashboard to share results with stakeholders."
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "RevitApiDocs Statistics",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> RevitApiDocs Statistics\n\nGui Talarico has put in a lot of work in recent years providing and maintaining the Revit API documentation online:\n\n<!-- 1484 1586 1747 1779 -->\n\n- [Online Revit API Documentation](https://thebuildingcoder.typepad.com/blog/2016/08/online-revit-api-docs-and-convex-hull.html#2)\n- [Updated Online Revit API Docs](http://thebuildingcoder.typepad.com/blog/2016/10/token-expiry-and-online-revit-api-docs.html#2)\n- [Revit 2018.1 API Documentation Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html#5)\n- [RevitApiDocs Updated with the Revit 2020 API](https://thebuildingcoder.typepad.com/blog/2019/05/ai-boundaries-loops-and-revitapidocs-2020.html#2)\n- [RevitApiDocs versus ApiDocs](https://thebuildingcoder.typepad.com/blog/2019/09/pyrevit-relocation-and-apidocs-code-sample-collection.html)\n\nI just asked him about support for the Revit 2021 API and future releases, and it seems like Gui is happy to help with that.\n\nIn the process, he shared some usage statistics from the [revitapidocs web site](https://www.revitapidocs.com) that may be of interest to others as well:\n\n<center>\n<img src=\"img/2020_revitapidocs_stats.png\" alt=\"RevitApiDocs statistics\" title=\"RevitApiDocs statistics\" width=\"700\"/> <!-- 1464 -->\n</center>\n\nMany thanks to Gui for all his work providing us with these invaluable online API docs!"
  },
  {
    "original_filename": "1872_rect_jig",
    "header_text": "Stop Using JavaScript CDN",
    "local_header_href": "#6",
    "chunk_text": "####<a name=\"6\"></a> Stop Using JavaScript CDN\n\n[Terence Eden](https://edent.tel) presents some very valid reasons against using\na third party [Content Delivery Network](https://en.wikipedia.org/wiki/Content_delivery_network) in\nhis encouragement\nto [please stop using CDNs for external JavaScript libraries](https://shkspr.mobi/blog/2020/10/please-stop-using-cdns-for-external-javascript-libraries)."
  }
]