[
  {
    "original_filename": "1095_post_to_revit_server",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n</head>"
  },
  {
    "original_filename": "1095_post_to_revit_server",
    "header_text": "REST POST Request to Revit Server 2014",
    "local_header_href": "#rest-post-request-to-revit-server-2014",
    "chunk_text": "<h3>REST POST Request to Revit Server 2014</h3><p>I just arrived in Gothenburg, Sweden, for a mini-web-workshop.\nI'll let you know what I learn here soon.</p><p>Meanwhile, here is a quick little important note on a change to the Revit Server 2014 REST API that affected some:</p><p><strong>Question:</strong> I am using a POST request to copy a RVT file from one Revit Server folder to another.\nThis call worked fine in Revit Server 2013, but returns an error code 404 in Revit Server 2014.\nI looked at the documentation of the request and can see no changes.</p><p>I can perform GET requests on my folders in 2014 and get valid responses, but a POST will not work.\nHere are the strings that I am using for my testing, corresponding to the SDK document examples:</p><ul>\n<li>\"POST\"</li>\n<li>\"http://ABC-REV-T01/RevitServerAdminRESTService2014/AdminRESTService.svc/10Folder/descendent?sourceObjectPath=00Folder|01CentralModel.rvt&amp;pasteAction=Move&amp;duplicateOption=CopyIncrement\"</li>\n</ul><p>I reviewed all the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/08/revit-server-api-access-and-vbscript.html\">\nRevit Server API access</a>\n\nsample code I could find to no avail.</p><p>All of the other requests work fine with 2014.\nI also compared my POST lines for 2013 and 2014.\nThey are identical, and so are the ones provided in the 2013/2014 PDFs.\nIf I take the post lines I have created for 2014 and change them back to 2013 they work just fine as well.</p><p>What in heaven's name is the problem, please, and, above all, how can I fix it?</p><p><strong>Answer:</strong> Oops.\nSorry.\nThe signature of that API call changed since the documentation you are using was created.</p><p>The new syntax is:</p><ul>\n<li>Method: POST</li>\n<li>URI: {base URI}/{sourceObjectPath}?destinationObjectPath={destinationObjectPath}&amp;pasteAction={pasteAction}&amp;replaceExisting={replaceExisting}\n<ul>\n<li>{destinationObjectPath} = destination path of the operation</li>\n<li>{pasteAction} = Move or Copy</li>\n<li>{replaceExisting} = true or false</li>\n</ul>\n</li>\n</ul><p><strong>Example:</strong> Given a model called WorkingModel.rvt in a folder called OldFolder at the root of the Projects tree that needs to be moved to a new folder at the same level called NewFolder.\nHere is the call to achieve that:</p><ul>\n<li>Method: POST</li>\n<li>URI:\n<br/>{base_URI}/OldFolder|WorkingModel.rvt\n<br/>?destinationObjectPath=NewFolder|WorkingModel.rvt\n<br/>&amp;pasteAction=Move\n<br/>&amp;replaceExisting=true</li>\n</ul><p><strong>Response:</strong> Works like a charm.</p><p>I have been adding quite a bit of functionality to my original copy down tool, e.g., the ability for users to create projects, add RVT's with specified names, and create a CMD file to batch copy down central files for our Navisworks integration.</p><p>Thank you.</p>"
  }
]