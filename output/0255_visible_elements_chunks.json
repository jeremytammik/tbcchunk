[
  {
    "original_filename": "0255_visible_elements",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "0255_visible_elements",
    "header_text": "Visible Elements",
    "local_header_href": "#visible-elements",
    "chunk_text": "<h3>Visible Elements</h3><p>I am sitting here cramped up in an economy seat crossing the Atlantic Ocean as I write this.\nI should urgently be practicing and preparing for my sessions at AU, but somehow it feels as if writing a blog post requires slightly less space, so here goes.\nI would also like to answer some pending comments, but cannot right now due to lack of Internet access...\n\n<p>After revisiting the topic of \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/11/select-model-elements-2.html\">\nselecting all model elements</a> in the last post,\n\nthere is one more important and interesting issue to take into account to determine all the <strong>visible</strong> model elements.\nIn that post, we made use of element filtering instead of an iterator over all elements and eliminated a number of unwanted element types and categories.\nOnce we have thus whittled away the non-model elements, there are still several possibilities to hide elements in a given view through the user interface.\nHere are two main methods that can be used to hide elements in a view:\n\n<ul>\n<li>Hide an individual element.\n<li>Hide an entire category of elements.\n</li></li></ul>\n<p>To determine whether an element is hidden, we need to check for both of these possibilities.\nIn addition, an element may belong to a subcategory.\nIf so, it may be hidden either because its subcategory or one of its parent categories is hidden.\n\n<p>The Revit SDK sample VisibilityControl demonstrates how to control visibility by category, and the topic of categories and how they are used is covered in detail in section 5.2.1 Category of the developer guide \"Revit 2010 API Developer Guide.pdf\".\n\n<p>The visibility of an element in a view can be queried using the Element.IsHidden( View ) method, the visibility of a category by the Category.Visible property.\n\n<p>Here is the code of a helper method IsHiddenElementOrCategory which takes all these factors into account and can be used to check whether an element 'e' is hidden in a given view 'v'.\nIt returns true if the given element is hidden in this view, either as an individual element, or because its category or one of its parent categories is hidden:\n\n<pre class=\"code\">\n<span class=\"blue\">static</span> <span class=\"blue\">bool</span> IsHiddenElementOrCategory(\n  <span class=\"teal\">Element</span> e,\n  <span class=\"teal\">View</span> v )\n{\n  <span class=\"blue\">bool</span> hidden = e.IsHidden( v );\n \n  <span class=\"blue\">if</span>( !hidden )\n  {\n    <span class=\"teal\">Category</span> cat = e.Category;\n    <span class=\"blue\">while</span>( <span class=\"blue\">null</span> != cat &amp;&amp; !hidden )\n    {\n      hidden = !cat.get_Visible( v );\n      cat = cat.Parent;\n    }\n  }\n  <span class=\"blue\">return</span> hidden;\n}\n</pre>\n<a name=\"redrock\"></a>\n<h4>Red Rock Revisited</h4>\n<p>By the way, some time has passed between starting to write and actually posting this.\nI arrived safely in Las Vegas, grabbed a rental car, and went off to un-jetlag by spending the night in a sleeping bag in the desert.\nRather cold, but not freezing, this time around.\nTwo years ago, it was significantly below freezing and my gallon bottle of water froze solid, all the way down.\nLast year, it was warmer and moister and had actually rained just before my arrival.\nThis year is the most pleasant to date.\nFrankly, I prefer the desert to the strip.\n\n<p>I spent my first day here climbing in the \n\n<a href=\"http://en.wikipedia.org/wiki/Red_Rock_Canyon_National_Conservation_Area\">\nRed Rock</a> climbing area\n\nwith a bunch of crazy guys from Dallas, Texas, namely Karl, Fritz, Gary, Jess and Ellis.\nWe did several easy routes on the Ultraman wall, including Scent of an Ultraman 5.7, Clutch Cargo 5.7 and Science Patrol 5.8.\n\n<p>We met up early next morning again to go the \n\n<a href=\"http://www.rockclimbing.com/routes/North_America/United_States/Nevada/Red_Rock_Canyon/Second_Pullout/Black_Corridor\">\nBlack Corridor</a>, \n\nwhich I visited in the previous two years as well.\nI led a number of climbs in the morning including The Cel 50' 5.9, Bon Ez 5.9+, and two of hardest and nicest I've ever done, Heavy Hitter and Friend 40', both 5.10d.\nThe guys from Dallas left to return home at midday and I teamed up with Sonja &amp; Jean-Francois from Quebec in the afternoon to climb two more routes led by Jean-Francois, Crude Street 5.9+ and Dance with a God 5.10a.\n\n<p>I am now sitting in the Barnes and Noble book store on West Charleston Boulevard and gratefully using the free Internet access they provide to finish off and post this.\nThis is the road that I keep going up and down to get to Red Rock.\n</p></p></p></p></p></p></p></p></p></p>"
  },
  {
    "original_filename": "0255_visible_elements",
    "header_text": "Red Rock Revisited",
    "local_header_href": "#red-rock-revisited",
    "chunk_text": "<h4>Red Rock Revisited</h4><p>By the way, some time has passed between starting to write and actually posting this.\nI arrived safely in Las Vegas, grabbed a rental car, and went off to un-jetlag by spending the night in a sleeping bag in the desert.\nRather cold, but not freezing, this time around.\nTwo years ago, it was significantly below freezing and my gallon bottle of water froze solid, all the way down.\nLast year, it was warmer and moister and had actually rained just before my arrival.\nThis year is the most pleasant to date.\nFrankly, I prefer the desert to the strip.\n\n<p>I spent my first day here climbing in the \n\n<a href=\"http://en.wikipedia.org/wiki/Red_Rock_Canyon_National_Conservation_Area\">\nRed Rock</a> climbing area\n\nwith a bunch of crazy guys from Dallas, Texas, namely Karl, Fritz, Gary, Jess and Ellis.\nWe did several easy routes on the Ultraman wall, including Scent of an Ultraman 5.7, Clutch Cargo 5.7 and Science Patrol 5.8.\n\n<p>We met up early next morning again to go the \n\n<a href=\"http://www.rockclimbing.com/routes/North_America/United_States/Nevada/Red_Rock_Canyon/Second_Pullout/Black_Corridor\">\nBlack Corridor</a>, \n\nwhich I visited in the previous two years as well.\nI led a number of climbs in the morning including The Cel 50' 5.9, Bon Ez 5.9+, and two of hardest and nicest I've ever done, Heavy Hitter and Friend 40', both 5.10d.\nThe guys from Dallas left to return home at midday and I teamed up with Sonja &amp; Jean-Francois from Quebec in the afternoon to climb two more routes led by Jean-Francois, Crude Street 5.9+ and Dance with a God 5.10a.\n\n<p>I am now sitting in the Barnes and Noble book store on West Charleston Boulevard and gratefully using the free Internet access they provide to finish off and post this.\nThis is the road that I keep going up and down to get to Red Rock.\n</p></p></p></p>"
  }
]