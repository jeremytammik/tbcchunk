[
  {
    "original_filename": "1861_params_tiles",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- an interesting motivational article by Jesse Hall on unintentionally starting a successful YouTube channel and ending up earning moeny with it, all just to prove a point to his two teenage kids:\nHow I Went From 0 to 70k Subscribers on YouTube in 1 Year – And How Much Money I Made\nhttps://www.freecodecamp.org/news/how-to-grow-your-youtube-channel/\n> In conclusion, I just want to say that anyone can do anything. If you have (1) the proper motivation, (2) realistic expectations, and (3) you don't overwork yourself, you can be successful.\n\n- Parameter type changes to custom in Revit 2021.1\nhttps://forums.autodesk.com/t5/revit-api-forum/parameter-type-changes-to-custom-in-revit-2021-1/m-p/9693021\n\nIn Revit 2021.1, the following parameter types are automatically changed to `custom` after creation:\n\n- Angular Speed\n- Cost per Area\n- Cost Rate Energy\n- Cost Rate Power\n- Diffusivity\n- Distance\n- Flow per Power\n- Isothermal Moisture Capacity\n- Mass per Time\n- Power per Flow\n- Power per Length\n- Rotation Angle\n- Stationing Interval\n- Thermal Gradient Coefficient for Moisture Capacity\n\nIs that intentional?\n\n- effect of home office on meeting culture\n  Microsoft analyzed data on its newly remote workforce\n  https://hbr.org/2020/07/microsoft-analyzed-data-on-its-newly-remote-workforce\n\n- How to get number of cut tiles in a room using revit api\n  https://forums.autodesk.com/t5/revit-api-forum/how-to-get-number-of-cut-tiles-in-a-room-using-revit-api/m-p/9696586\n\ntwitter:\n\nParameter changes to custom, tile packing in room, Forge solution showcase, motivating kids and business success with the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon http://bit.ly/tilepacking\n\nParameter changes and tile packing using the Revit API and AI, plus some other notes on Forge and general stuff\n&ndash; Parameter type changes to <code>Custom</code>\n&ndash; Determining cut tiles in room\n&ndash; Optimal banana sandwich slice packing with AI\n&ndash; Forge solution showcase\n&ndash; Effect of home office on meeting culture\n&ndash; Motivating kids can be harder than business success...\n\nlinkedin:\n\nParameter changes to custom, tile packing in room, Forge solution showcase, motivating kids and business success with the #RevitAPI\n\nhttp://bit.ly/tilepacking\n\n-  Parameter type changes to Custom\n-  Determining cut tiles in room\n-  Optimal banana sandwich slice packing with AI\n-  Forge solution showcase\n-  Effect of home office on meeting culture\n-  Motivating kids can be harder than business success...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1861_params_tiles",
    "header_text": "Custom Parameters and Tile Packing",
    "local_header_href": "#custom-parameters-and-tile-packing",
    "chunk_text": "### Custom Parameters and Tile Packing\n\nParameter changes and tile packing using the Revit API and AI, plus some other notes on Forge and general stuff:\n\n- [Parameter type changes to `Custom`](#2)\n- [Tile packing and determining cut tiles in room](#3)\n- [Bin packing and container loading in Dynamo and Excel](#3.1)\n- [Optimal banana sandwich slice packing with AI](#4)\n- [Forge solution showcase](#5)\n- [Effect of home office on meeting culture](#6)\n- [Motivating kids can be harder than business success](#7)"
  },
  {
    "original_filename": "1861_params_tiles",
    "header_text": "<a name=\"2\"></a>Parameter Type Changes to Custom",
    "local_header_href": "#a-name2aparameter-type-changes-to-custom",
    "chunk_text": "#### <a name=\"2\"></a>Parameter Type Changes to Custom\n\nA question came up on why a number of parameter types can no longer be created programmatically, in \nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non [parameter type changes to custom in Revit 2021.1](https://forums.autodesk.com/t5/revit-api-forum/parameter-type-changes-to-custom-in-revit-2021-1/m-p/9693021):\n\n**Question:** In Revit 2021.1, the following parameter types are automatically changed to `custom` after creation:\n\n- Angular Speed\n- Cost per Area\n- Cost Rate Energy\n- Cost Rate Power\n- Diffusivity\n- Distance\n- Flow per Power\n- Isothermal Moisture Capacity\n- Mass per Time\n- Power per Flow\n- Power per Length\n- Rotation Angle\n- Stationing Interval\n- Thermal Gradient Coefficient for Moisture Capacity\n\n<center>\n<img src=\"img/parameter_type_custom_in_2021_1.png\" alt=\"Parameter type Custom in 2021.1\" title=\"Parameter type Custom in 2021.1\" width=\"600\"/> <!-- 1166 -->\n</center>\n\nIt looks like we don't have API support (for creating) these parameter types.\n\nIs that intentional?\n\n**Answer:** The development team replied:\n\nYes, it's intentional, and we recognise it as a limitation.\n\nA future major release of Revit will offer a better experience.\n\nThe reason behind it is that the new data types in this list can be identified by `ForgeTypeId` but do not map to values in the deprecated `UnitType` enumeration or the `ParameterType` enumeration (which will be deprecated in future releases of Revit).\n\nYou can use these new data types to create parameters in the Revit user interface, but if you try to read the `ParameterType` value in the API, you'll get Custom.\n\nHowever, I believe you can use the `Definition.GetSpecTypeId` method to distinguish between these Custom parameters.\n\nSo, you are absolutely correct: currently no support for these parameter types.\n\nThat support will come in a future major release of Revit.\n\nIt is in fact also already available in the current preview release."
  },
  {
    "original_filename": "1861_params_tiles",
    "header_text": "<a name=\"3\"></a>Tile Packing and Determining Cut Tiles in Room",
    "local_header_href": "#a-name3atile-packing-and-determining-cut-tiles-in-room",
    "chunk_text": "#### <a name=\"3\"></a>Tile Packing and Determining Cut Tiles in Room\n\nRichard [RPThomas108](https://forums.autodesk.com/t5/user/viewprofilepage/user-id/1035859) Thomas\nhas been extremely active and helpful lately in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160).\n\nHere is some very down-to-earth (or -floor) advice of his on \n[how to get the number of cut tiles in a room using the Revit API](https://forums.autodesk.com/t5/revit-api-forum/how-to-get-number-of-cut-tiles-in-a-room-using-revit-api/m-p/9696586):\n\n**Question:** I want to get number of tiles in a room.\n\nAfter getting the number of tiles I also want to get the cut tiles in percentage of tiles.\n\nHaving collected rooms in floor plan, is there any way to get the tiles?\n\n**Answer:** This is an interesting task.\n\nI am not aware of any support for this in the Revit API right out of the box.\n\nIs this functionality provided by the Revit end user interface?\n\nThe API hardly ever provides functionality that is not available in the end user interface.\n\nIf not, you can definitely implement something yourself to retrieve the exact area that you wish to cover with tiles and run some kind of partitioning and optimisation algorithm on it to achieve the task you describe.\n\nFirst, some rather abstract theoretical research in this area:\n\n- [Euclidean tilings by convex regular polygons](https://en.wikipedia.org/wiki/Euclidean_tilings_by_convex_regular_polygons)\n- [Tiling with rectangles](https://en.wikipedia.org/wiki/Tiling_with_rectangles)\n- [Tiling an orthogonal polygon with squares](https://cs.stackexchange.com/questions/16661/tiling-an-orthogonal-polygon-with-squares)\n- [hextile &ndash; Generate tile representations of polygon objects on map](https://github.com/datagovsg/hextile)\n\nAnother idea:\n\nImplement a family instance representing one tile.\nUse the Revit 2021 generative design functionality to place a maximum number of tiles on the desired surface.\n\nContinued researching this:\n\n- [Nesting maximum amount of shapes on a surface](https://stackoverflow.com/questions/2675123/nesting-maximum-amount-of-shapes-on-a-surface)\n\nThe proper term to search for is 'packing':\n\n- [Packing problems](https://en.wikipedia.org/wiki/Packing_problems)\n- [Packing algorithms](https://github.com/topics/packing-algorithm)\n- [What algorithm can be used for packing rectangles of different sizes into the smallest rectangle possible in a fairly optimal way?](https://stackoverflow.com/questions/1213394/what-algorithm-can-be-used-for-packing-rectangles-of-different-sizes-into-the-sm)\n\nAddendum while editing the blog post: check\nout [Nest2D, a C++ 2D bin packaging tool for Python](https://github.com/markfink/nest2D),\nmentioned below for optimised banana slice packing.\nThat looks as if it will solve the problem for you right out of the box.\n\nIn any case, do remember to appropriately align the polygon surface you wish to fill (or tile).\n\nNow for the more down-to-earth aspects:\n\nNot to complicate the issue but is this tiles with grout tolerance allowance between the tiles?\n\nIf I were thinking of how I would do it then I'd place the tiles as solids in a given grid arrangement overlapping the room boundary, get the total volume of this grid arrangement = Vol1.\n\nCut the room shape out of this tile arrangement to get the volume again = Vol2.\n\nYou can then get the volume inside the room by deducting Vol2 from Vol1.\n\nSeparate out the disjoined solids in Vol2 (I believe there is a function for that).\n\nThen you can also identify the cut tiles around the perimeter of the room in Vol2 because each of those have a volume less than a tile. This is the inverse volume so you deduct each of these from the tile size to give you each partial tile size and its location.\nI speak in terms of volumes because volume is easy to determine from solids and then you can divide by tile thickness.\n\nAlso, I'm using the inverse because I know the boundary of the room to use for deducting from the overall set. I could do it the other way around (deduct the excess from around the room) but I would have to allow a border around the room to ensure all the excess tiles are deducted and this seems slightly more complicated in determining that border width (probably a tile size plus an allowance).\n\nI think where you start the tiling becomes arbitrary in a sense because rarely in reality are tiles set out on site to such precision. I imagine you usually start from the centre and work your way out to the edges so it gives the impression of symmetry.  I'm wondering how many variations you'd get by changing the tile offset i.e. if all the tiles are the same size do you cover the variations by offsetting through the tile unit dimensions? Do you then discount arrangements that lead to impractical tile sizes?\n\nIn the end, what area of tiles do you need to fill a room of 10m2? Workmanship will play a large part in how many tiles you need so costs are usually not that specific. It'll likely be 10m2 worth of tiles + tolerance because I can't sell you half tiles (you cut them).\nAlso, I'll sell you boxes of 20 tiles not individual ones.\nThen, there is colour variations in tiles; perhaps you have a pattern and you want to know how many of each colour?\n\n**Response:** Thank you for reply.\nWe are not considering tolerance part or the colour of different tiles as of now.\n\nI am thinking to do some different way.\n\nAssuming room is rectangular:\n\nI will get centre of rectangle.\n\nThen I fire a reference intersector in both directions (x,y).\n\nI know the size of the tiles (width,height).\nDivide reference intersector by length.\nThat returns the no of tiles in that line.\n\nMultiply by room dimension get total tiles.\n\nIf reference intersector is not divide equally, then last tiles are cut tiles; I will get total cut tiles by multiplying with length of room.\n\n**Answer:** Sounds like an approach but I'm not sure you need a `ReferenceIntersector` for a rectangular room.\n\nIf the room is rectangular then you just need to find the room boundaries with opposite or same vector direction and measure the distance between them to get your room size.\n\nThen, it's just as you say, dividing room dimension into tile dimension to give you a count.\nThe remainder is then the portion of cut tile at either end:\n\n5000 / 300 = 16.6666 recurring (16 full units).\n\n0.6666 * 300 = 200 (rounded) so a strip of 100mm at each end to close the gap.\n\nThat kind of thing?\n\nGrout tolerance is likely means to artificially increase the tile size dimensions by the grout width.\nWe do similar with reinforcement bars to get maximum spacing but we are then counting the gaps."
  },
  {
    "original_filename": "1861_params_tiles",
    "header_text": "<a name=\"3.1\"></a>Bin Packing and Container Loading in Dynamo and Excel",
    "local_header_href": "#a-name31abin-packing-and-container-loading-in-dynamo-and-excel",
    "chunk_text": "#### <a name=\"3.1\"></a>Bin Packing and Container Loading in Dynamo and Excel\n\nKostya added some further useful suggestions\nin [his comment below](https://thebuildingcoder.typepad.com/blog/2020/08/custom-parameters-and-tile-packing.html#comment-5053479490):\n\nI have recently been looking for 1D/2D/3D bin packaging algorithms as well. Reference links helped me a lot.\n\nIn addition to them I think it worth mentioning\nthe [Dynamo package Miscellany](https://github.com/thomascorrie/Miscellany), based on\nthe [C# library 3DContainerPacking](https://github.com/davidmchapman/3DContainerPacking).\n\nI also came across two free Excel workbooks by Güneş Erdoğan for representing, solving, and visualising the results of Bin Packing Problems (BPPs) and Container Loading Problems (CLPs), also known as 3D Bin Packing Problems:\n\n- [BPP Spreadsheet Solver (2D)](https://people.bath.ac.uk/ge277/bpp-spreadsheet-solver) \n- [CLP Spreadsheet Solver (3D)](https://people.bath.ac.uk/ge277/clp-spreadsheet-solver)\n\nThey implement Large Neighborhood Search:\n\n- Step 1 (Initialization): Sort the items with respect to their priority, size, and profit. Sort bins with respect to their size and cost.\n- Step 2 (Constructive step): Use the First-Fit-Decreasing heuristic to pack the items into the bins.\n- Step 3 (Perturbation): Randomly remove items from bins, and randomly empty a number of bins. Sort the bins with respect to the area packed into them and their cost per unit area.\n- Step 4 (Reoptimization): Use the First-Fit-Decreasing heuristic to repack the removed items.\n- Step 5 (Solution update): If the new solution is better than the best known solution, update the best known solution. Otherwise, revert back to the best known solution. If the time limit is not exceeded, go to Step 3.\n\nMany thanks to Kostya for these helpful links!\n\n####<a name=\"4\"></a>Optimal Banana Sandwich Slice Packing with AI\n\nOn the topic of optimal packing, a full-fledged solution with a modern and thorough approach for solving a challenging real-world problem is addressed in the article\non [optimal peanut butter and banana sandwiches](https://www.ethanrosenthal.com/2020/08/25/optimal-peanut-butter-and-banana-sandwiches):\n\n<center>\n<video style=\"display:block; width:600px; height:auto;\" autoplay=\"\" muted=\"\" loop=\"loop\">\n<source src=\"img/banana_small.mp4\" type=\"video/mp4\">\n<source src=\"https://thebuildingcoder.typepad.com/2020/banana_small.mp4\" type=\"video/mp4\">\n</video>\n</center>\n\nIt uses a pretrained torchvision deep learning model for image recognition and labelling to find the banana and slice of bread in a photo, geometrically analyses and virtually slices the banana to produce the packing polygons, and finally packs the banana slices onto the sandwich\nusing [Nest2D, a C++ 2D bin packaging tool for Python](https://github.com/markfink/nest2D).\n\n\n####<a name=\"5\"></a>Forge Solution Showcase\n\nThe new [Forge solution showcase web page](https://forge.autodesk.com/solution-showcase) is now live.\n\nThe goal of this page is to showcase what you can do with Forge.\nIt features solutions created by the community for things like Digital Twins, Visual Insights, and Design Automation.\n \nIt includes a call to action for others to submit their stories as well. \nThe Forge Fund team receives these notifications as well, so if there is an opportunity for the Forge Fund, they can reach out.\n\n\n####<a name=\"6\"></a>Effect of Home Office on Meeting Culture\n\nSome interesting aspects of meeting culture working at home were discovered and discussed \nas [Microsoft analysed data on its newly remote workforce](https://hbr.org/2020/07/microsoft-analyzed-data-on-its-newly-remote-workforce).\n\n####<a name=\"7\"></a>Motivating Kids can be Harder than Business Success\n\nAn inspiring motivational article by Jesse Hall on semi-unintentionally starting a successful YouTube channel and ending up earning money with it, all just to prove a point to his two teenage kids:\n[How I Went From 0 to 70k Subscribers on YouTube in 1 Year &ndash; And How Much Money I Made](https://www.freecodecamp.org/news/how-to-grow-your-youtube-channel):\n\n> In conclusion, I just want to say that anyone can do anything.\nIf you have (1) the proper motivation, (2) realistic expectations, and (3) you don't overwork yourself, you can be successful."
  }
]