[
  {
    "original_filename": "2045_dll_paradise",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<!-- https://highlightjs.org/#usage\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js\"></script>\n<script>hljs.highlightAll();</script>\n-->\n\n<!-- https://prismjs.com -->\n<link href=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css\" rel=\"stylesheet\" />\n<script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js\"></script>\n<style> code[class*=language-], pre[class*=language-] { font-size : 90%; } </style>\n</head>\n\n<!---\n\n- The difference between Length and ApproximateLength in Curve class\n  https://forums.autodesk.com/t5/revit-api-forum/the-difference-between-length-and-approximatelength-in-curve/m-p/12841543/\n\ntwitter:\n\nClarification on the arc Length versus ApproximateLength properties provided by curve elements and the new RevitLookup add-in dependencies isolation solves @AutodeskRevit #RevitAPI add-in DLL hell #BIM @DynamoBIM https://autode.sk/end_dll_hell\n\nNew RevitLookup solves Revit add-in DLL hell, and a clarification on the arc length properties provided by curve elements\n&ndash; Curve Length versus ApproximateLength\n&ndash; RevitLookup dependency isolation ends DLL hell\n&ndash; Add-in dependencies isolation...\n\nlinkedin:\n\nClarification on the arc Length versus ApproximateLength properties provided by curve elements and the new RevitLookup add-in dependencies isolation solves #RevitAPI add-in DLL hell\n\nhttps://autode.sk/end_dll_hell\n\n- Curve Length versus ApproximateLength\n- RevitLookup dependency isolation ends DLL hell\n- Add-in dependencies isolation...\n\n#BIM #DynamoBIM #AutodeskAPS #Revit #API #IFC #SDK #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "2045_dll_paradise",
    "header_text": "Length Query and RevitLookup Heralds DLL Paradise",
    "local_header_href": "#length-query-and-revitlookup-heralds-dll-paradise",
    "chunk_text": "### Length Query and RevitLookup Heralds DLL Paradise\n\nExciting new RevitLookup release solves Revit add-in DLL hell, and a clarification on the arc length properties provided by curve elements:\n\n- [Curve Length versus ApproximateLength](#2)\n- [RevitLookup dependency isolation ends DLL hell](#3)\n- [Add-in dependencies isolation](#4)"
  },
  {
    "original_filename": "2045_dll_paradise",
    "header_text": "Curve Length versus ApproximateLength",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> Curve Length versus ApproximateLength\n\nLast week, the Revit development team helped to provide a useful clarification\nof [the difference between `Length` and `ApproximateLength` in `Curve` class](https://forums.autodesk.com/t5/revit-api-forum/the-difference-between-length-and-approximatelength-in-curve/m-p/12841543/):\n\n**Question:**\nThe Curve class provides two properties to get the length of a curve, `Length` and `ApproximateLength`.\nWhat is the difference?\n\n**Answer:**\nFor many types of curves, the results will probably be identical.\nDifferences probably only occur for complex curves.\nFor example, there is no closed-form expression for the arc length of an ellipse.\nOne efficient and fruitful way to address this kind of question is to implement a little test suite with benchmarking and try it out for yourself.\n\nThe development team clarify:\n\nSeems pretty well documented in the remarks for the `ApproximateLength` property to me.\nApproximateLength is completely accurate for uniform curves (lines and arcs) but could be off by as much as 2x for non-uniform curves, and so it may be worth checking the curve’s class and deciding which method to call from there, or just using the `Length` property in all cases, if accuracy is a concern.\nI recommend the latter, as the time savings hasn’t shown to be significant in my work.\n\n`ApproximateLength` uses a rough approximation that depends on the curve type.\nThere's no guarantee that the approximation method will be unchanged in future releases.\n\n`Length` performs a line integral to compute the curve length, which can be considered exact for all practical purposes.\nLines and arcs have closed-form expressions for their lengths that are used instead.\nI agree that a user is unlikely to see a noticeable performance difference between the two methods.\nThe performance differences are mostly relevant for internal usage, e.g., in graphics functionality.\n\n<center>\n<img src=\"img/arc_length.png\" alt=\"Arc length\" title=\"Arc length\" width=\"300\"/>\n</center>"
  },
  {
    "original_filename": "2045_dll_paradise",
    "header_text": "RevitLookup Dependency Isolation Ends DLL Hell",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> RevitLookup Dependency Isolation Ends DLL Hell\n\nThe new [RevitLookup release 2025.0.8](https://github.com/jeremytammik/RevitLookup/releases/tag/2025.0.8) runs\nin an isolated container for addin dependencies.\n\nThis new capability prevents conflicts and compatibility issues arising from different library versions between plugins, ensuring a more stable and reliable environment for plugin execution.\n\nThis enhancement uses the `Nice3point.Revit.Toolkit` to manage the isolation process, effectively eliminating DLL conflicts.\nBy integrating this package, RevitLookup ensures a consistent and predictable user experience.\n\nThe detailed description how it works is provided in the release notes\nfor [RevitToolkit release 2025.0.1](https://github.com/Nice3point/RevitToolkit/releases/tag/2025.0.1),\nalso reproduced [below](#4).\n\n<!--\nPlease note that this is unrelated\nto [the recent RevitLookup hotfix 2025.0.1](https://thebuildingcoder.typepad.com/blog/2024/04/revitlookup-hotfix-and-the-revit-2025-sdk.html#2).\n-->\n\nThe dependency isolation is available starting with Revit 2025.\nNote that the isolation mechanism is implemented by an additional library that must be loaded into Revit at first startup for it to work.\nTherefore, if your other plugins use `Nice3point.Revit.Toolkit`, it must be updated to version `2025.0.1`, which introduces this feature.\n\nRevitLookup 2025.0.8 addresses the following issues:\n\n- Dependency conflicts [latest release won't run #210](https://github.com/jeremytammik/RevitLookup/issues/210) and\n  [I get an error #252](https://github.com/jeremytammik/RevitLookup/issues/252)\n- [Request for adding `WorksharingTooltipInfo` properties #254](https://github.com/jeremytammik/RevitLookup/issues/254)\n- A discussion of the `AssemblyLoadContext` used to implement the dependency isolation,\n  [Build Automation Version is breaking Revit 2025 #246](https://github.com/jeremytammik/RevitLookup/issues/246)\n\nAs further improvements, the following type extensions are added\nfor the [`Part` class, associated classes #255](https://github.com/jeremytammik/RevitLookup/pull/255)\nand [`WorksharingUtils` #257](https://github.com/jeremytammik/RevitLookup/pull/257):\n\nPart:\n\n- IsMergedPart: Is the Part the result of a merge.\n- IsPartDerivedFromLink: Is the Part derived from link geometry\n- GetChainLengthToOriginal: Calculates the length of the longest chain of divisions/ merges to reach to an original non-Part element that is the source of the tested part\n- GetMergedParts: Retrieves the element ids of the source elements of a merged part\n- ArePartsValidForDivide: Identifies if provided members are valid for dividing parts\n- FindMergeableClusters: Segregates a set of elements into subsets which are valid for merge\n- ArePartsValidForMerge: Identifies whether Part elements may be merged\n- GetAssociatedPartMaker: Gets associated PartMaker for an element\n- GetSplittingCurves: Identifies the curves that were used to create the part\n- GetSplittingElements: Identifies the elements ( reference planes, levels, grids ) that were used to create the part\n- HasAssociatedParts: Checks if an element has associated parts\n\nPartMaker:\n- GetPartMakerMethodToDivideVolumeFW: Obtains the object allowing access to the divided volume properties of the PartMaker\n\nElement:\n- GetCheckoutStatus: Gets the ownership status of an element\n- GetWorksharingTooltipInfo: Gets worksharing information about an element to display in an in-canvas tooltip\n- GetModelUpdatesStatus: Gets the status of a single element in the central model\n- AreElementsValidForCreateParts: Identifies if the given elements can be used to create parts"
  },
  {
    "original_filename": "2045_dll_paradise",
    "header_text": "Add-In Dependencies Isolation",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Add-In Dependencies Isolation\n\nThe RevitLookup isolated plugin dependency container is built using .NET `AssemblyLoadContext`.\n\nThis feature enables plugins to run in a separate, isolated context, ensuring independent execution and preventing conflicts from incompatible library versions.\n\nThis enhancement is available for Revit 2025 and higher, addressing the limitations of Revit's traditional plugin loading mechanism, which loads plugins by path without native support for isolation.\n\nHow it works:\n\nThe core functionality centres on `AssemblyLoadContext`, which creates an isolated container for each plugin.\n\nWhen a plugin is loaded, it is assigned a unique `AssemblyLoadContext` instance, encapsulating the plugin and its dependencies to prevent interference with other plugins or the main application.\n\nTo use this isolation feature, developers must inherit their classes from:\n\n- ExternalCommand\n- ExternalApplication\n- ExternalDbApplication\n- ExternalCommandAvailability\n\nThese classes contain the built-in isolation mechanism under the hood.\nPlugins using interfaces such as `IExternalCommand` will not benefit from this isolation and will run in the default context.\n\nLimitations:\n\n- The isolated plugin context feature is available starting with Revit 2025.\n- For older Revit versions, this library uses a ResolveHelper to help load dependencies from the plugin's folder, but does not protect against conflicts arising from incompatible packages.\n- Additionally, plugins that do not inherit from the specified classes will not be isolated and may experience compatibility issues if they rely on the default context.\n\nFor further details, please refer to the discussion between ricaun and Nice3point\non [build automation version breaking Revit 2025 #246](https://github.com/jeremytammik/RevitLookup/issues/246)\n\nThey recommend that Autodesk and Revit adopt similar functionality and include it in the basic Revit API add-in handling architecture, so that all add-in dependencies are automatically isolated and DLL hell conflicts never occur.\n\nricaun recorded a nine-minute video\non [RevitLookup - End of DLL hell - Revit API](https://youtu.be/cpy4J_6-8WY) explaining\nand demonstrating exactly how RevitLookup for Revit 2025 can herald the end of DLL hell:\n\n<center>\n<iframe width=\"480\" height=\"270\" src=\"https://www.youtube.com/embed/cpy4J_6-8WY?si=05tXP34MEFOGqFGB\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>\n</center>\n\nMany thanks to both of you for your thorough implementation, testing, discussion and documentation!"
  }
]