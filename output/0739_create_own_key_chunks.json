[
  {
    "original_filename": "0739_create_own_key",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "0739_create_own_key",
    "header_text": "Great Ocean Road and Creating Your Own Key",
    "local_header_href": "#great-ocean-road-and-creating-your-own-key",
    "chunk_text": "<h3>Great Ocean Road and Creating Your Own Key</h3><p>The \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2012/03/melbourne-devlab.html\">\npost-DevLab evening</a> I \n\nspent with Paul and Nick on Friday night turned into something of a pub crawl and one of the most pleasant post-training evenings for a long time.\nDelightful company of highly talented programmers with a wide range of non-programming interests.\n\n<p>One of the many interesting topics that we discussed was on identifying a set of beams originating in different systems, and I suggested <a href=\"\n#2\">creating your own key</a>.\nIf you want to skip my weekend blather, please <a href=\"\n#2\">jump straight down</a> to that technical topic...\n\n<p>After the Loop and Siglo, we had a bite to eat and a cup of cappuccino at the \n\n<a href=\"http://www.broadsheet.com.au/melbourne/food-and-drink/directory/restaurant/cafe/pellegrinis\">\nPellegrini's</a>,\n\nreturned to the \n\n<a href=\"http://www.theage.com.au/news/bar-reviews/the-melbourne-supper-club/2006/04/03/1143916451849.html\">\nSupper Club</a> for\n\na glass of red wine but left again in protest against their overpriced offerings, and finally had a little tiff with a bouncer a another rooftop bar.\nAs said, very entertaining and memorable evening in wonderful company.\n\n<p>The weekend was memorable too.\nKim and Robby &amp; Co. were extremely nice and took me camping along the\n\n<a href=\"http://www.visitgreatoceanroad.org.au\">\nGreat Ocean Road</a>,\n\nwhich really is quite spectacular.\nWe spotted koalas along the road:</p>\n<center>\n<img alt=\"Koala\" src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040309_koala.jpg\" width=\"400\"/>\n</center>\n<p>I practiced at being one too:</p>\n<center>\n<img alt=\"Jeremy in a Eucalyputus tree\" src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040316_jeremy_eucalyptus.jpg\" width=\"400\"/>\n</center>\n<p>We went camping at Johanna Beach and had a swim, or rather a struggle with pretty huge waves, attempting to have one:</p>\n<center>\n<!-- <img src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040338_jeremy_in_wave.jpg\" alt=\"Attacked by a wave\" width=\"400\"/> -->\n<img alt=\"Johanna Beach\" src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040473_johanna_beach.jpg\" width=\"400\"/>\n</center>\n<p>It is autumn here now, of course, so the weather is turning cooler.\n\n<p>On Sunday we visited the \npretty amazing\n\n\n<a href=\"http://en.wikipedia.org/wiki/The_Twelve_Apostles_%28Victoria%29\">\nTwelve Apostles</a>, \n\nof which only seven are actually visible, and \n\n<a href=\"http://en.wikipedia.org/wiki/Loch_Ard_Gorge\">\nLoch Ard Gorge</a>:</p>\n<center>\n<img alt=\"Loch Ard Gorge\" src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040577_loch_ard.jpg\" width=\"400\"/>\n</center>\n<p>We even caught a couple of glimpses of a seal cavorting in the waves, prepared a funeral for a poor little stranded puffer fish, were astounded by the crazy surfers doing huge waves under the bridge in Campbell:</p>\n<center>\n<img alt=\"Puffer Fish grave\" src=\"file:////j/photo/jeremy/2012/2012-03-25_great_ocean_road/p1040487_puffer_fish.jpg\" width=\"400\"/>\n</center>\n<p>A really wonderful weekend, and I am so grateful!\n\n<p>Back in Melbourne, Monday morning, I met up with Paul again for a coffee in\n\n<a href=\"http://www.broadsheet.com.au/melbourne/food-and-drink/directory/restaurant/cafe/pellegrinis\">\nPellegrini's</a> and\n\na breakfast in \n\n<a href=\"http://www.thequarter.com.au\">\nthe quarter</a>.\n\nThey provide no wifi access, so I am now sitting in the \n\n<a href=\"http://www.melbourne.vic.gov.au/MelbourneLibraryService/Pages/MelbourneLibraryService.aspx\">\nMelbourne Library</a> instead, due to head back for the airport soon, and my long flight back home.\n\n<p>Meanwhile, here is another topic we discussed during the inspiring days last week.\n\n\n\n<a name=\"2\"></a>\n<h4>Create Your Own Key!</h4>\n<p>One of the many interesting topics that came up during the Australian DevLab was raised by Nick, on identifying a set of beams originating in Rhino with their Revit model equivalents.\nIt made me realise how thoughtless we all tend to be, relying on identifiers created by various software packages instead of creating our own.\n\n<p>The issue and train of thought that led me to ponder this is the following:\n\n<p><strong>Question:</strong> I am creating a large stadium model in Rhino with hundreds or even thousands of beams, which I then import into Revit.\nThat works fine.\nThe issue I have is the following: if I make modifications in Rhino, I wish to re-import the beams.\nI could of course just delete them all in Revit and do so.\nHowever, I might have edited them in Revit as well, in which case I would prefer to retain the edited elements and only update the ones which have been modified in Rhino.\nFor this, I need some way to correlate the Rhino beams with the corresponding Revit ones.\n\n<p><strong>Answer:</strong> This is an interesting, common and generic problem.\n\n<p>You have two sets of elements which are related with each other and wish you correlate the corresponding members.\n\n<p>The non-brainer approach that we are all much too used is accepting some kind of God-given identifier such as the Revit element id.\n\n<p>In this specific case, if the model would have originated in Revit, we would probably automatically have opted to use that id to correlate corresponding members.\n\n<p>Since they originate in Rhino instead, that is not possible.\nMaybe Rhino defines some kind of identifier as well, and that can be used?\n\n<p>Naturally, you can also define your own identifier, possibly simply based on a consecutive numbering system.\nPossibly you can attach that kind of information as a sort of label to each element and use that label to select elements in both systems.\n\n<p>However, there is a much more natural and foolproof way to go that we all too seldom realise!\n\n<p>We can define an identifier for each element which is completely independent of all software systems and all numbering schemes.\n\n<p>In the simplest case, for instance, we might just be dealing with a single type of element based on one single point. \n\n<p>In that case, we can just use the insertion point itself to identify each element, providing there are no overlays, i.e. multiple elements sharing the same insertion point.\n\n<p>I showed how to define a comparison algorithm for points when looking at \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/05/nested-instance-geometry.html\">\nnested instance geometry</a>  and \n\nrevisited it in depth during the \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2012/03/melbourne-day-two.html#2\">\nMelbourne Revit API training</a>.\n\n<p>I implemented a related sort order and sorting algorithm for points based on this for the \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/03/toposurface-interior-and-boundary-points.html\">\ntoposurface point classification</a>.\n\n<p>This allows me to use a standard generic .NET Dictionary class and the Revit API XYZ insertion point as a key into that dictionary.\n\n<p>I can easily generalise this for the slightly more complex case of straight beams.\nIn this case, I can consider each beam as a simple line segment.\nIf a line from A to B is considered identical to the one from B to A, which makes sense in many cases, we are looking at undirected line segments as opposed to directed ones.\n\n<p>My toposurface point analysis shows how to implement and use a generic .NET dictionary key class\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/03/toposurface-interior-and-boundary-points.html\">\nJtEdge</a> for \n\nundirected line segments.\n\n<p><strong>Response:</strong> Hmm.\nInteresting.\n\n<p>I actually have more data to store.\n\n<p>I would like to support more varied beam types, such as arcs, and other family instances as well.\n\n<p><strong>Answer:</strong> No problem.\n\n<p>You can simply go on expanding your key class to include all the data you need.\nYou just need to implement it so that it really uniquely identifies each member you need to address in a normalised, comparable and sortable fashion.\nFor a point-based family instance, the data might include the instance type and the point.\nFor an arced beam, you might use three points, etc.\n\n<p>Lots of areas of mathemathics require \n\n<a href=\"http://en.wikipedia.org/wiki/Database_normalization\">\nnormalisation</a>.\n\nIn this case, I just mean that every element that you want to compare equal to another really generates the same key.\n</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p>"
  },
  {
    "original_filename": "0739_create_own_key",
    "header_text": "Create Your Own Key!",
    "local_header_href": "#create-your-own-key",
    "chunk_text": "<h4>Create Your Own Key!</h4><p>One of the many interesting topics that came up during the Australian DevLab was raised by Nick, on identifying a set of beams originating in Rhino with their Revit model equivalents.\nIt made me realise how thoughtless we all tend to be, relying on identifiers created by various software packages instead of creating our own.\n\n<p>The issue and train of thought that led me to ponder this is the following:\n\n<p><strong>Question:</strong> I am creating a large stadium model in Rhino with hundreds or even thousands of beams, which I then import into Revit.\nThat works fine.\nThe issue I have is the following: if I make modifications in Rhino, I wish to re-import the beams.\nI could of course just delete them all in Revit and do so.\nHowever, I might have edited them in Revit as well, in which case I would prefer to retain the edited elements and only update the ones which have been modified in Rhino.\nFor this, I need some way to correlate the Rhino beams with the corresponding Revit ones.\n\n<p><strong>Answer:</strong> This is an interesting, common and generic problem.\n\n<p>You have two sets of elements which are related with each other and wish you correlate the corresponding members.\n\n<p>The non-brainer approach that we are all much too used is accepting some kind of God-given identifier such as the Revit element id.\n\n<p>In this specific case, if the model would have originated in Revit, we would probably automatically have opted to use that id to correlate corresponding members.\n\n<p>Since they originate in Rhino instead, that is not possible.\nMaybe Rhino defines some kind of identifier as well, and that can be used?\n\n<p>Naturally, you can also define your own identifier, possibly simply based on a consecutive numbering system.\nPossibly you can attach that kind of information as a sort of label to each element and use that label to select elements in both systems.\n\n<p>However, there is a much more natural and foolproof way to go that we all too seldom realise!\n\n<p>We can define an identifier for each element which is completely independent of all software systems and all numbering schemes.\n\n<p>In the simplest case, for instance, we might just be dealing with a single type of element based on one single point. \n\n<p>In that case, we can just use the insertion point itself to identify each element, providing there are no overlays, i.e. multiple elements sharing the same insertion point.\n\n<p>I showed how to define a comparison algorithm for points when looking at \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/05/nested-instance-geometry.html\">\nnested instance geometry</a>  and \n\nrevisited it in depth during the \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2012/03/melbourne-day-two.html#2\">\nMelbourne Revit API training</a>.\n\n<p>I implemented a related sort order and sorting algorithm for points based on this for the \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/03/toposurface-interior-and-boundary-points.html\">\ntoposurface point classification</a>.\n\n<p>This allows me to use a standard generic .NET Dictionary class and the Revit API XYZ insertion point as a key into that dictionary.\n\n<p>I can easily generalise this for the slightly more complex case of straight beams.\nIn this case, I can consider each beam as a simple line segment.\nIf a line from A to B is considered identical to the one from B to A, which makes sense in many cases, we are looking at undirected line segments as opposed to directed ones.\n\n<p>My toposurface point analysis shows how to implement and use a generic .NET dictionary key class\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/03/toposurface-interior-and-boundary-points.html\">\nJtEdge</a> for \n\nundirected line segments.\n\n<p><strong>Response:</strong> Hmm.\nInteresting.\n\n<p>I actually have more data to store.\n\n<p>I would like to support more varied beam types, such as arcs, and other family instances as well.\n\n<p><strong>Answer:</strong> No problem.\n\n<p>You can simply go on expanding your key class to include all the data you need.\nYou just need to implement it so that it really uniquely identifies each member you need to address in a normalised, comparable and sortable fashion.\nFor a point-based family instance, the data might include the instance type and the point.\nFor an arced beam, you might use three points, etc.\n\n<p>Lots of areas of mathemathics require \n\n<a href=\"http://en.wikipedia.org/wiki/Database_normalization\">\nnormalisation</a>.\n\nIn this case, I just mean that every element that you want to compare equal to another really generates the same key.\n</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p>"
  }
]