[
  {
    "original_filename": "0984_obj_exp_2014_sdk_samp",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n</head>"
  },
  {
    "original_filename": "0984_obj_exp_2014_sdk_samp",
    "header_text": "Revit 2014 OBJ Exporter and New SDK Samples",
    "local_header_href": "#revit-2014-obj-exporter-and-new-sdk-samples",
    "chunk_text": "<h3>Revit 2014 OBJ Exporter and New SDK Samples</h3><p>Funnily enough, after dealing with the new Revit 2014\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html\">\ncustom exporter framework</a> last\n\nweek, and even suggesting rewriting my\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html#6\">\nRevit 2013 OBJ exporter</a> to make use of it, a request came in for a  version of the\n\n<a href=\"#2\">\nOBJ exporter for Revit 2014</a>, so I discuss that below.\n\nI also add some more background to the list of new\n\n<a href=\"#3\">\nRevit 2014 SDK samples</a>.\n\nFinally, to wrap up, we'll look at a surprisingly unbalanced distribution of Revit API\n\n<a href=\"#4\">\nblog page views per country</a>.\n\n\n<a name=\"2\"></a>\n<h4>OBJ Exporter for Revit 2014</h4>\n<p>As\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html#6\">\nmentioned</a>,\n\nit would be nice to rewrite my OBJ exporter for Revit 2013 using the new Revit 2014 custom exporter framework.</p>\n<p>However, a request already came in for a Revit 2014 version:</p>\n<p><strong>Question:</strong> Until now I have been using\n\n<a href=\"http://www.lumion3d.com\">Lumion</a> for\n\nvisualisation.\nIt is fast and the result is OK.\n\nHowever, I now discovered the\n\n<a href=\"http://render.otoy.com\">Octane renderer</a> and\n\nwould like to try that as a visualisation tool instead.\nApparently, the only way to export a Revit model to Octane is via the OBJ file format.</p>\n<p><strong>Answer:</strong> In order to provide something immediately, I simply flat ported the Revit 2013 OBJ exporter to Revit 2014.\nI also made use of the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/recursively-disable-architecture-mismatch-warning.html\">DisableMismatchWarning</a> utility\n\nto fix the processor architecture mismatch warning MSB3270.\n\n<p>The current implementation thus still traverses all the Revit model elements one by one, retrieves their solids, exports the graphics face by face, and determines some, but not all, graphical attributes as described last year:</p>\n<ul>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-export-considerations.html\">OBJ model export considerations</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-exporter-take-one.html\">Take one</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-colours.html\">Colours</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-multiple-solid-support.html\">Multiple solid support</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-transparency-support.html\">Transparency support</a></li>\n</ul>\n<p>Some of that complexity could be removed by rewriting this using the Revit 2014 custom exporter API.\nAbove all, the graphical properties could easily be better supported.</p>\n<p>Running the OBJ exporter on the RAC basic sample model generated these\n\n<a href=\"src/ObjExport/test/rac_basic_sample_project.obj\">OBJ</a> and\n\n<a href=\"src/ObjExport/test/rac_basic_sample_project.mtl\">MTL</a> output\n\nfiles and reported the following result:</p>\n<center>\n<img alt=\"OBJ exporter result in RAC basic sample model\" src=\"img/obj_export_2014_result_dlg.png\"/>\n</center>\n<p>Here is a sample visualisation in Octane of a Revit 2014 model exported to OBJ:</p>\n<center>\n<img alt=\"Octane rendering of Revit model exported to OBJ\" src=\"img/obj_export_2014_octane.jpeg\" width=\"400\"/>\n</center>\n<p>As you can see, the texture mapping is rather strange.\nMaybe the MTL file is not being properly processed.</p>\n<p>Probably some face normals are also wrong, or, equivalently, the polygon loop vertex ordering is inverted.</p>\n<p>Anyway, here is\n\n<a href=\"zip/ObjExport2014.zip\">ObjExport2014.zip</a> containing the complete flat ported source code, Visual Studio solution and add-in manifest for the Revit 2014 OBJ exporter.</p>\n<a href=\"3\"></a>\n<h4>Revit 2014 SDK Samples</h4>\n<p>I already presented the list of\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/wishlist-survey-reminder-and-new-sdk-sample-overview.html#3\">\nnew Revit SDK samples</a> without\n\ngoing into much detail.</p>\n<p>I fleshed it out a bit more for the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/key-concepts-of-the-family-editor.html\">\nRevit API DevCamp in Moscow</a>,\n\nas part of my presentation on the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\">\nRevit 2014 API</a> news.</p>\n<p>The shortest useful summary of the main new API features that I have been able to achieve is this:</p>\n<ul>\n<li>Copy and paste API – within or between documents, incl. view specific elements</li>\n<li>Project browser API – commands, macros, selected elements</li>\n<li>Schedule API – formatting, read-write data items</li>\n<li>Command API – launch macro, add-in and built-in</li>\n<li>Displaced elements API – exploded views</li>\n<li>Join geometry API – create, remove and control joins</li>\n<li>FreeForm element API – modification of imported solids</li>\n<li>Site API – editing of topography surface points and sub-regions</li>\n<li>Add-in API – loading and execution</li>\n<li>Macro API – list, create, delete and execute</li>\n<li>MEP calculations in external services</li>\n<li>Structural Analysis SDK</li>\n<li>Direct API access to rendering pipeline</li>\n</ul>\n<p>The three last items are the only ones not covered by any new SDK samples.</p>\n<p>For that reason, I recently went to some effort to explore the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/structural-analytical-code-checking-and-results-builder.html\">\nStructural Analysis SDK</a> and the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html\">\ncustom exporter framework</a>.</p>\n<p>The third item not covered yet concerns the MEP calculations in external services.\nWe are working on a good sample for that, hopefully coming soon.</p>\n<p>All other important new features are covered by the following SDK samples:</p>\n<ul>\n<li>DisplacementElementAnimation</li>\n<li>DockableDialogs</li>\n<li>DuplicateViews</li>\n<li>ExtensibleStorageUtility</li>\n<li>FreeFormElement</li>\n<li>PostCommandWorkflow</li>\n<li>ScheduleAutomaticFormatter</li>\n<li>ScheduleToHTML</li>\n<li>SinePlotter</li>\n<li>Site</li>\n<li>Units</li>\n<li>WinderStairs</li>\n</ul>\n<p>Several of these have already been discussed in the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\n\">\nDevDays online presentation, recording and sample code</a> and other separate posts.</p>\n<p>Here is my Moscow DevCamp\n\n<a href=\"file:////a/j/adn/devcamp/2013/doc/2-1_revit_2014_api.pdf\">\nRevit 2014 API slide deck</a> that\n\nincludes one slide for each sample to provide a quick first impression of each.</p>\n<p>Let's close for today with something not directly API related:</p>\n<a href=\"4\"></a>\n<h4>BIM Boosting Booms Much More in Four Specific Countries</h4>\n<p>Cheers to Australia, Denmark, Netherlands and Sweden!</p>\n<p>When I visited Harry Mattison in Boston in connection with the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/correct-detail-component-rotation-in-elevation-view.html#6\">\nAutodesk Tech Summit</a>, he mentioned that his\n\n<a href=\"http://boostyourbim.wordpress.com\">Boost your BIM</a> page\n\nviews had an extremely unbalanced distribution for different countries, and very kindly provided some numbers correlated with the total country population:\n<center>\n<img alt=\"Boost my BIM page views per capita\" src=\"img/boost_bim_page_views_jt.png\" width=\"400\"/>\n</center>\n<p>As you can see, the top four countries have 4, 5 and even up to almost 7 page views per 100000 population, whereas Canada has 2.5, the USA and UK well under 2, and the rest of the world well under 1.</p>\n<p>Rather strange, isn't it?</p>\n<p>Thank you, Harry, for this perplexing little item.</p>\n</p></p></p>"
  },
  {
    "original_filename": "0984_obj_exp_2014_sdk_samp",
    "header_text": "OBJ Exporter for Revit 2014",
    "local_header_href": "#obj-exporter-for-revit-2014",
    "chunk_text": "<h4>OBJ Exporter for Revit 2014</h4><p>As\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html#6\">\nmentioned</a>,\n\nit would be nice to rewrite my OBJ exporter for Revit 2013 using the new Revit 2014 custom exporter framework.</p><p>However, a request already came in for a Revit 2014 version:</p><p><strong>Question:</strong> Until now I have been using\n\n<a href=\"http://www.lumion3d.com\">Lumion</a> for\n\nvisualisation.\nIt is fast and the result is OK.\n\nHowever, I now discovered the\n\n<a href=\"http://render.otoy.com\">Octane renderer</a> and\n\nwould like to try that as a visualisation tool instead.\nApparently, the only way to export a Revit model to Octane is via the OBJ file format.</p><p><strong>Answer:</strong> In order to provide something immediately, I simply flat ported the Revit 2013 OBJ exporter to Revit 2014.\nI also made use of the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/recursively-disable-architecture-mismatch-warning.html\">DisableMismatchWarning</a> utility\n\nto fix the processor architecture mismatch warning MSB3270.\n\n<p>The current implementation thus still traverses all the Revit model elements one by one, retrieves their solids, exports the graphics face by face, and determines some, but not all, graphical attributes as described last year:</p>\n<ul>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-export-considerations.html\">OBJ model export considerations</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/06/obj-model-exporter-take-one.html\">Take one</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-colours.html\">Colours</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-multiple-solid-support.html\">Multiple solid support</a></li>\n<li><a href=\"http://thebuildingcoder.typepad.com/blog/2012/07/obj-model-exporter-with-transparency-support.html\">Transparency support</a></li>\n</ul>\n<p>Some of that complexity could be removed by rewriting this using the Revit 2014 custom exporter API.\nAbove all, the graphical properties could easily be better supported.</p>\n<p>Running the OBJ exporter on the RAC basic sample model generated these\n\n<a href=\"src/ObjExport/test/rac_basic_sample_project.obj\">OBJ</a> and\n\n<a href=\"src/ObjExport/test/rac_basic_sample_project.mtl\">MTL</a> output\n\nfiles and reported the following result:</p>\n<center>\n<img alt=\"OBJ exporter result in RAC basic sample model\" src=\"img/obj_export_2014_result_dlg.png\"/>\n</center>\n<p>Here is a sample visualisation in Octane of a Revit 2014 model exported to OBJ:</p>\n<center>\n<img alt=\"Octane rendering of Revit model exported to OBJ\" src=\"img/obj_export_2014_octane.jpeg\" width=\"400\"/>\n</center>\n<p>As you can see, the texture mapping is rather strange.\nMaybe the MTL file is not being properly processed.</p>\n<p>Probably some face normals are also wrong, or, equivalently, the polygon loop vertex ordering is inverted.</p>\n<p>Anyway, here is\n\n<a href=\"zip/ObjExport2014.zip\">ObjExport2014.zip</a> containing the complete flat ported source code, Visual Studio solution and add-in manifest for the Revit 2014 OBJ exporter.</p>\n<a href=\"3\"></a>\n<h4>Revit 2014 SDK Samples</h4>\n<p>I already presented the list of\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/wishlist-survey-reminder-and-new-sdk-sample-overview.html#3\">\nnew Revit SDK samples</a> without\n\ngoing into much detail.</p>\n<p>I fleshed it out a bit more for the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/key-concepts-of-the-family-editor.html\">\nRevit API DevCamp in Moscow</a>,\n\nas part of my presentation on the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\">\nRevit 2014 API</a> news.</p>\n<p>The shortest useful summary of the main new API features that I have been able to achieve is this:</p>\n<ul>\n<li>Copy and paste API – within or between documents, incl. view specific elements</li>\n<li>Project browser API – commands, macros, selected elements</li>\n<li>Schedule API – formatting, read-write data items</li>\n<li>Command API – launch macro, add-in and built-in</li>\n<li>Displaced elements API – exploded views</li>\n<li>Join geometry API – create, remove and control joins</li>\n<li>FreeForm element API – modification of imported solids</li>\n<li>Site API – editing of topography surface points and sub-regions</li>\n<li>Add-in API – loading and execution</li>\n<li>Macro API – list, create, delete and execute</li>\n<li>MEP calculations in external services</li>\n<li>Structural Analysis SDK</li>\n<li>Direct API access to rendering pipeline</li>\n</ul>\n<p>The three last items are the only ones not covered by any new SDK samples.</p>\n<p>For that reason, I recently went to some effort to explore the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/structural-analytical-code-checking-and-results-builder.html\">\nStructural Analysis SDK</a> and the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html\">\ncustom exporter framework</a>.</p>\n<p>The third item not covered yet concerns the MEP calculations in external services.\nWe are working on a good sample for that, hopefully coming soon.</p>\n<p>All other important new features are covered by the following SDK samples:</p>\n<ul>\n<li>DisplacementElementAnimation</li>\n<li>DockableDialogs</li>\n<li>DuplicateViews</li>\n<li>ExtensibleStorageUtility</li>\n<li>FreeFormElement</li>\n<li>PostCommandWorkflow</li>\n<li>ScheduleAutomaticFormatter</li>\n<li>ScheduleToHTML</li>\n<li>SinePlotter</li>\n<li>Site</li>\n<li>Units</li>\n<li>WinderStairs</li>\n</ul>\n<p>Several of these have already been discussed in the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\n\">\nDevDays online presentation, recording and sample code</a> and other separate posts.</p>\n<p>Here is my Moscow DevCamp\n\n<a href=\"file:////a/j/adn/devcamp/2013/doc/2-1_revit_2014_api.pdf\">\nRevit 2014 API slide deck</a> that\n\nincludes one slide for each sample to provide a quick first impression of each.</p>\n<p>Let's close for today with something not directly API related:</p>\n<a href=\"4\"></a>\n<h4>BIM Boosting Booms Much More in Four Specific Countries</h4>\n<p>Cheers to Australia, Denmark, Netherlands and Sweden!</p>\n<p>When I visited Harry Mattison in Boston in connection with the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/correct-detail-component-rotation-in-elevation-view.html#6\">\nAutodesk Tech Summit</a>, he mentioned that his\n\n<a href=\"http://boostyourbim.wordpress.com\">Boost your BIM</a> page\n\nviews had an extremely unbalanced distribution for different countries, and very kindly provided some numbers correlated with the total country population:\n<center>\n<img alt=\"Boost my BIM page views per capita\" src=\"img/boost_bim_page_views_jt.png\" width=\"400\"/>\n</center>\n<p>As you can see, the top four countries have 4, 5 and even up to almost 7 page views per 100000 population, whereas Canada has 2.5, the USA and UK well under 2, and the rest of the world well under 1.</p>\n<p>Rather strange, isn't it?</p>\n<p>Thank you, Harry, for this perplexing little item.</p>\n</p></p>"
  },
  {
    "original_filename": "0984_obj_exp_2014_sdk_samp",
    "header_text": "Revit 2014 SDK Samples",
    "local_header_href": "#revit-2014-sdk-samples",
    "chunk_text": "<h4>Revit 2014 SDK Samples</h4><p>I already presented the list of\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/wishlist-survey-reminder-and-new-sdk-sample-overview.html#3\">\nnew Revit SDK samples</a> without\n\ngoing into much detail.</p><p>I fleshed it out a bit more for the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/key-concepts-of-the-family-editor.html\">\nRevit API DevCamp in Moscow</a>,\n\nas part of my presentation on the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\">\nRevit 2014 API</a> news.</p><p>The shortest useful summary of the main new API features that I have been able to achieve is this:</p><ul>\n<li>Copy and paste API – within or between documents, incl. view specific elements</li>\n<li>Project browser API – commands, macros, selected elements</li>\n<li>Schedule API – formatting, read-write data items</li>\n<li>Command API – launch macro, add-in and built-in</li>\n<li>Displaced elements API – exploded views</li>\n<li>Join geometry API – create, remove and control joins</li>\n<li>FreeForm element API – modification of imported solids</li>\n<li>Site API – editing of topography surface points and sub-regions</li>\n<li>Add-in API – loading and execution</li>\n<li>Macro API – list, create, delete and execute</li>\n<li>MEP calculations in external services</li>\n<li>Structural Analysis SDK</li>\n<li>Direct API access to rendering pipeline</li>\n</ul><p>The three last items are the only ones not covered by any new SDK samples.</p><p>For that reason, I recently went to some effort to explore the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/structural-analytical-code-checking-and-results-builder.html\">\nStructural Analysis SDK</a> and the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/07/graphics-pipeline-custom-exporter.html\">\ncustom exporter framework</a>.</p><p>The third item not covered yet concerns the MEP calculations in external services.\nWe are working on a good sample for that, hopefully coming soon.</p><p>All other important new features are covered by the following SDK samples:</p><ul>\n<li>DisplacementElementAnimation</li>\n<li>DockableDialogs</li>\n<li>DuplicateViews</li>\n<li>ExtensibleStorageUtility</li>\n<li>FreeFormElement</li>\n<li>PostCommandWorkflow</li>\n<li>ScheduleAutomaticFormatter</li>\n<li>ScheduleToHTML</li>\n<li>SinePlotter</li>\n<li>Site</li>\n<li>Units</li>\n<li>WinderStairs</li>\n</ul><p>Several of these have already been discussed in the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/03/revit-2014-api-and-room-plan-view-boundary-polygon-loops.html#2\n\">\nDevDays online presentation, recording and sample code</a> and other separate posts.</p><p>Here is my Moscow DevCamp\n\n<a href=\"file:////a/j/adn/devcamp/2013/doc/2-1_revit_2014_api.pdf\">\nRevit 2014 API slide deck</a> that\n\nincludes one slide for each sample to provide a quick first impression of each.</p><p>Let's close for today with something not directly API related:</p><a href=\"4\"></a>"
  },
  {
    "original_filename": "0984_obj_exp_2014_sdk_samp",
    "header_text": "BIM Boosting Booms Much More in Four Specific Countries",
    "local_header_href": "#bim-boosting-booms-much-more-in-four-specific-countries",
    "chunk_text": "<h4>BIM Boosting Booms Much More in Four Specific Countries</h4><p>Cheers to Australia, Denmark, Netherlands and Sweden!</p><p>When I visited Harry Mattison in Boston in connection with the\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2013/06/correct-detail-component-rotation-in-elevation-view.html#6\">\nAutodesk Tech Summit</a>, he mentioned that his\n\n<a href=\"http://boostyourbim.wordpress.com\">Boost your BIM</a> page\n\nviews had an extremely unbalanced distribution for different countries, and very kindly provided some numbers correlated with the total country population:\n<center>\n<img alt=\"Boost my BIM page views per capita\" src=\"img/boost_bim_page_views_jt.png\" width=\"400\"/>\n</center>\n<p>As you can see, the top four countries have 4, 5 and even up to almost 7 page views per 100000 population, whereas Canada has 2.5, the USA and UK well under 2, and the rest of the world well under 1.</p>\n<p>Rather strange, isn't it?</p>\n<p>Thank you, Harry, for this perplexing little item.</p>\n</p>"
  }
]