[
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- Analytical Model API - Message for Public Roadmap\n  New API Analytical Model\n  New API to enable direct control of the structural analytical model that allows developers to operate independently the creation and modification of analytical elements, offering simplified implementations that work in abstraction from physical elements.\n  new_analytical_model_api.jpg\n\n- Tweets of Praise for Modeless RevitLookup:\n  Joshua Lumley @joshnewzealand: This is a breakthough.\n  Timon Hazell @TmnHzll: These are some nice adds.  Thanks @jeremytammik\n  Manjaka Rakotoarisoa @RaManjaka: A dream come true\n  Jean-Marc Couffin @JeanMarcCouffin: A huge thank you to @NeVeSpl who took on my improvement request right away and made it real!\n  Carl S @CarlSirid: Thanks Jeremy, RevitLookup is my favorite addin. It is the must have addin for me.\n  LinkedIn\n  David Wilson: Installed it yesterday. Thanks very much.\n  Roy Qian: Great! üëçüëçüëç\n  Daniel Swearson: Nice! Thanks Jeremy.\n  Micheal Ibrahim: You are my hero ‚ù§Ô∏è\n\n- https://github.com/jeremytammik/RevitLookup/issues/113\n  It would be nice to remove this filter and replace ids.Any() with ids.Count > 0. This will improve performance as Any creates a new Enumerator\n  Regarding performance, code readability and semantic meaning are more important than performance in places where performance does not matter.\n  I agree that sometimes code readability is more important, but in this case additional lines or conditions are not added. And here is the difference in speed 1200 times with memory allocation = (\n  benchmark_any_vs_count.png\n  wow, impressive! thank you for the conclusive benchmark. i'll add a note of that result to the blog, i think.\n\n- https://github.com/jeremytammik/RevitLookup/pull/115\n  Add Keyboard Escape to Close Form #115\n\n- use extensible storage carefully\n  https://forums.autodesk.com/t5/revit-api-forum/bug-unable-to-open-revit-2019-model-after-saving-custom-schema/m-p/10736885\n  \n- jQuery Outdated\n  https://thenewstack.io/why-outdated-jquery-is-still-the-dominant-javascript-library/\n\ntwitter:\n\nImportant news on the Analytical Model API coming for structural developers, further development in RevitLookup and detailed notes on how to use extensible storage in the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://autode.sk/newanalyticalmodel\n\nImportant news coming for structural developers, further development in RevitLookup, notes on extensible storage and JavaScript\n&ndash; New Analytical Model API\n&ndash; Praise for modeless RevitLookup\n&ndash; Benchmarking generic <code>Any</code> versus <code>Count</code>\n&ndash; Escape RevitLookup\n&ndash; Use extensible storage carefully\n&ndash; jQuery is widespread but outdated...\n\nlinkedin:\n\nImportant news on the Analytical Model API coming for structural developers, further development in RevitLookup, JavaScript and detailed notes on how to use extensible storage in the #RevitAPI \n\nhttps://autode.sk/newanalyticalmodel\n\n- New Analytical Model API\n- Praise for modeless RevitLookup\n- Benchmarking generic <code>Any</code> versus <code>Count</code>\n- Escape RevitLookup\n- Use extensible storage carefully\n- jQuery is widespread but outdated...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "New Analytical Model API",
    "local_header_href": "#new-analytical-model-api",
    "chunk_text": "### New Analytical Model API\n\nImportant news coming for structural developers, further development in RevitLookup, notes on extensible storage and JavaScript:\n\n- [New Analytical Model API](#2)\n- [Praise for modeless RevitLookup](#3)\n- [Benchmarking generic `Any` versus `Count`](#4)\n- [Escape RevitLookup](#5)\n- [Use extensible storage carefully](#6)\n- [jQuery is widespread but outdated](#7)"
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "New Analytical Model API",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> New Analytical Model API\n\nWe have just added a new item to\nthe [Revit Public Roadmap](https://trello.com/b/ldRXK9Gw/revit-public-roadmap) announcing\na new API for analytical modelling in Revit.\nThis is quite an evolution (if not revolution, as the old one will be deprecated).\nPlease take a close look at it if you are interested in this area.\n\n> **New API Analytical Model**\n\n> New API to enable direct control of the structural analytical model that allows developers to operate independently the creation and modification of analytical elements, offering simplified implementations that work in abstraction from physical elements.\n\n<center>\n<img src=\"img/new_analytical_model_api.jpg\" alt=\"New Analytical Model API\" title=\"New Analytical Model API\" width=\"600\"/> <!-- 834 -->\n</center>\n\nTo further track progress and news on analytical modelling, you are also invited to apply to join\nthe [Revit preview project](https://feedback.autodesk.com/key/LHMJFVHGJK085G2M).\n\nJust like the [Revit Idea Station](https://forums.autodesk.com/t5/revit-ideas/idb-p/302),\nthe roadmap enables you to vote for the roadmap items that have the greatest importance for your specific projects."
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "Praise for Modeless RevitLookup",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Praise for Modeless RevitLookup\n\nWe received praise on Twitter and LinkedIn for\nthe new [modeless RevitLookup](https://thebuildingcoder.typepad.com/blog/2021/10/bridges-regeneration-and-modeless-revitlookup.html):\n\n- This is a breakthrough. &ndash; <i>Joshua Lumley @joshnewzealand</i>\n- These are some nice adds. Thanks @jeremytammik. &ndash; <i>Timon Hazell @TmnHzll</i>\n- A dream come true. &ndash; <i>Manjaka Rakotoarisoa @RaManjaka</i>\n- A huge thank you to [@NeVeSpl](https://github.com/NeVeSpl) who took on my improvement request right away and made it real!\n  &ndash; <i>Jean-Marc Couffin @JeanMarcCouffin</i>\n- Thanks Jeremy, RevitLookup is my favourite addin. It is the must-have add-in for me. &ndash; <i>Carl S @CarlSirid</i>\n- Installed it yesterday. Thanks very much. &ndash; <i>David Wilson</i>\n- Great! üëçüëçüëç &ndash; <i>Roy Qian</i>\n- Nice! Thanks Jeremy. &ndash; <i>Daniel Swearson</i>\n- You are my hero ‚ù§Ô∏è &ndash; <i>Micheal Ibrahim</i>\n- Just tried. Thanks! &ndash; <i>Chenzhang Wang</i>\n\nThank you for your appreciation, everybody, and yet again a huge thanks to [@NeVeSpl](https://github.com/NeVeSpl) from me too."
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "Benchmarking Generic Any versus Count",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Benchmarking Generic Any versus Count\n\nOne interesting little item that came up after\nthe subsequent [RevitLookup cleanup](https://thebuildingcoder.typepad.com/blog/2021/11/revit-20221-sdk-revitlookup-build-and-install.html#4) questions the use of the [generic `Any` method]() to check for an empty collection\nin [issue #113 &ndash; error snooping family type from project browser](https://github.com/jeremytammik/RevitLookup/issues/113),\nwhere [Roman @Nice3point](https://github.com/Nice3point) points out:\n\n> It would be nice to remove this filter and replace `ids.Any()` with `ids.Count > 0`.\nThis will improve performance, as `Any` creates a new `Enumerator`.\nProof:\n\n<center>\n<img src=\"img/any_versus_count_gt_zero.png\" alt=\"Any versus Count\" title=\"Any versus Count\" width=\"464\"/> <!-- 927 -->\n</center>\n\n> I agree that sometimes code readability is more important, but in this case additional lines or conditions are not added.\nThe difference in speed is 1200 times with memory allocation =(\n\n> It takes 27 NANO seconds, and 40 Bytes in instruction that is invoked only once per use case ü§£.\n\nMany thanks to Roman for this little suggestion and benchmark, and much more so for all his other outstanding work recently improving and maintaining RevitLookup!"
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "Escape RevitLookup",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> Escape RevitLookup\n\nBefore we escape this topic, yet another little RevitLookup update bears mentioning:\n\nLuiz Henrique [@ricaun](https://github.com/ricaun) Cassettari submitted\n[pull request #115 to add keyboard escape to close form](https://github.com/jeremytammik/RevitLookup/pull/115):\n\n> After the Modeless update, the Escape button stop working.\nThis PR reenables the Escape keyboard feature; now the focused form closes if the Escape button is pressed, and the Owner regains focus.\n\nPublished in [RevitLookup release 2022.0.2.4](https://github.com/jeremytammik/RevitLookup/releases/tag/2022.0.2.4).\n\nMany thanks to Luiz Henrique for catching this!"
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "Use Extensible Storage Carefully",
    "local_header_href": "#6",
    "chunk_text": "####<a name=\"6\"></a> Use Extensible Storage Carefully\n\nMoving away from RevitLookup to more general Revit API topics, \n@aalondoqor ran into a problem similar to the one reported two years ago in \nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\non a [Bug: Unable to open Revit 2019 model after saving custom schema in Project Info](https://forums.autodesk.com/t5/revit-api-forum/bug-unable-to-open-revit-2019-model-after-saving-custom-schema/m-p/10736885).\n\nWith the help of the invaluable advice provided once again by\nRichard [RPThomas108](https://forums.autodesk.com/t5/user/viewprofilepage/user-id/1035859) Thomas,\nit turns out not to be a bug after all...\n\nThe original problem description includes\nan [an archive with a project CS.Revit.TestLib.zip](zip/extensible_storage_test_1.zip) to\nrun in Revit 2019 with a README.md specifying the problem reproduction steps.\n\nIn the new iteration, @aalondoqor asks:\n\n**Question:** Hi, can you solve this bug?\n\n**Answer:** Does the sample material provided previously exactly cover your problem as well?\n\n**Response:** Yes, is the same case exactly.\n\n**Answer:** You have to be careful with Extensible Storage; it can cause these issues.\n\nI experienced the same issue with that sample in Revit 2022 when upgraded;\nI made the enclosed changes to `Application.cs` and no longer experienced the problem.\n\nEssentially, the changes consist of:\n\n- Constructing the schema when it is needed, not at start-up\n- Not passing entities `ByRef`\n- Looking for an existing schema \n- Creating it if not found via `Schema.Lookup(SchemaGuid)`, rather than just supplying GUID\n- Using `new Entity(Schema)` instead of `new Entity(GUID)`\n- Making use of `ExtensibleStorageFilter`.\n\nI guess the 'archive error' failure to open should be investigated regardless, but comparison between enclosed and original may indicate the cause.\n\nThe sample includes producing a library in netcore3.0 and dotnet47.\nI upgraded to dotnet48 and dropped the netcore3.0 version.\nDue to referencing the Revit 2022 API, I had to change aspects related to `DisplayUnitType`.\nUpdated solution enclosed, not original:\n\n- [ApplicationREVISED.cs](zip/ApplicationREVISED.cs.txt)\n- [CS.Revit.TestLib updated](zip/extensible_storage_test_2.zip)\n\nWhen Extensible storage was introduced, we all went through a small period of time when we were using it wrong and we didn't see the implications until later (often the next year when we updated the add-ins but had the old schemas).\nSo, will always be an important subject to developers with limited experience of it.\n\nI have to thank The Building Coder, because the majority of my knowledge of this subject is due to the AU handouts by Jeremy Tammik that are available on the web.\nThey may not incorporate the latest ways of obtaining Schema's etc., but the process is still outlined correctly.\nFrom what I've seen, people often get into difficulties when they go too far away from these ways of doing it.\nI think the general rule is, don't hold onto objects and keep interactions as finite as possible.\nThe Revit SDK also provides a good basic example under `SchemaBuilder`.\n\nIf you conclude my fixes solved the issue or even if you demonstrate a better way (I did rewrite in a bit of a hurry), I would be happy to read that on the blog.\n\nWe could ask Autodesk to find a more graceful way for Revit to handle the issue, but I think that is perhaps easier said than done (is a memory issue, is not new, we all have our part to play in terms of program stability).\nOften if you can't open a file, it may be possible to open it on a Revit version without the add-ins.\nThe add-in in question was creating the schema `OnStartUp`, so would have already put something in memory before the document with the conflict was opened (could open it without the add-in when I checked later).\n\n**Response:** Thank you all very much, I fixed my problem with the example file supplied by RPTHOMAS108; thanks for sharing your knowledge."
  },
  {
    "original_filename": "1928_new_analytical_model",
    "header_text": "jQuery is Widespread but Outdated",
    "local_header_href": "#7",
    "chunk_text": "####<a name=\"7\"></a> jQuery is Widespread but Outdated\n\nMoving away from the Revit .NET API to the web, I have used [jQuery](https://jquery.com) in\nthe past and would maybe continue doing so if I had not just noticed this article\nexplaining [why outdated jQuery is still the dominant JavaScript library](https://thenewstack.io/why-outdated-jquery-is-still-the-dominant-javascript-library)."
  }
]