[
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"run_prettify.js\" type=\"text/javascript\"></script>\n<!---\n<script src=\"https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js\" type=\"text/javascript\"></script>\n-->\n</head>\n\n<!---\n\n- 11545598 [Help me Jeremy Tammik! or anyone else familiar with REST API calls to Revit Svr]\n  http://forums.autodesk.com/t5/revit-api/help-me-jeremy-tammik-or-anyone-else-familiar-with-rest-api/m-p/6053451\n  bar separator in Revit Server model path\n  http://thebuildingcoder.typepad.com/blog/2011/11/access-transmissiondata-of-central-file-on-revit-server.html\n  The discussion of a [REST POST request to Revit Server 2014](http://thebuildingcoder.typepad.com/blog/2014/01/rest-post-request-to-revit-server-2014.html) clearly documents the vertical bar separator between the folder and document filename.\n  My job is to document, not to search.\n  I document things because my memory is short.\n  I practice my saerch skills on ehalf of others all day long, but I do have other duties as well.\n  [Revit Server](https://knowledge.autodesk.com/support/revit-products/learn-explore/caas/CloudHelp/cloudhelp/2016/ENU/Revit-Server/files/GUID-3FAF98F5-AD5B-4146-B503-FF9373571ABB-htm.html)\n  C:/a/lib/revit/2016/SDK/Revit Server SDK/Revit Server REST API Reference.pdf\n  Another exploration of using the Revit Server REST API is provided by Eric Stimmel's exploration of\n  [Revit Server model list using the REST API](http://blog.ericstimmel.com/2012/05/08/revit-server-model-list).\n\nPi Day, Meeting, Ski Tour, Revit Server Bar Separator #revitAPI #3dwebcoder @AutodeskRevit #adsk #dynamobim\n\nYou may be surprised to hear that today is Pi Day :-) – as well as the birthday of my S.O.S. or significant other's son.\nI had an exciting week with the ADN team meeting in London followed by a ski tour during the weekend.\nTo round this off, I'll also tuck in one little Revit API item here for you\n&ndash; Happy Pi Day and Dan's birthday\n&ndash; EMEA ADN team meeting in London\n&ndash; Ski tours in the Alvier group\n&ndash; Revit Server model path requires bar separator...\n\n-->"
  },
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "Pi Day, Meeting, Ski Tour, Revit Server Bar Separator",
    "local_header_href": "#pi-day-meeting-ski-tour-revit-server-bar-separator",
    "chunk_text": "### Pi Day, Meeting, Ski Tour, Revit Server Bar Separator\n\nYou may be surprised to hear that today is Pi Day &nbsp; :-) &ndash; as well as the birthday of my S.O.S. or significant other's son.\n\nI had an exciting week with the ADN team meeting in London followed by a ski tour during the weekend.\n\nTo round this off, I'll also tuck in one little Revit API item here for you:\n\n- [Happy Pi Day and Dan's birthday](#2)\n- [EMEA ADN team meeting in London](#3)\n- [Ski tours in the Alvier group](#4)\n- [Revit Server model path requires bar separator](#5)"
  },
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "<a name=\"2\"></a>Happy Pi Day and Dan's Birthday",
    "local_header_href": "#a-name2ahappy-pi-day-and-dans-birthday",
    "chunk_text": "#### <a name=\"2\"></a>Happy Pi Day and Dan's Birthday\n\nToday is a very special day, at least according to the weird anti-standard American way of writing dates &ndash;\ncf. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) for the sensible alternative  :-)\n\nMarch 14, 2016 is written as 3/14/16, with a notable similarity to the four-digit approximation to &pi;, 3.1416 &cong; 3.14159265358979...\n\nThis is pointed out by the [Dynamo](http://dynamobim.org) article on using\nthe [Buffon’s needle algorithm](https://en.wikipedia.org/wiki/Buffon%27s_needle)\nto [approximate &pi; in Revit](http://dynamobim.org/happy-%CF%80-day/?linkId=22264657).\n\n<center>\n<img src=\"img/dynamo_buffon_needle.png\" alt=\"Dynamo using Buffon's needle to approximate &pi;\" width=\"600\">\n</center>\n\nIt also happens to be Dan's sixteenth birthday:\n\n<center>\n<img src=\"img/dan_qr.png\" alt=\"Happy birthday, Dan!\" width=\"200\">\n</center>"
  },
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "<a name=\"3\"></a>EMEA ADN Team Meeting in London",
    "local_header_href": "#a-name3aemea-adn-team-meeting-in-london",
    "chunk_text": "#### <a name=\"3\"></a>EMEA ADN Team Meeting in London\n\nBack to work, we held our European ADN Team Meeting in London last week,\nwith [many exciting topics to discuss](http://thebuildingcoder.typepad.com/blog/2016/03/trial-period-floating-license-entitlement-api-and-sketchup-grevit.html#4).\n\nLacking a free meeting room in the new Autodesk offices in Soho, and there being just four of us to find space for, we rented an apartment near Bow Street and Covent Garden for a couple of days:\n\nHere in a [photo album](https://www.flickr.com/photos/jeremytammik/albums/72157663346443223) of the pictures I took:\n\n<center>\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/jeremytammik/albums/72157663346443223\" title=\"European ADN Team Meeting\"><img src=\"https://farm2.staticflickr.com/1544/25349932560_c97148600b_n.jpg\" width=\"320\" height=\"240\" alt=\"European ADN Team Meeting\"></a><script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script>\n</center>\n\nI already mentioned two little side-effect details that came up,\na [deploy to Heroku button](http://the3dwebcoder.typepad.com/blog/2016/03/team-meeting-and-deploy-to-heroku-button.html) for\nany GitHub-hosted web app, and some ideas on\nan [optimal API documentation workflow](http://the3dwebcoder.typepad.com/blog/2016/03/researching-an-optimal-api-documentation-workflow.html) for\nthe future publication of\nthe [Forge](http://forge.autodesk.com) API references and samples.\n\nExpect more to come in both those areas."
  },
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "<a name=\"4\"></a>Ski Tours in the Alvier Group",
    "local_header_href": "#a-name4aski-tours-in-the-alvier-group",
    "chunk_text": "#### <a name=\"4\"></a>Ski Tours in the Alvier Group\n\nI returned from London to embark on the next in a whole series of ski tours, these ones in\nthe [Alvier](https://en.wikipedia.org/wiki/Alvier_(mountain)) range\nof mountains in the far east of Switzerland.\n\nWe were always in or at the upper limit of the fog and clouds, struggling to arrive above them and occasionally succeeding, e.g., on the summits:\n\n<center>\n<a data-flickr-embed=\"true\"  href=\"https://www.flickr.com/photos/jeremytammik/albums/72157665838861025\" title=\"Ski Tours in the Alvier Group\"><img src=\"https://farm2.staticflickr.com/1533/25701816196_271738b3ab_n.jpg\" width=\"320\" height=\"240\" alt=\"Ski Tours in the Alvier Group\"></a><script async src=\"//embedr.flickr.com/assets/client-code.js\" charset=\"utf-8\"></script></center>"
  },
  {
    "original_filename": "1413_pi_adn_revit_server",
    "header_text": "<a name=\"5\"></a>Revit Server Model Path Requires Bar Separator",
    "local_header_href": "#a-name5arevit-server-model-path-requires-bar-separator",
    "chunk_text": "#### <a name=\"5\"></a>Revit Server Model Path Requires Bar Separator\n\nFinally, to return to the Revit API, here is the summary of a lengthy discussion of a question that was raised and solved by Ted Kovacs last week in\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api/bd-p/160) thread\non [Revit Server model path](http://forums.autodesk.com/t5/revit-api/help-me-jeremy-tammik-or-anyone-else-familiar-with-rest-api/m-p/6053451):\n\n**Question:** Using bits and pieces I found on the web along with some original coding, I put together a script that enumerates all of the projects on Revit Server using a REST API call to a Revit host server, and then automates running Autodesk's command line RevitServerTools utility to update an accelerator's cache.  I have been using it on Revit Server 2015 with great success.  However, the same script refuses to work on Revit Server 2016, and I can't figure out why.\n\nI narrowed it down to the function below that handles the REST request, and found that it is not returning anything, just zero length string.\n\nDoes the 2016 URL need to be formatted differently?\n\nSome other problem?\n\nThe [complete script](zip/RSN_Cache_Update_and_Model_Export_Script.txt) is attached if it helps or if anyone is interested.\n\n**Answer:** Have you looked at these examples on The Building Coder demonstrating various aspects of programmatically accessing Revit Server?\n\n- [VBScript Access to the Revit Server REST API](http://thebuildingcoder.typepad.com/blog/2013/08/revit-server-api-access-and-vbscript.html#3)\n- [Saving a New Central File to Revit Server](http://thebuildingcoder.typepad.com/blog/2013/12/saving-a-new-central-file-to-revit-server.html)\n- [REST POST Request to Revit Server 2014](http://thebuildingcoder.typepad.com/blog/2014/01/rest-post-request-to-revit-server-2014.html)\n- [Accessing a Revit Server Central Model Path](http://thebuildingcoder.typepad.com/blog/2014/08/accessing-a-revit-server-central-model-path.html)\n\nThe last one may very well have to do directly with your problem.\n\nAnother exploration of this is provided by Eric Stimmel's sample\nof [Revit Server model list using the REST API](http://blog.ericstimmel.com/2012/05/08/revit-server-model-list).\n\n\n**Answer from the development team:** I took a quick look at this.\nI couldn’t get it to work even on 2015, so I think there must be some small syntactical difference between the URL listed in the email and the actual URL he uses (e.g. why the apparent space preceding `/Content`?).\nCould you have him just send the actual URL string he’s using that’s successful in 2015 and not successful in 2016?\n\n\n**Response:** For 2015, the working URL is:\n\n<pre>\nhttp://RevitHost/RevitServerAdminRESTService2015/A​dminRESTService.svc/ /Contents\n</pre>\n\nThis intentionally includes a space.\n\nFor 2016, the (not working) URL is the same, only the \"2015\" part is changed to \"2016\".\n\nThe URL above is used for getting the contents of the root of the Revit server.  Your developer asked \"why the apparent space preceding `/Content`\".  The space is what you use when you need the contents of the root rather than the contents of a folder, or so I understand.  Here is the foundation for that belief.\n\n1.   A space is used in the example that you point to above.\n2.   I found other references on the web suggesting a space was needed in order to get the contents from the root.\n3.   When I used a space in my code to get the root contents on a 2015 server, it works, and I cannot get it to work without the space.\n\nThis is not the only URL I use.  After I get the contents of the root, I recursively get the contents of each and every folder and subfolder in order to enumerate all the models contained in every folder on the Revit server.  That second URL *does* in fact still work on 2016. It is the same URL as above, only the single space before \"/Contents\" is replaced with the name of a specific folder.  For a 2016 server, the URL would be something like\n\n<pre>\nhttp://RevitHost/RevitServerAdminRESTService2016/A​dminRESTService.svc/MyFolder/Contents\n</pre>\n\nWith this in mind, I would restate my question as \"What URL are you supposed to use to get the contents of the root of a 2016 Revit Server?\".\nI need the contents of the root in order to know what folder names to use the second URL on, as these folders are added, removed, and renamed over time so I cannot hard code them.\n\n**Answer:** That is decidedly weird.\n\nPlease try it without the space, preferably by simply deleting it, or, if need be, by replacing it with an underscore or something.\n\nI am not aware of any of the conventions you refer to, and I am aware of heaps of problems caused by spaces in file paths.\n\nThe fact that it works with a space in 2015 is strange, and it could very well be the reason it fails in 2016.\n\n**Response:** I found the solution.\n\nYou were on the right track though, even though that didn't ultimately help me find the solution any sooner.\n\nWhile having a space in the URL worked fine in 2015 and not on 2016, replacing the space with a pike '|' symbol works on both versions.\n\nI found the answer within the Revit 2016 SDK, which includes a Revit Viewer example written in C++.\n\nThis is the working 2016 URL to get the contents of the root\n\n<pre>\nhttp://RevitHost/RevitServerAdminRESTService2016​/​A​dminRESTService.svc/|/contents\n</pre>\n\n**Answer:** Congratulations on solving the problem!\n\nThank you for confirming.\n\nActually, I now see that this is also documented in the Revit Server REST API documentation in the PDF file named 'Revit Server REST API Reference.pdf' in the Revit SDK 'Revit Server SDK' subfolder.\n\nIt clearly states:\n\n> Since slashes '\\' and backslashes '/' are URL special characters, object paths are formatted as:\n\n<pre>\nServer root: '|'\nFolder Path: 'folderName1[|folderName2[...]]'\nModel Path: '[folderName1[|folderName2[...]|]]modelName.rvt'\n</pre>"
  }
]