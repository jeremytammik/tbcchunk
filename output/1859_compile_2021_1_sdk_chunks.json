[
  {
    "original_filename": "1859_compile_2021_1_sdk",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\ntwitter:\n\nI document my compilation, adaptation and installation of the Revit SDK samples and the RvtSamples external application loading them all, plus the new SDK sample CivilAlignments for the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://bit.ly/rvt_2021_1_sdk\n \nI document my compilation, adaptation and installation of the Revit SDK samples and the RvtSamples external application loading them all\n&ndash; Compiling the Revit 2021.1 SDK samples\n&ndash; Architecture mismatch warning and <code>RvtSamples.txt</code>\n&ndash; New SDK sample CivilAlignments...\n\nlinkedin:\n\nI document my compilation, adaptation and installation of the Revit SDK samples and the RvtSamples external application loading them all, plus the new SDK sample CivilAlignments for the #RevitAPI\n\nhttps://bit.ly/rvt_2021_1_sdk\n \nI document my compilation, adaptation and installation of the Revit SDK samples and the RvtSamples external application loading them all:\n\n- Compiling the Revit 2021.1 SDK samples\n- Architecture mismatch warning and <code>RvtSamples.txt</code>\n- New SDK sample CivilAlignments...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1859_compile_2021_1_sdk",
    "header_text": "Compile and Compare the Revit 2021.1 SDK Samples",
    "local_header_href": "#compile-and-compare-the-revit-20211-sdk-samples",
    "chunk_text": "### Compile and Compare the Revit 2021.1 SDK Samples\n\nOnce again, I document my compilation, adaptation and installation of the Revit SDK samples and the RvtSamples external application loading them all:\n\n- [Compiling the Revit 2021.1 SDK samples](#2)\n- [Architecture mismatch warning and `RvtSamples.txt`](#3)\n- [New SDK sample &ndash; CivilAlignments](#4)"
  },
  {
    "original_filename": "1859_compile_2021_1_sdk",
    "header_text": "Compiling the Revit 2021.1 SDK Samples",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> Compiling the Revit 2021.1 SDK Samples\n\nCompiling the Revit SDK Samples updated for each new major release was once a major undertaking due to hundreds of compiler errors.\n\nIn the last couple of years, happily, it became much easier.\n\nThis time around, it was a bit trickier again.\n\nHappily, I documented the hassle involved\nin [compiling the initial Revit 2021 SDK samples](https://thebuildingcoder.typepad.com/blog/2020/05/compiling-the-revit-2021-sdk-samples.html) in\nfull detail and was able to quite easily repeat those steps.\n\nThe main problem is very basic and not hard to fix at all: the references to the Revit API assemblies in each of the 190 sample projects is set up for different developers' specific environments using local file paths instead of an absolute path.\n\nAll you need to do is to hunt them all down and point them all to the official Revit installation location *C:\\Program Files\\Autodesk\\Revit 2021*.\n\nThis needs to be done not only in `csproj` and `vbproj` files, but also in `target` ones.\n\nAgain, I copied the original state of the Revit 2021.1 SDK to\nthe [RevitSdkSamples GitHub repository](https://github.com/jeremytammik/RevitSdkSamples) before\nanalysing the problem and applying the fixes, so you can easily retrace my steps or download the final results of my fixes and save yourself the effort of reinventing this particular wheel.\n\nHere is a list of some of my commits, releases, and error logs:\n\n- [Release 2021.1.0.0](https://github.com/jeremytammik/RevitSdkSamples/releases/tag/2021.1.0.0)\n  &ndash; replaced my fixed version of the initial Revit 2021 SDK by the official Revit 2021.1 SDK release\n  &ndash; [0 projects succeeded, 191 failed, 8977 errors and 1119 warnings](zip/revit_2021_sdk_samples_errors_warnings_1.txt)\n\nI performed the following steps to locate the API assemblies and update the references to the Revit API assembly DLLs to point to the absolute Revit.exe folder:\n\n- Fixed `HintPath` in SDKSamples.targets\n- Updated RevitAPI and RevitAPIUI `HintPath` settings in individual project files\n- Fixed `HintPath` in SDKSamples.VB.targets\n- Fixed `HintPath` in SDKSamples.Steel.targets\n\nThat enabled the first successful compilation, still producing a bunch of warnings, though:\n\n- [Release 2021.0.0.1](https://github.com/jeremytammik/RevitSdkSamples/releases/tag/2021.0.0.1)\n  &ndash; [190 projects succeeded, 0 errors and 36 warnings](zip/revit_2021_sdk_samples_errors_warnings_5.txt)"
  },
  {
    "original_filename": "1859_compile_2021_1_sdk",
    "header_text": "Architecture Mismatch Warning and RvtSamples.txt",
    "local_header_href": "#3",
    "chunk_text": "####<a name=\"3\"></a> Architecture Mismatch Warning and RvtSamples.txt\n\nMost of the warnings concern the\never-recurring [architecture mismatch issue](http://thebuildingcoder.typepad.com/blog/2013/06/processor-architecture-mismatch-warning.html)\nand can be resolved using\nmy [DisableMismatchWarning.exe utility](http://thebuildingcoder.typepad.com/blog/2013/07/recursively-disable-architecture-mismatch-warning.html)\nimplemented back in 2013 and available from\nthe [DisableMismatchWarning GitHub repository](https://github.com/jeremytammik/DisableMismatchWarning).\n\nAfter that, I set up the RvtSamples external application to locate and load all the Revit SDK sample external commands:\n\n- Fixed the architecture mismatch warning\n- Added references to civil alignments and steel connections API assemblies\n- Edited RvtSamples.txt for correct sample locations\n- Turned on RvtSamples external command class name test\n- PointsFromExcel external command was removed from Massing/PointCurveCreation sample\n- Turned off RvtSamples external command class name test\n\n- [Release 2021.0.0.2](https://github.com/jeremytammik/RevitSdkSamples/releases/tag/2021.0.0.2)\n  &ndash; [190 projects succeeded, 0 errors and 5 warnings](zip/revit_2021_sdk_samples_errors_warnings_6.txt)\n\nI will leave the remaining five warnings in there for now.\n\nOne great advantage of the GitHub repository management is that you can very easily analyse the differences between the different releases to determine the exact changes that I applied, e.g.,\n[between 2021.1.0.0 and 2021.1.0.2](https://github.com/jeremytammik/RevitSdkSamples/compare/2021.1.0.0...2021.1.0.2).\n\n<center>\n<img src=\"img/rvt_2021_1_sdk_samples.png\" alt=\"Revit 2021.1 SDK samples\" title=\"Revit 2021.1 SDK samples\" width=\"277\"/>\n</center>"
  },
  {
    "original_filename": "1859_compile_2021_1_sdk",
    "header_text": "New SDK Sample &ndash; CivilAlignments",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> New SDK Sample &ndash; CivilAlignments\n\nOne new SDK sample was added in the Revit 2021.1 SDK.\n\nCivilAlignments implements an external command and an external application demonstrating the use of the API for finding, property querying and annotating of infrastructure alignment elements:\n\n- Place major and minor alignment station label sets along an alignment\n- Display a summary of properties of the alignment element and its attached alignment station label elements\n\nInstructions:\n\nOpen *CivilAlignments_BridgeSample.rvt*.\nIt is a metric project, to demonstrate necessary unit conversions to feet.\nThe project contains an alignment.\nThe project also contains two special Arrowhead styles, Major Station Arrowhead and Minor Station Arrowhead, which are necessary for proper setup of the major and minor alignment station label set types.\nOther projects can be used, as long as they contain an alignment and have the aforementioned arrowhead styles defined.\n\n- In the Add-ins Tab, launch the *Create Station Labels* command and pick an alignment; result: \n    - Major and minor alignment station set tags are created. The major stations are placed starting at the alignment’s displayed start station, every 100m. The minor stations are placed every 10m for the first 100m.\n    - In plan views, single alignment station labels are created at every start and end of the alignment’s horizontal curve geometry. \n- In the Add-ins Tab, launch the *Show Properties* command and pick the alignment; result:\n    - A task dialog displays, listing the properties of the alignment, its horizontal curves and all of its associated station labels."
  }
]