[
  {
    "original_filename": "0581_room_computation_param",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<link href=\"bc.css\" rel=\"stylesheet\" type=\"text/css\"/>\n</head>"
  },
  {
    "original_filename": "0581_room_computation_param",
    "header_text": "New Room Computation Parameters",
    "local_header_href": "#new-room-computation-parameters",
    "chunk_text": "<h3>New Room Computation Parameters</h3><p>Isidoro Aguilera of \n\n<a href=\"http://aplicad.com\">Aplicad</a> submitted a \n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2011/04/migrating-the-building-coder-samples-to-revit-2012.html?cid=6a00e553e168978833014e8819fd5e970d#comment-6a00e553e168978833014e8819fd5e970d\">comment</a> asking \n\nhow to migrate code making use of some room computation parameters from the Revit 2011 API to Revit 2012, specifically the built-in parameters\n\n<ul>\n<li>LEVEL_ATTR_ROOM_COMPUTATION_AUTOMATIC\n<li>LEVEL_ATTR_ROOM_COMPUTATION_HEIGHT\n</li></li></ul>\n<p><strong>Question:</strong> I'm migrating a plug-in from 2011 and 2012 and experienced problems with the level type parameters BuiltInParameter.LEVEL_ATTR_ROOM_COMPUTATION_AUTOMATIC and BuiltInParameter.LEVEL_ATTR_ROOM_COMPUTATION_HEIGHT.\nThey were writable in Revit 2011, but are read-only in Revit 2012.\n\n<p>Have you experienced a similar issue when migrating your samples? \n\n<p>The following code worked in Revit 2011, and fails in 2012:\n\n<pre class=\"code\">\n  <span class=\"teal\">FilteredElementCollector</span> collector \n    = <span class=\"blue\">new</span> <span class=\"teal\">FilteredElementCollector</span>( App.Document );\n \n  IList elementos = collector\n    .OfCategory( <span class=\"teal\">BuiltInCategory</span>.OST_Levels )\n    .WhereElementIsElementType()\n    .ToElements();\n \n  <span class=\"blue\">foreach</span>( <span class=\"teal\">Element</span> e <span class=\"blue\">in</span> elementos )\n  {\n    <span class=\"teal\">Parameter</span> p = e.get_Parameter( <span class=\"teal\">BuiltInParameter</span>\n      .LEVEL_ATTR_ROOM_COMPUTATION_AUTOMATIC );\n \n    p.Set( 0 );\n \n    p = e.get_Parameter( <span class=\"teal\">BuiltInParameter</span>\n      .LEVEL_ATTR_ROOM_COMPUTATION_HEIGHT );\n \n    p.Set( 0 );\n  }\n \n</pre>\n<p><strong>Answer:</strong> In Revit 2012, levels no longer have the type parameters that existed in prior versions, and both the parameters you name are obsolete. \nInstead of using LEVEL_ATTR_ROOM_COMPUTATION_HEIGHT, you can now use LEVEL_ROOM_COMPUTATION_HEIGHT like this:\n\n<pre class=\"code\">\n      <span class=\"teal\">FilteredElementCollector</span> collector \n        = <span class=\"blue\">new</span> <span class=\"teal\">FilteredElementCollector</span>( \n          uidoc.Document );\n \n      IList&lt;<span class=\"teal\">Element</span>&gt; elementos = collector\n        .OfClass( <span class=\"blue\">typeof</span>( <span class=\"teal\">Level</span> ) )\n        .ToElements();\n \n      <span class=\"blue\">foreach</span>( <span class=\"teal\">Element</span> e <span class=\"blue\">in</span> elementos )\n      {\n        <span class=\"teal\">Parameter</span> p = e.get_Parameter( <span class=\"teal\">BuiltInParameter</span>\n          .LEVEL_ROOM_COMPUTATION_HEIGHT );\n \n        p.Set( 2.5 );\n      }\n \n</pre>\n<p>For setting the room height, you can use ROOM_COMPUTATION_HEIGHT. \nThe functionality around LEVEL_ATTR_ROOM_COMPUTATION_AUTOMATIC is totally unsupported now.\n</p></p></p></p></p></p>"
  }
]