[
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "Introduction",
    "local_header_href": "#introduction",
    "chunk_text": "<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"bc.css\">\n<script src=\"https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js\" type=\"text/javascript\"></script>\n</head>\n\n<!---\n\n- Revit 2021.1 API; 2021.1 SDK is here:\n  \\\\usmanpdaec003\\Data\\Revit\\SDK\\2021\n  https://myshare.autodesk.com/:u:/g/personal/mikako_harada_autodesk_com/EVc-ZcHTOgxJlatpdPsCnM8BBCzFDBgnki7EpRATudZryw?e=ehdzlL\n  https://www.autodesk.com/developer-network/platform-technologies/revit\n  ~/downloads/REVIT_2021_1_SDK.msi\n  REVIT_2021_1_SDK.msi 378,425,344 bytes\n\n- deprecated versus obsolete\n  Q: What does the below statement “deprecation/replacement” mean? \n  We should keep the compatibility for API, right?? \n  Is this just a update to the SDK/documentation?\n  A: Deprecated means 'it now has less value'.\n  Wikipedia explains [Deprecation](https://en.wikipedia.org/wiki/Deprecation) like this:\n  > In several fields, deprecation is the discouragement of use of some terminology, feature, design, or practice, typically because it has been superseded or is no longer considered efficient or safe, without completely removing it or prohibiting its use.\n  > It can also imply that a feature, design, or practice will be removed or discontinued entirely in the future.\n  It is not gone, not worthless.\n  Using it may produce a warning message during compilation, but it wil still work.\n  R: But note says 'replaced'. If so, the same code won’t work. Then, it’s a breaking change.  \n  A: It does not say 'replaced', but 'replacement'.\n  There is a subtle and significant difference between these two terms.\n  The former 'replaced' means that is has been replaced and is hence no longer available.\n  In that case, the method would not be marked as deprecated, but as obsolete.\n  The latter, 'replacement', means that a replacement is available in case you wish to stop using the deprecated method, but nobody forces you to do so.\n  'Deprecated' and 'replaced' has always been the terminology used by the Revit API team to mean, 'We have deprecated some functions. Here are the new ones we would like you to use as replacements. The deprecated functions will be removed in the next release.'\n\ntwitter:\n\nThe updated SDK (Software Developer's Kit) for the Revit 2021.1 update release is now available from the Revit developer centre iwth new and enhanced #RevitAPI functionality @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon https://bit.ly/rvt_2021_1_apinews\n\nThe updated SDK (Software Developer's Kit) for the Revit 2021.1 update release is now available from the Revit developer centre\n&ndash; The Revit 2021.1 SDK\n&ndash; ConnectorType API\n&ndash; Export API\n&ndash; Save As API\n&ndash; API additions\n&ndash; Civil Alignments API\n&ndash; Dimension API\n&ndash; Shared Coordinates API\n&ndash; Reset Shared Coordinates\n&ndash; Clipped state of BasePoint\n&ndash; MEP API\n&ndash; Building and Space Type\n&ndash; Zone additions...\n\nlinkedin:\n\nThe updated SDK (Software Developer's Kit) for the Revit 2021.1 update release is now available from the Revit developer centre iwth new and enhanced #RevitAPI functionality\n\nhttps://bit.ly/rvt_2021_1_apinews\n\nThe updated SDK (Software Developer's Kit) for the Revit 2021.1 update release is now available from the Revit developer centre:\n\n- The Revit 2021.1 SDK\n- ConnectorType API\n- Export API\n- Save As API\n- API additions\n- Civil Alignments API\n- Dimension API\n- Shared Coordinates API\n- Reset Shared Coordinates\n- Clipped state of BasePoint\n- MEP API\n- Building and Space Type\n- Zone additions...\n\n#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk\n\nthe [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread\n\n<center>\n<img src=\"img/\" alt=\"\" title=\"\" width=\"600\"/>\n<p style=\"font-size: 80%; font-style:italic\"></p>\n</center>\n\n-->"
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "Revit 2021.1 SDK and What's New",
    "local_header_href": "#revit-20211-sdk-and-whats-new",
    "chunk_text": "### Revit 2021.1 SDK and What's New\n\nTwo weeks ago, we mentioned\nthe [Revit 2021.1 update release](https://thebuildingcoder.typepad.com/blog/2020/07/revit-20211-update-and-normalising-custom-export-uv.html#2).\n\nNow, the corresponding updated SDK (Software Developer's Kit) is also available.\n\nHere are some notes on that, together with an online copy of the information from its *What's New* section:\n\n- [The Revit 2021.1 SDK](#2)\n- [What's New in Previous Versions](#3)\n- [Deprecated versus obsolete](#4)\n- [API changes](#5)\n    - [ConnectorType API change](#5.1)\n    - [Export API change](#5.2)\n    - [Save As API change](#5.2)\n- [API additions](#6)\n    - [Civil Alignments API](#6.1)\n    - [Dimension API additions](#6.2)\n    - [Shared Coordinates API additions](#6.3)\n        - [Reset Shared Coordinates](#6.3.1)\n        - [Clipped state of BasePoint](#6.3.2)\n    - [MEP API Additions](#6.4)\n        - [Building and Space Type additions](#6.4.1)\n        - [Zone additions](#6.4.2)\n- [Random Selection of Issues Resolved](#7)"
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "The Revit 2021.1 SDK",
    "local_header_href": "#2",
    "chunk_text": "####<a name=\"2\"></a> The Revit 2021.1 SDK\n\nPlease note that the updated SDK (Software Developer's Kit) for\nthe [Revit 2021.1 update release](https://thebuildingcoder.typepad.com/blog/2020/07/revit-20211-update-and-normalising-custom-export-uv.html#2)\nis now available for download from\nthe [Revit developer centre](https://www.autodesk.com/developer-network/platform-technologies/revit).\n\n- REVIT_2021_1_SDK.msi (378,425,344 bytes)\n\nThe information below is based on the contents of the *Revit Platform API Changes and Additions.docx* document included with\nthe Revit 2021.1 SDK.\nIt is also provided in the section on *What's New* in the Revit 2021.1 API help file `RevitAPI.chm` included with the SDK:\n\n<center>\n<img src=\"img/rvt_2021_1_sdk_chm_whats_new.png\" alt=\"Revit 2021.1 API help file section on What's New\" title=\"Revit 2021.1 API help file section on What's New\" width=\"600\"/> <!-- 1508 -->\n</center>\n\nFor convenient, easy and effective web searching, this blog post provides an online version of that information.\n\nThe *What's New* section and the *Changes and Additions* document provide important information, both for discovering and exploring the newly added API functionality and for later reference.\n\nIf you encounter any issues migrating your existing add-ins between different versions, this is one of the first places to look.\n\nFor detailed information on all other aspects of the Revit API, please refer to the rest of the API documentation and samples provided in the SDK.\n\nThe most important things to install and always keep at hand are:\n\n- The Revit API help file `RevitAPI.chm`\n- The Visual Studio solution containing all the SDK samples, `Samples\\SDKSamples.sln`\n\nYou will need both of these regularly for research on how to solve specific Revit API programming tasks.\n\nMore in-depth official explanations and background information is provided by the\nonline [Revit API Developers Guide](http://help.autodesk.com/view/RVT/2021/ENU/?guid=Revit_API_Revit_API_Developers_Guide_html) included \nin the [Revit 2021 online help](http://help.autodesk.com/view/RVT/2021/ENU).\n\n\n####<a name=\"3\"></a>What's New in Previous Versions\n\nHere are links to previous discussions of *What's New in the Revit API*:\n\n- [What's New in the Revit 2010 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2010-api.html)\n- [What's New in the Revit 2011 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2011-api.html)\n- [What's New in the Revit 2012 API](http://thebuildingcoder.typepad.com/blog/2013/02/whats-new-in-the-revit-2012-api.html)\n- [What's New in the Revit 2013 API](http://thebuildingcoder.typepad.com/blog/2013/03/whats-new-in-the-revit-2013-api.html)\n- [What's New in the Revit 2014 API](http://thebuildingcoder.typepad.com/blog/2013/04/whats-new-in-the-revit-2014-api.html)\n- [What's New in the Revit 2015 API](http://thebuildingcoder.typepad.com/blog/2014/04/whats-new-in-the-revit-2015-api.html)\n- [What's New in the Revit 2016 API](http://thebuildingcoder.typepad.com/blog/2015/04/whats-new-in-the-revit-2016-api.html)\n- [What's New in the Revit 2017 API](http://thebuildingcoder.typepad.com/blog/2016/04/whats-new-in-the-revit-2017-api.html)\n- [What's New in the Revit 2017.1 API](http://thebuildingcoder.typepad.com/blog/2016/11/whats-new-in-the-revit-20171-api.html)\n- [What's New in the Revit 2018 API](http://thebuildingcoder.typepad.com/blog/2017/04/whats-new-in-the-revit-2018-api.html)\n- [Revit 2018.1 and the Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/08/revit-20181-and-the-visual-materials-api.html)\n- [Revit 2018.1.1 and 2018.1 API Docs Online](http://thebuildingcoder.typepad.com/blog/2017/09/revit-201811-fixes-cropbox-setting.html)\n- [Revit 2018.1 Visual Materials API](http://thebuildingcoder.typepad.com/blog/2017/11/modifying-material-visual-appearance.html)\n- [What's New in the Revit 2018.2 API](http://thebuildingcoder.typepad.com/blog/2017/12/whats-new-in-the-revit-20182-api.html)\n- [What's New in the Revit 2019 API](http://thebuildingcoder.typepad.com/blog/2018/04/whats-new-in-the-revit-2019-api.html)\n- [What's New in the Revit 2020 API](https://thebuildingcoder.typepad.com/blog/2019/04/whats-new-in-the-revit-2020-api.html)\n- [What's New in the Revit 2020.1 API](https://thebuildingcoder.typepad.com/blog/2019/09/whats-new-in-the-revit-20201-api.html)\n- [What's New in the Revit 2021 API](https://thebuildingcoder.typepad.com/blog/2020/04/whats-new-in-the-revit-2021-api.html)"
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "Deprecated versus Obsolete",
    "local_header_href": "#4",
    "chunk_text": "####<a name=\"4\"></a> Deprecated versus Obsolete\n\nBefore we get deeper into the API changes and additions, a short clarification on the terminology used.\n\n**Question:** What does the below statement “deprecation/replacement” mean?\n\nWe should keep the compatibility for API, right?? \n\nIs this just an update to the SDK/documentation?\n\n**Answer:** Deprecated means 'it now has less value'.\n\nWikipedia explains [Deprecation](https://en.wikipedia.org/wiki/Deprecation) like this:\n\n> In several fields, deprecation is the discouragement of use of some terminology, feature, design, or practice, typically because it has been superseded or is no longer considered efficient or safe, without completely removing it or prohibiting its use.\n\n> It can also imply that a feature, design, or practice will be removed or discontinued entirely in the future.\n\nIt is not gone, not worthless.\n\nUsing it may produce a warning message during compilation, but it will still work.\n\n**Response:** But note says 'replaced'. If so, the same code won’t work. Then, it’s a breaking change.\n\n**Answer:** It does not say 'replaced', but 'replacement'.\n\nThere is a subtle and significant difference between these two terms.\n\nThe former 'replaced' means that is has been replaced and is hence no longer available.\n\nIn that case, the method would not be marked as deprecated, but as obsolete.\n\nThe latter, 'replacement', means that a replacement is available in case you wish to stop using the deprecated method, but nobody forces you to do so.\n\n'Deprecated' and 'replaced' has always been the terminology used by the Revit API team to mean, 'We have deprecated some functions. Here are the new ones we would like you to use as replacements. The deprecated functions will be removed in the next release.'\n\nWith that potential misunderstanding out of the way, here is an overview of the major additions to the Revit 2021.1 API, split into separate sections\non [API changes](#5) and [API additions](#6):"
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "API changes",
    "local_header_href": "#5",
    "chunk_text": "####<a name=\"5\"></a> API changes\n\n####<a name=\"5.1\"></a> ConnectorType API change\n\nThe following function has been deprecated and replaced:\n\n- ConnectorType.MasterSurface() &rarr; ConnectorType.MainSurface()\n\n####<a name=\"5.2\"></a> Export API change\n\nThe following property has been deprecated and replaced:\n\n- DGNExportOptions.MasterUnits &rarr; DGNExportOptions.WorkingUnits\n\n####<a name=\"5.2\"></a> Save As API change\n\nThe following properties have been deprecated and replaced:\n\n- DocumentSavingAsEventArgs.IsSavingAsMasterFile &rarr; DocumentSavingAsEventArgs.IsSavingAsCentralFile\n- DocumentSavedAsEventArgs.IsSavingAsMasterFile &rarr; DocumentSavedAsEventArgs.IsSavingAsCentralFile"
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "API additions",
    "local_header_href": "#6",
    "chunk_text": "####<a name=\"6\"></a> API additions\n\n####<a name=\"6.1\"></a> Civil Alignments API\n\nRevit now provides support for Civil Alignments and their associated annotations.\nAlignments are imported from InfraWorks as a part of the workflow to transfer Civil Structures.\nThe API supports read of alignment properties and geometric information, along with read/write and create of associated annotations.\nAll new classes for the Alignments API are exposed through a different assembly in the Revit installation, located at:\n\n- Addins\\CivilAlignments\\Autodesk.CivilAlignments.DBApplication.dll \n\nThe new class:\n\n- Autodesk.Revit.DB.Infrastructure.Alignment\n\nrepresents an alignment and can be used to find alignments in a document, and to query a particular alignment's properties and to analyse alignment geometry. This object is not an Element, but the underlying Element can be obtained from this object if needed.\n\nThe new class:\n\n- Autodesk.Revit.DB.Infrastructure.AlignmentStationLabel\n\nrepresents an alignment station label annotation and can be used to find such labels in a document as well as to create and modify such labels. This object is not an Element, but the underlying Element (which is a SpotDimension instance) can be obtained from this object if needed.\n\nThe new classes:\n\n- Autodesk.Revit.DB.Infrastructure.AlignmentStationLabelOptions\n- Autodesk.Revit.DB.Infrastructure.AlignmentStationLabelSetOptions\n\nprovide options for creating a single alignment label or for creating a set of alignment labels.\n\n####<a name=\"6.2\"></a> Dimension API additions\n\nSeveral new properties allow access to positioning for various parts of a dimension:\n\n- Dimension.TextPosition\n- Dimension.LeaderEndPosition\n- Dimension.HasLeader\n- SpotDimension.LeaderElbowPosition\n- SpotDimension.LeaderHasElbow\n\n####<a name=\"6.3\"></a> Shared Coordinates API additions\n\n####<a name=\"6.3.1\"></a> Reset Shared Coordinates\n\nThe new method:\n\n- Document.ResetSharedCoordinates()\n\nresets the shared coordinates for the host model. It provides the same functionality as the UI Command \"Reset Shared Coordinates\". \n\nAfter resetting coordinates, the following changes will take place:\n\n1. GIS coordinate system will be erased\n2. Shared coordinates relationships with other linked models will be eliminated.\n3. The Survey Point will be moved back to the startup location, where it coincides with the Internal Origin.\n4. The angle between Project North and True North will be reset to 0.\n\nNote: There will be no changes to linked models.\n\n####<a name=\"6.3.2\"></a> Clipped state of BasePoint\n\nThe new property: \n\n- bool BasePoint.Clipped\n\nwill get or set the clipped state of the survey point BasePoint based on the active ProjectLocation of its Document. For the project base point, the get method will always return false, and the set method will throw an exception.\n\n####<a name=\"6.4\"></a> MEP API Additions\n\n####<a name=\"6.4.1\"></a> Building and Space Type additions\n\nSeveral new properties have been added for Building and Space Types:\n\n- HVACLoadType.HeatingSetPoint &ndash; The heating temperature set point in unit Kelvin (K).\n- HVACLoadType.CoolingSetPoint &ndash; The cooling temperature set point in unit Kelvin (K).\n- HVACLoadType.HumidificationSetPoint &ndash; The humidification set point as a number between 0 and 1.\n- HVACLoadType.DehumidificationSetPoint &ndash; The dehumidification set point as a number between 0 and 1.\n\n####<a name=\"6.4.2\"></a> Zone additions\n\nThe new property:\n\n- GenericZone.LevelOffset\n\ngets or sets the offset distance from this zone to the associated level."
  },
  {
    "original_filename": "1858_whats_new_2021_1",
    "header_text": "Random Selection of Issues Resolved",
    "local_header_href": "#7",
    "chunk_text": "####<a name=\"7\"></a> Random Selection of Issues Resolved\n\nThe Revit 2021.1 update release resolves a number of reported issues.\n\nThis is mainly a note to self on the following microscopic and totally random selection of a handful of development tickets that I encountered myself:\n\n- [Obfuscation problem](https://forums.autodesk.com/t5/revit-api-forum/issue-on-revit-2021-with-assembly-protections-and-addin-loading/m-p/9433973)\n  &ndash; *REVIT-160709 RVTPR-00662: AddinManager Error for Obfuscated Add-ins*\n- [Cyrillic characters in lookup tables](https://forums.autodesk.com/t5/revit-api-forum/russian-letters-doesn-t-export-in-lookup-tables/m-p/9056270)\n  &ndash; *REVIT-153006 Encoding issue reading data from size lookup table with Cyrillic characters -- 15738224*\n- [Extensible storage schema with `UT_Custom`](https://thebuildingcoder.typepad.com/blog/2020/04/whats-new-in-the-revit-2021-api.html#comment-4883962120)\n  &ndash; *REVIT-161725 R2021 Schema with UT_Custom causes internal error*\n- Documentation errors and an invalid error reporting email address in the SDK itself\n  &ndash; *REVIT-163108 incorrect email and year in Revit API docs -- 16587872*"
  }
]